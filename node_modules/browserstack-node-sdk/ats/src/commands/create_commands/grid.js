const a9_0x415ee1=a9_0x4528;function a9_0x4528(_0x14ab3b,_0x3f4de8){const _0x384736=a9_0x3847();return a9_0x4528=function(_0x45287d,_0x4d59b4){_0x45287d=_0x45287d-0xf2;let _0x1a09c9=_0x384736[_0x45287d];return _0x1a09c9;},a9_0x4528(_0x14ab3b,_0x3f4de8);}(function(_0xc52ee7,_0x3954b6){const _0x528e63=a9_0x4528,_0x39a5c0=_0xc52ee7();while(!![]){try{const _0xb3ffe0=-parseInt(_0x528e63(0xfe))/0x1*(-parseInt(_0x528e63(0x22e))/0x2)+-parseInt(_0x528e63(0x12d))/0x3*(-parseInt(_0x528e63(0x104))/0x4)+-parseInt(_0x528e63(0x165))/0x5+parseInt(_0x528e63(0x1a7))/0x6*(parseInt(_0x528e63(0x273))/0x7)+-parseInt(_0x528e63(0x158))/0x8+parseInt(_0x528e63(0x1de))/0x9+-parseInt(_0x528e63(0x1fa))/0xa;if(_0xb3ffe0===_0x3954b6)break;else _0x39a5c0['push'](_0x39a5c0['shift']());}catch(_0x55561b){_0x39a5c0['push'](_0x39a5c0['shift']());}}}(a9_0x3847,0xe65ff));function a9_0x3847(){const _0x231f69=['dqRsj','ZNxtM','Creating\x20Hub\x20HA\x20resources','clusterRegion','DKTZc','gdJjJ','Use\x20an\x20existing\x20grid\x20profile\x20to\x20setup\x20the\x20Automation\x20Grid.\x20By\x20default,\x20configured\x20profile\x20is\x20used.','error','Failed\x20to\x20get\x20grid\x20url\x20from\x20the\x20server.\x20Non\x20200\x20response\x20from\x20server!\x20','https://','path','Error\x20occurred\x20while\x20setting\x20up\x20Hub\x20HA\x20infra:\x20','isSubnetsValid','TWcFf','kqrhh','CXvnl','LeQqX','Spawning\x20the\x20grid\x20','Pass\x20the\x20name\x20of\x20cloud\x20provider\x20for\x20existing\x20Kubernetes\x20Cluster.','ewJkl','WONZj','SzQFD','Zritb','cloud-provider','uploaderImageVersion','create-grid-checks-auth-failed','JBzlA','metadata','sendResourceDataToHST','stack','managedBy','6SGMphb','CLI_RUN_STARTED','skipTlsCertVerify','UZsAG','type','Browserstack','connectionTimeout','dMqBT','Yflyg','RNUfV','NnUtW','string','name','https','concurrency','debug','lVRfn','CKsSw','fKTpW','OXDPT','Adding\x20Kafka\x20deployment...','QyOls','JmPQH','Cluster\x20created\x20successfully','clusterAutoUpgrade','fNaAH','NKuBD','\x20are\x20not\x20present\x20in\x20VPC:\x20','yvNuF','pSxXt','hubHaNameSpace','password','default','builder','gridName','ZTSQm','QFHZJ','annotations','\x20using\x20\x27','miVkg','4|1|3|0|2','MqFzB','Credentials\x20not\x20found!\x20Ensure\x20init\x20command\x20is\x20run\x20before\x20running\x20this\x20command.','<PasswordPlaceholder>','dffjD','minNodes','wwova','create-grid-called','0|3|1|4|2','AXkIg','split','get-grid-url-null-response','browserVersion','tOkHQ','get\x20grid\x20url\x20from\x20the\x20server.\x20Unknown\x20error!','10438128JKAQuV','wIZXM','ingress-nginx','FndiV','dFGwI','/packages/cli/create-grid-checks','Lfxej','MgMdE','UfPwX','Adding\x20Redis\x20deployment...','join','eFbGl','JBRsE','EdwII','browserstack-secret.yaml','create-grid-checks-grid-already-exists','daBqc','message','../../config/constants','utf-8','ixMwZ','info','dRKpU','6|8|4|2|0|5|7|3|1','JskXR','LFDCe','JLhMv','zAgFD','16030060CxgnCK','Hub\x20url\x20to\x20run\x20selenium\x20sessions:\x20','RGSgN','OylcA','create','YgxPV','loadAll','Flag\x20to\x20enable\x20cluster\x20auto-upgrade','DspKx','body','skip-tls-cert-verify','3|1|6|5|0|4|8|7|2','WrXyy','INlkh','amsFb','GMllB','delay','aiAJz','getResourceClientId','QpxhN','../../utils/instrumentationUtils','LhCQT','WebSocket','Deleting\x20the\x20CloudFormation\x20Stacks','Error\x20in\x20Spawning\x20the\x20Grid!\x20Error:\x20','addListeners','sqJYo','CLI_RUN_FINISHED','pjlHV','Jpusi','requestId','wNFhq','bstackUsername','reconnecting-websocket','Failed\x20to\x20validate\x20grid\x20checks\x20from\x20the\x20server.\x20Non\x20200\x20response\x20from\x20server!\x20','CThrN','uploaderVersion','pre-spawned-invalid-vpc','/wd/hub','enableHubHa','options','Added\x20Secret\x20Mapping','azurefile-csi-premium','pre-spawned-invalid-subnets','fKxgW','turboscale-uploader.yaml','Pass\x20the\x20region\x20for\x20existing\x20Kubernetes\x20Cluster.','hDdRP','PAANO','HWRrH','../../utils/utilityMethods','stringify','54ylKisG','isVPCPresent','Flag\x20to\x20enable\x20Hub\x20HA','Found\x20Subnets:\x20','cloudProvider','hub-ha','.\x20Please\x20use\x20--grid-name\x20option\x20to\x20provide\x20another\x20grid\x20name','grid-profile','NjKnr','\x20in\x20existing\x20cluster\x20\x27','Esvob','<UsernamePlaceholder>','PEcxl','The\x20grid\x20creation\x20is\x20in\x20progress.\x20It\x20could\x20take\x20as\x20long\x20as\x2015-20\x20minutes.\x20You\x20will\x20receive\x20an\x20email\x20notification\x20once\x20the\x20grid\x20is\x20ready.','premium-rwo','newCluster','ftjOV','Qcpyw','bstackAccesskey','/packages/cli/get-grid-url?gridIdentifier=','qYHSc','lnNmi','wnvwd','sendEventToBackend','kafkaPassword','Namespace\x20created','BdIyl','maxNodes','Cluster:\x20','Wypzs','iSOsA','qTTYk','ZELDC','RGYAU','JZlAI','hgTmh','Unable\x20to\x20Spawn\x20the\x20Grid!\x20Error:\x20','yETbd','gNCjs','CLI\x20run\x20finished:\x20','kiQDR','zhExu','kaPbx','boolean','Subnets:\x20','deleteCluster','AdMVR','xDnBb','Wfrgd','\x20doesn\x27t\x20exist.\x20Proceeding\x20with\x20creating\x20a\x20new\x20cluster','BBmwU','QxBOn','usage','ejOCU','WaWfW','grid-name','template','Checking\x20if\x20cluster\x20is\x20already\x20present\x20in\x20selected\x20region(','turboscale-managed-identity-','jxKhI','trinK','JMNWw','AAEYi','Epyd5nXbRK','wLMGz','YsuIr','YlUFy','cluster-autoupgrade','private-ingress-nginx-controller','10377101tyXkbZ','gridProfile','eXhqW','QjTbl','hubharesources','pre-spawned-subnets-not-selected','region','WKBcT','://','Cluster\x20not\x20found.\x20Proceeding\x20with\x20creating\x20required\x20resources.','cluster-name','xKXca','kJWmN','tchSr','edfWC','Omhok','Added\x20Kafka\x20deployment.','MlnAd','onLmi','privateGrid','zYmCw','Failed\x20to\x20delete\x20the\x20CloudFormation\x20Stacks\x20and\x20other\x20spawned\x20components.\x20Error:\x20\x20','pGajT','sRfMS','setupNewCluster','securityGroups','handler','rPDBM','nbXfQ','gaGnH','clusterAutoupgrade','getGridHostname','warn','CwJJq','lPKJa','thJIN','Fetching\x20url\x20for\x20running\x20tests\x20on\x20the\x20grid','instanceType','mbtJy','user','TIqPu','help','FAIam','Failed\x20to\x20validate\x20grid\x20checks\x20from\x20the\x20server.\x20Unknown\x20error!','username','gLwjZ','MRSLr','sLoWV','JnWxN','EKuHX','feSlw','prespawned-cluster-args-not-passed','Will\x20be\x20spawning\x20a\x20new\x20cluster\x20and\x20the\x20grid\x20','lehlp','IMXHZ','24599ruOIZV','UIrKu','eeQiK','FOoex','hMhcT','dKmbU','1419028gwQLmf','exit','Failed\x20to\x20validate\x20grid\x20checks\x20from\x20the\x20server.\x20Unauthorized\x20request!','ebEPc','bSodB','KppFh','hubHa','toLowerCase','namespace','tjprS','AdaSC','Adding\x20Secret\x20Mapping','isPrivateGrid','../..','createdBy','UkRNzNYCBU','grid','CBWBA','defaultGridProfile','ERROR','GET','Create\x20a\x20new\x20Automation\x20grid.','0|1|2|3|4','labels','DgfVG','readNamespacedService','Cluster\x20','HYYTr','bfXlF','CHQPx','got','cykVt','get-grid-url-auth-failed','WhBLK','replace','UgmkW','readFileAsync','parse','existsSync','hoawe','suVTd','6ysOgFc','Skip\x20insecure\x20cert\x20verification.','serviceAccountName','XDEuv','xZBbV','hub-ha-deployments-failed','qlxqm','non-aws-azure-cluster','VwyrT','MbvZP','IQTLP','FQklf','tiyvB','SdmUu','hubVersion','GLFXL','IYruS','createNamespace','sYROP','argv','smkdo','duNxU','kafkaUploader','hZhaN','pLUmi','RMyKz','\x20is\x20already\x20present.\x20Cannot\x20spawn\x20a\x20new\x20cluster','Pass\x20the\x20name\x20to\x20setup\x20the\x20Automation\x20Grid\x20with\x20specific\x20name.\x20Name\x20this\x20grid\x20using\x20either\x20team\x27s\x20name,\x20pipeline\x20specific\x20or\x20generic.','description','KXtgD','efs-csi','isClusterPresent','Create\x20a\x20grid\x20in\x20existing\x20Kubernetes\x20Cluster\x20on\x20AWS/Azure/GCP.','nVJef','VPC\x20selected\x20does\x20not\x20exist.\x20Please\x20try\x20again','spec','CMxcq','DzAHi','route53','JrbjB','redisPassword','kgIFg','nbefY','3270064AANlVI','aTsZh','s3bucket','templates','VDIMu','clusterName','vMkLU','Namespace\x20Created','ghkzz','EIiyO','Added\x20Turboscale\x20Uploader\x20deployment.','length','grfUy','5302715aEeicz','SHWbI','Adding\x20Turboscale\x20Uploader\x20deployment...','statusCode','kaFgO','.\x20Please\x20re\x20-\x20select\x20subnets\x20and\x20try\x20again','LOG','NihfW','Epkbn','aTaSa','\x20is\x20already\x20present.\x20Skipping\x20cluster\x20creation','Evxic','tfOrh','Will\x20be\x20spawning\x20the\x20grid\x20','xTYEp','Failed\x20to\x20get\x20grid\x20url\x20from\x20the\x20server.\x20Unauthorized\x20request!','private-grid','QAKoS','CLI\x20run\x20started','Spawning\x20Grid\x20on\x20the\x20Cluster','gridProfileId','desc','updateClusterAlreadyPresent','CpbYg','SvNbZ','nAqdq','gridProfiles','An\x20Automation\x20Grid\x20already\x20exists\x20with\x20grid\x20name\x20','UsSWZ','Cluster\x20Auto\x20Upgrade\x20is\x20enabled','Found\x20VPC:\x20','UTMyv','BxmNB','init-not-called','Added\x20Redis\x20deployment.'];a9_0x3847=function(){return _0x231f69;};return a9_0x3847();}const fs=require('fs'),ws=require('ws'),path=require(a9_0x415ee1(0x192)),yaml=require('js-yaml'),ReconnectingWebSocket=require(a9_0x415ee1(0x21b)),got=require(a9_0x415ee1(0x122)),{v4:uuidv4}=require('uuid'),webSocketUtils=require('../../utils/webSocketUtils'),{logger}=require('../../config/logger'),{getCredentialsPath,updateGlobalRegistryWithConfig,updateGlobalRegistryForHubHa,kebabCase,reportToGalactusAndSendToEDS,getAuthHeader,waitForDeployment,kubeApply,encodeBase64}=require(a9_0x415ee1(0x22c)),{getCloudProviderObject}=require('../../cloudproviders/utils'),{AWS,WS_EVENTS,global_registry,WS_ENDPOINT,DEFAULT_GRID_NAME,HELP_HEADER_MESSAGE,HELP_FOOTER_MESSAGE,messageTypes,AG_API_URL,AZURE,GCP,TURBOSCALE_DEPLOYMENT}=require(a9_0x415ee1(0x1f0)),{addGridComponents,removeGridComponents,getNamespaceUID,namespaceExists,createNamespace}=require('../../utils/gridComponents'),{createK8sClient}=require('../../utils/createk8sClient'),{sendInstrumentationEvent}=require(a9_0x415ee1(0x20e));exports['command']=a9_0x415ee1(0x114),exports[a9_0x415ee1(0x17a)]=a9_0x415ee1(0x119),exports[a9_0x415ee1(0x1c8)]=function(_0x430c11){const _0xea901f=a9_0x415ee1,_0x262346={};_0x262346[_0xea901f(0x1e6)]=_0xea901f(0x148),_0x262346[_0xea901f(0x145)]=_0xea901f(0x1b2),_0x262346[_0xea901f(0x29b)]=_0xea901f(0x18e),_0x262346['EIiyO']='Create\x20a\x20grid\x20in\x20existing\x20Kubernetes\x20Cluster\x20on\x20AWS/Azure/GCP.',_0x262346[_0xea901f(0x131)]=_0xea901f(0x19a),_0x262346[_0xea901f(0x1d0)]=_0xea901f(0x228),_0x262346[_0xea901f(0x1f2)]='Create\x20a\x20private/public\x20grid.',_0x262346['kiQDR']=_0xea901f(0x12e),_0x262346[_0xea901f(0x160)]=_0xea901f(0x259),_0x262346['PsMdK']=_0xea901f(0x230),_0x262346[_0xea901f(0x26e)]=_0xea901f(0x201),_0x262346[_0xea901f(0x253)]=_0xea901f(0x29c);const _0x51bd9a=_0x262346,_0x57ab7d={};_0x57ab7d[_0xea901f(0x149)]=_0x51bd9a[_0xea901f(0x1e6)],_0x57ab7d[_0xea901f(0x1ab)]=_0x51bd9a[_0xea901f(0x145)];const _0x5c7967={};_0x5c7967[_0xea901f(0x149)]=_0x51bd9a[_0xea901f(0x29b)],_0x5c7967[_0xea901f(0x1ab)]=_0x51bd9a[_0xea901f(0x145)];const _0x2dcd58={};_0x2dcd58['description']=_0x51bd9a[_0xea901f(0x161)],_0x2dcd58['type']=_0x51bd9a[_0xea901f(0x145)];const _0x5e3ee7={};_0x5e3ee7['description']=_0x51bd9a[_0xea901f(0x131)],_0x5e3ee7[_0xea901f(0x1ab)]=_0x51bd9a['pLUmi'];const _0x42bb75={};_0x42bb75['description']=_0x51bd9a[_0xea901f(0x1d0)],_0x42bb75['type']=_0x51bd9a[_0xea901f(0x145)];const _0x436902={};_0x436902[_0xea901f(0x149)]=_0x51bd9a['ixMwZ'],_0x436902['type']=_0x51bd9a[_0xea901f(0x145)];const _0x30bd61={};_0x30bd61[_0xea901f(0x149)]=_0x51bd9a[_0xea901f(0x256)],_0x30bd61[_0xea901f(0x1ab)]=_0x51bd9a['ghkzz'],_0x30bd61[_0xea901f(0x1c7)]=![];const _0x382352={};_0x382352['description']=_0x51bd9a['PsMdK'],_0x382352[_0xea901f(0x1ab)]=_0x51bd9a[_0xea901f(0x160)],_0x382352[_0xea901f(0x1c7)]=![];const _0x5ef3cf={};_0x5ef3cf[_0xea901f(0x149)]=_0x51bd9a[_0xea901f(0x26e)],_0x5ef3cf[_0xea901f(0x1ab)]=_0x51bd9a[_0xea901f(0x160)],_0x5ef3cf[_0xea901f(0x1c7)]=![];const _0x22daf2={};return _0x22daf2[_0xea901f(0x265)]=_0x57ab7d,_0x22daf2['grid-profile']=_0x5c7967,_0x22daf2[_0xea901f(0x27d)]=_0x2dcd58,_0x22daf2[_0xea901f(0x19f)]=_0x5e3ee7,_0x22daf2[_0xea901f(0x279)]=_0x42bb75,_0x22daf2[_0xea901f(0x175)]=_0x436902,_0x22daf2[_0xea901f(0x204)]=_0x30bd61,_0x22daf2['hub-ha']=_0x382352,_0x22daf2[_0xea901f(0x271)]=_0x5ef3cf,_0x430c11[_0xea901f(0x262)](HELP_HEADER_MESSAGE['create'])['epilogue'](HELP_FOOTER_MESSAGE)[_0xea901f(0x222)](_0x22daf2)[_0xea901f(0x29c)](_0x51bd9a['yETbd'])[_0xea901f(0x140)];},exports[a9_0x415ee1(0x28d)]=async function(_0x15bd65){const _0xb48c72=a9_0x415ee1,_0x5584ed={'fNaAH':function(_0x30c617,_0x218806){return _0x30c617(_0x218806);},'ntgLt':_0xb48c72(0x205),'hoawe':_0xb48c72(0x177),'CKsSw':_0xb48c72(0x23c),'AAEYi':_0xb48c72(0x18f),'LhCQT':'10|12|7|2|6|1|14|15|3|11|5|0|4|13|9|8','HWRrH':function(_0x313bdc,_0x3b3acb){return _0x313bdc(_0x3b3acb);},'QFHZJ':function(_0x567c1e,_0x308d24,_0x4cb887,_0x514ed2,_0x20063b,_0x31502b,_0x2d2069,_0x5b90bb,_0x4f1e2a,_0x106f60,_0x2f9a4b,_0x311e88,_0x57d86b){return _0x567c1e(_0x308d24,_0x4cb887,_0x514ed2,_0x20063b,_0x31502b,_0x2d2069,_0x5b90bb,_0x4f1e2a,_0x106f60,_0x2f9a4b,_0x311e88,_0x57d86b);},'WaWfW':function(_0x3da05c,_0x1ab0f4){return _0x3da05c!==_0x1ab0f4;},'wwova':_0xb48c72(0x293),'QpxhN':function(_0x2a1f04,_0x5182f1){return _0x2a1f04===_0x5182f1;},'vJPwA':'Pass\x20the\x20name\x20to\x20setup\x20the\x20Automation\x20Grid\x20with\x20specific\x20name.\x20Name\x20this\x20grid\x20using\x20either\x20team\x27s\x20name,\x20pipeline\x20specific\x20or\x20generic.','Zritb':'string','zKUIz':_0xb48c72(0x18e),'CThrN':_0xb48c72(0x14d),'PEcxl':_0xb48c72(0x19a),'hDdRP':_0xb48c72(0x228),'Ezaoh':'Create\x20a\x20private/public\x20grid.','UIrKu':_0xb48c72(0x12e),'QyOls':_0xb48c72(0x259),'kgIFg':_0xb48c72(0x230),'Wfrgd':'Flag\x20to\x20enable\x20cluster\x20auto-upgrade','mxHKe':_0xb48c72(0x29c),'JBzlA':_0xb48c72(0x1cf),'JZlAI':_0xb48c72(0x26d),'eeQiK':'browserstack','EKuHX':_0xb48c72(0x113),'qTTYk':'Enabling\x20Hub\x20HA\x20flow','wnvwd':function(_0x182cb8,_0x36c63c){return _0x182cb8(_0x36c63c);},'EdwII':_0xb48c72(0x182),'dqRsj':_0xb48c72(0x224),'suVTd':_0xb48c72(0x1b4),'RNUfV':'http','YlUFy':'true','uftsP':'default','xTYEp':function(_0x217e04){return _0x217e04();},'dFGwI':_0xb48c72(0x17e),'Omhok':_0xb48c72(0x1dc),'UsSWZ':_0xb48c72(0x1d1),'NihfW':function(_0x5eff7b,_0x255edf,_0x5ee3a2,_0x45cef9,_0x39d2c5,_0x3ab3da,_0x2b2753){return _0x5eff7b(_0x255edf,_0x5ee3a2,_0x45cef9,_0x39d2c5,_0x3ab3da,_0x2b2753);},'sRfMS':_0xb48c72(0x1d6),'ZqSOS':_0xb48c72(0x186),'FQklf':function(_0x345f98){return _0x345f98();},'ZTSQm':_0xb48c72(0x239),'isFpE':_0xb48c72(0x1d2),'KodKb':'Adding\x20Websocket\x20listeners','gdJjJ':_0xb48c72(0x281),'bZJyk':_0xb48c72(0x236),'ftjOV':function(_0x3f7d0f,_0x5ec0a9){return _0x3f7d0f!==_0x5ec0a9;},'ejOCU':'fHhIt','tEqwu':_0xb48c72(0x26a),'CBxZf':'cluster-name,\x20cloud-provider\x20&&\x20region\x20should\x20be\x20provided\x20when\x20spawning\x20a\x20grid\x20in\x20existing\x20(Non-BrowserStack\x20created)\x20K8s\x20cluster','VwyrT':function(_0x2ab6b0,_0x2089d4,_0x4dac85,_0x11af5e,_0x10db85,_0x1fcaae,_0x30c033,_0x126ea8){return _0x2ab6b0(_0x2089d4,_0x4dac85,_0x11af5e,_0x10db85,_0x1fcaae,_0x30c033,_0x126ea8);},'XcGYW':_0xb48c72(0xfa),'JskXR':_0xb48c72(0x130),'OdvbS':'Invalid\x20input.\x20Currently\x20Spawning\x20the\x20grid\x20in\x20AWS\x20and\x20Azure\x20cloud\x20provider\x20is\x20supported\x20using\x20CLI.','DgOyL':_0xb48c72(0x134),'wNFhq':'yZKJf','GLFXL':_0xb48c72(0x19b),'daBqc':function(_0x4df61c,_0x4c6975){return _0x4df61c!==_0x4c6975;},'CXvnl':_0xb48c72(0x1df),'MRSLr':_0xb48c72(0x123),'VDIMu':'ONEUH','UgmkW':function(_0x33ad6e,_0x5178b0){return _0x33ad6e===_0x5178b0;},'FndiV':_0xb48c72(0x251),'feSlw':_0xb48c72(0x118),'dROTe':function(_0x46b984,_0x47adb5,_0x3df442){return _0x46b984(_0x47adb5,_0x3df442);},'eFbGl':function(_0x584c1f,_0x3a2097){return _0x584c1f===_0x3a2097;},'MgMdE':_0xb48c72(0x217),'Esvob':'VPVcu','vMkLU':_0xb48c72(0x27e),'MlnAd':function(_0x2f2c13,_0x3bd63a,_0x4d6482){return _0x2f2c13(_0x3bd63a,_0x4d6482);},'OXDPT':function(_0x3ba4ac,_0x5afa6c){return _0x3ba4ac===_0x5afa6c;},'nbXfQ':function(_0x734408,_0x395db1){return _0x734408===_0x395db1;},'lnNmi':_0xb48c72(0x137),'JrbjB':'RKPpT','RMyKz':_0xb48c72(0xf2),'sqJYo':function(_0x57cf5d,_0x155b52,_0x4d919f,_0x1b0688,_0xe50f79,_0x1aa35d,_0x2e30f1,_0x2d15d0){return _0x57cf5d(_0x155b52,_0x4d919f,_0x1b0688,_0xe50f79,_0x1aa35d,_0x2e30f1,_0x2d15d0);},'CwJJq':'create-grid-checks-null-response','SHWbI':'DETWZ','uHdZt':_0xb48c72(0x125),'RGYAU':_0xb48c72(0x106),'SGNUW':_0xb48c72(0x1a1),'hMhcT':function(_0x2d1b03,_0x19d845){return _0x2d1b03!==_0x19d845;},'qRvbE':_0xb48c72(0x139),'UCOXA':_0xb48c72(0x242),'thJIN':function(_0x3630ed,_0x52b34b,_0x222e4f,_0x401399,_0x2801d4,_0x35507a,_0x3af870,_0x4ba2ef){return _0x3630ed(_0x52b34b,_0x222e4f,_0x401399,_0x2801d4,_0x35507a,_0x3af870,_0x4ba2ef);},'kqrhh':'create-grid-checks-non-200','AdMVR':'Grid\x20profile\x20fetched\x20from\x20backend','Epkbn':function(_0x2245e7,_0x361783){return _0x2245e7!==_0x361783;},'HYYTr':'fLOrj','nlqeu':_0xb48c72(0x1ed),'IMXHZ':_0xb48c72(0x25d),'INlkh':_0xb48c72(0xf4),'PAANO':'KJrBO','vcALt':'3|2|1|4|0','kJWmN':function(_0x24c405,_0x23b0ce){return _0x24c405===_0x23b0ce;},'NnUtW':'SSZBP','JmPQH':_0xb48c72(0x1b7),'rPDBM':function(_0x2a2367,_0x14e63c){return _0x2a2367===_0x14e63c;},'TaSTl':'fcVgz','ZVXwE':'Invalid\x20Grid\x20Profile.Exiting\x20the\x20CLI.','iSOsA':'create-grid-checks-invalid-profile','JBRsE':function(_0x1310fc,_0x5ed97a){return _0x1310fc===_0x5ed97a;},'sYROP':_0xb48c72(0x13d),'lBBCm':_0xb48c72(0x10e),'Lfxej':_0xb48c72(0x19c),'gNCjs':function(_0x6a9211,_0x3e443e){return _0x6a9211===_0x3e443e;},'Evxic':_0xb48c72(0x1c4),'TWcFf':'spYFs','dRKpU':function(_0x2a2e8e,_0xe41abd){return _0x2a2e8e===_0xe41abd;},'KXtgD':function(_0x4d127b,_0x4a8e5a){return _0x4d127b===_0x4a8e5a;},'GMllB':_0xb48c72(0x121),'dMqBT':_0xb48c72(0x141),'grfUy':'XEnFP','SzQFD':'MYCSR','tchSr':function(_0x52183c,_0x58b0ad){return _0x52183c!==_0x58b0ad;},'fKTpW':_0xb48c72(0x1af),'rjtfs':'tfuHm','lqAfv':_0xb48c72(0x1f5),'aTaSa':_0xb48c72(0x136),'AXkIg':'apsUE','pjlHV':function(_0x2517a8,_0x578d72){return _0x2517a8===_0x578d72;},'dKmbU':_0xb48c72(0x290),'tjprS':function(_0x4ce809,_0x2a198a){return _0x4ce809===_0x2a198a;},'fZzph':'ZxFRo','yvNuF':_0xb48c72(0x159),'JLhMv':_0xb48c72(0x27c),'kaPbx':function(_0x19c34e,_0x9ae848){return _0x19c34e!=_0x9ae848;},'zhExu':function(_0x50aa19,_0x1db616){return _0x50aa19!==_0x1db616;},'KppFh':function(_0x5c1f1d,_0x127e71){return _0x5c1f1d!=_0x127e71;},'lAnVR':function(_0x9e1d33,_0x40d08a){return _0x9e1d33>_0x40d08a;},'YsuIr':function(_0xe98073,_0x47fc5b){return _0xe98073===_0x47fc5b;},'QAKoS':'Subnets\x20not\x20selected.\x20Please\x20select\x20subnets\x20and\x20try\x20again','jxKhI':function(_0x346a7c,_0x283248,_0x3ebb2b,_0x20508c,_0x4861d3,_0x319bdb,_0x3af216,_0xcbc15b){return _0x346a7c(_0x283248,_0x3ebb2b,_0x20508c,_0x4861d3,_0x319bdb,_0x3af216,_0xcbc15b);},'hZhaN':_0xb48c72(0x278),'secGB':function(_0x1a1587,_0x308de0){return _0x1a1587===_0x308de0;},'OylcA':_0xb48c72(0x14f),'LeQqX':function(_0x1cb061,_0x4fea10,_0x2099d2,_0x26ad55,_0x554125,_0x5da333,_0x22384b,_0x37179a){return _0x1cb061(_0x4fea10,_0x2099d2,_0x26ad55,_0x554125,_0x5da333,_0x22384b,_0x37179a);},'Mlchr':_0xb48c72(0x21f),'UTMyv':function(_0x3fe0ef,_0x42b546){return _0x3fe0ef===_0x42b546;},'sLoWV':function(_0x2e92a3,_0x218d0d,_0x2d9b2d,_0x11ada0,_0x4b29df,_0x583988,_0x82a4ca,_0x3b97ea){return _0x2e92a3(_0x218d0d,_0x2d9b2d,_0x11ada0,_0x4b29df,_0x583988,_0x82a4ca,_0x3b97ea);},'ZbDgf':_0xb48c72(0x225),'onLmi':_0xb48c72(0x1d7),'bSodB':_0xb48c72(0x23b),'DzAHi':_0xb48c72(0x1be),'Wypzs':function(_0x461e79,_0x46b9e6){return _0x461e79===_0x46b9e6;},'FAIam':function(_0x708e78,_0x3215a6){return _0x708e78===_0x3215a6;},'LFDCe':_0xb48c72(0x18a),'QjTbl':function(_0x53938c,_0x221fab,_0x5e6f04){return _0x53938c(_0x221fab,_0x5e6f04);},'duNxU':_0xb48c72(0x10f),'WrXyy':_0xb48c72(0x111),'WKBcT':_0xb48c72(0x15b),'JnWxN':_0xb48c72(0x277),'bWKRc':_0xb48c72(0x1ec),'DspKx':_0xb48c72(0x1f1),'FOoex':function(_0x2574ac,_0x1106b9){return _0x2574ac(_0x1106b9);},'DgfVG':function(_0x373c64,_0x2c0885){return _0x373c64(_0x2c0885);},'fKxgW':function(_0x280849,_0x2d192f){return _0x280849(_0x2d192f);},'ZELDC':function(_0x5a0ad8,_0x5c29a6,_0x24d8ac){return _0x5a0ad8(_0x5c29a6,_0x24d8ac);},'lehlp':_0xb48c72(0x223),'ebEPc':_0xb48c72(0x14b),'WPzln':function(_0x5e714a,_0x3c721b){return _0x5e714a===_0x3c721b;},'CMxcq':_0xb48c72(0x1e7),'ftxBk':'bitnami-redis.yaml','CBWBA':function(_0xd6db07,_0x276316,_0x41cd7a){return _0xd6db07(_0x276316,_0x41cd7a);},'nVJef':_0xb48c72(0x187),'JMNWw':_0xb48c72(0x1bb),'amsFb':'bitnami-kafka.yaml','bfXlF':_0xb48c72(0x283),'oqthd':_0xb48c72(0x167),'lPKJa':_0xb48c72(0x227),'kaFgO':function(_0x558ebb,_0x2899f3){return _0x558ebb===_0x2899f3;},'SvNbZ':_0xb48c72(0x162),'pGajT':'Created\x20Hub\x20HA\x20resources','nbefY':'Hub\x20HA\x20setup\x20completed\x20successfully.','BBmwU':_0xb48c72(0x11a),'aKMnU':_0xb48c72(0x132),'zAgFD':'Creating\x20namespace','aiAJz':'Browserstack','mbtJy':_0xb48c72(0x15f),'Qcpyw':_0xb48c72(0x247),'NKuBD':'Spawning\x20grid\x20on\x20to\x20the\x20cluster','SdmUu':_0xb48c72(0x178),'YgxPV':function(_0x29c856,_0x343ef4){return _0x29c856===_0x343ef4;},'ZNxtM':function(_0x7ad2ca,_0x3f073f,_0x336507,_0x3bec68,_0x14acae,_0xa0a4f6,_0x4d4455,_0x11879e,_0xddb5f9,_0x4dac46,_0x1ea0e9){return _0x7ad2ca(_0x3f073f,_0x336507,_0x3bec68,_0x14acae,_0xa0a4f6,_0x4d4455,_0x11879e,_0xddb5f9,_0x4dac46,_0x1ea0e9);},'CpbYg':'Grid\x20spawned\x20on\x20the\x20cluster','BnsWV':_0xb48c72(0x297),'miVkg':function(_0x170ca7,_0x4080fb,_0x5942cb,_0x1f88db,_0x1fd3ac){return _0x170ca7(_0x4080fb,_0x5942cb,_0x1f88db,_0x1fd3ac);},'BxmNB':function(_0x970f5e,_0x50bb7f,_0x1083cc){return _0x970f5e(_0x50bb7f,_0x1083cc);},'hRdFu':_0xb48c72(0x272),'BdIyl':'ingress-nginx-controller','zYmCw':_0xb48c72(0x1e0),'eXhqW':function(_0x406988,_0x4f13c9,_0x3437ea){return _0x406988(_0x4f13c9,_0x3437ea);},'DKTZc':_0xb48c72(0x1dd),'dffjD':function(_0x265c84,_0x485780,_0x3881c8,_0x3429a3,_0x2b39d7,_0x2edc7e,_0x419054,_0x27a096){return _0x265c84(_0x485780,_0x3881c8,_0x3429a3,_0x2b39d7,_0x2edc7e,_0x419054,_0x27a096);},'qlxqm':_0xb48c72(0x1da),'tfOrh':_0xb48c72(0x174),'XPfxb':_0xb48c72(0x124),'UZsAG':function(_0x6cb50f,_0x18e927){return _0x6cb50f!==_0x18e927;},'RGSgN':function(_0x3e3618,_0x42ad25,_0x5d09f4,_0x609b5d,_0x35e4b3,_0x31f431,_0x5dd6fd,_0x4949c1){return _0x3e3618(_0x42ad25,_0x5d09f4,_0x609b5d,_0x35e4b3,_0x31f431,_0x5dd6fd,_0x4949c1);},'dXLnV':'get-grid-url-non-200','dwETE':function(_0x381deb,_0x1fd1c5){return _0x381deb===_0x1fd1c5;},'QxBOn':_0xb48c72(0x211),'GdKcB':function(_0x3499c2,_0x57615e,_0x420a86,_0x278384,_0x4c3619,_0x30847e){return _0x3499c2(_0x57615e,_0x420a86,_0x278384,_0x4c3619,_0x30847e);},'vTRYL':function(_0x2a4ece,_0x46855d,_0x535c7a,_0x41536f,_0x4f0138,_0x4a13d5,_0x4802f0){return _0x2a4ece(_0x46855d,_0x535c7a,_0x41536f,_0x4f0138,_0x4a13d5,_0x4802f0);},'azOef':'grid-spawning-failed'};let _0x3170fb=![],_0x3fc615=![],_0x1b5554,_0x162dcc,_0x8e1246,_0x55b45a,_0x489a87,_0x4c2f67,_0x2aa47c,_0x2523f5,_0x290570,_0x2eef6c,_0x18d508,_0x7b9476,_0x5b275e,_0x398ba1,_0x12424a=0x1,_0x4c3ab1=0xe;try{global_registry[_0xb48c72(0x218)]=_0x5584ed[_0xb48c72(0x173)](uuidv4),global_registry['isPrivateGrid']=![];!fs[_0xb48c72(0x12a)](_0x5584ed[_0xb48c72(0x173)](getCredentialsPath))&&(_0x5584ed['QpxhN'](_0x5584ed[_0xb48c72(0x1e2)],_0x5584ed[_0xb48c72(0x282)])?(_0x1e4605[_0xb48c72(0x279)]=_0x5d1c92,_0x4a6bde[_0xb48c72(0x232)]=_0x5560bb,_0x184d84[_0xb48c72(0x23d)]=!![],_0xad6bdd[_0xb48c72(0x1bf)]=_0x150190[_0xb48c72(0x291)]):(console[_0xb48c72(0x18f)](_0x5584ed[_0xb48c72(0x181)]),await _0x5584ed[_0xb48c72(0x16c)](sendInstrumentationEvent,_0x15bd65,_0x5584ed[_0xb48c72(0x28a)],messageTypes[_0xb48c72(0x117)],_0x5584ed['ZqSOS'],null,_0x15bd65),process['exit'](0x1)));await _0x5584ed[_0xb48c72(0x16c)](sendInstrumentationEvent,_0x15bd65,_0x5584ed['sRfMS'],messageTypes['INFO'],null,null,_0x15bd65);const _0x376d6d=JSON[_0xb48c72(0x129)](fs['readFileSync'](_0x5584ed[_0xb48c72(0x138)](getCredentialsPath)));global_registry[_0xb48c72(0x21a)]=_0x376d6d[_0xb48c72(0x1ac)]['username'],global_registry[_0xb48c72(0x240)]=_0x376d6d[_0xb48c72(0x1ac)][_0xb48c72(0x1c6)];const _0x812083=WS_ENDPOINT[_0xb48c72(0x126)](_0x5584ed[_0xb48c72(0x1ca)],_0x376d6d[_0xb48c72(0x1ac)][_0xb48c72(0xf3)])[_0xb48c72(0x126)](_0x5584ed['isFpE'],_0x376d6d[_0xb48c72(0x1ac)][_0xb48c72(0x1c6)]),_0x3038f4={};_0x3038f4[_0xb48c72(0x210)]=ws,_0x3038f4[_0xb48c72(0x1ad)]=0x36ee80,_0x7b9476=new ReconnectingWebSocket(_0x812083,[],_0x3038f4),logger[_0xb48c72(0x1b6)](_0x5584ed['KodKb']),webSocketUtils[_0xb48c72(0x213)](_0x7b9476,_0x15bd65[_0xb48c72(0x29a)],_0x15bd65[_0xb48c72(0x1c6)]);const _0x16533d=_0x15bd65[_0xb48c72(0x1c9)]||DEFAULT_GRID_NAME;if(_0x15bd65['clusterName']||_0x15bd65[_0xb48c72(0x232)]||_0x15bd65[_0xb48c72(0x279)]){if(_0x5584ed['QpxhN'](_0x5584ed[_0xb48c72(0x18d)],_0x5584ed['bZJyk']))_0x5584ed[_0xb48c72(0x1c0)](_0x51c36c,_0x3b9737[_0xb48c72(0x21e)]);else{!(_0x15bd65[_0xb48c72(0x15d)]&&_0x15bd65['cloudProvider']&&_0x15bd65[_0xb48c72(0x279)])&&(_0x5584ed['ftjOV'](_0x5584ed[_0xb48c72(0x263)],_0x5584ed['tEqwu'])?(_0x1b5554=_0x5584ed['CBxZf'],await _0x5584ed[_0xb48c72(0x135)](reportToGalactusAndSendToEDS,_0x15bd65,_0x7b9476,_0x1b5554,messageTypes[_0xb48c72(0x117)],_0x5584ed[_0xb48c72(0x28a)],_0x5584ed['XcGYW'],_0x5584ed[_0xb48c72(0x26c)]),logger['error'](_0x1b5554),process[_0xb48c72(0x105)](0x1)):_0x2672ff=_0xb019c2[_0x59c048[_0xb48c72(0x274)]]);![AWS,AZURE,GCP]['includes'](_0x15bd65[_0xb48c72(0x232)][_0xb48c72(0x10b)]())&&(_0x5584ed[_0xb48c72(0x264)](_0x5584ed[_0xb48c72(0x1f6)],_0x5584ed[_0xb48c72(0x1f6)])?_0x2e7e9a[_0xb48c72(0x110)]=!![]:(_0x1b5554=_0x5584ed['OdvbS'],await _0x5584ed[_0xb48c72(0x135)](reportToGalactusAndSendToEDS,_0x15bd65,_0x7b9476,_0x1b5554,messageTypes[_0xb48c72(0x117)],_0x5584ed[_0xb48c72(0x28a)],_0x5584ed['DgOyL'],_0x5584ed[_0xb48c72(0x26c)]),logger[_0xb48c72(0x18f)](_0x1b5554),process['exit'](0x1)));if(_0x15bd65[_0xb48c72(0x286)]&&_0x5584ed[_0xb48c72(0x20d)](_0x15bd65[_0xb48c72(0x286)][_0xb48c72(0x10b)](),_0x5584ed[_0xb48c72(0x270)])){if(_0x5584ed[_0xb48c72(0x20d)](_0x5584ed[_0xb48c72(0x219)],_0x5584ed[_0xb48c72(0x13c)])){const _0x11c7e0=_0x5584ed['ntgLt'][_0xb48c72(0x1d9)]('|');let _0x394f46=0x0;while(!![]){switch(_0x11c7e0[_0x394f46++]){case'0':_0xa73f2f['cloudProvider']=_0x30285f;continue;case'1':_0x344096=_0xb48c72(0x199)+_0x5118be+_0xb48c72(0x237)+_0x14e277+'\x27';continue;case'2':_0x271d32['browserVersion']=_0x460705[_0xb48c72(0x1db)];continue;case'3':const _0x324377={};_0x324377[_0xb48c72(0x1ab)]=_0x58faf1['CLI_RUN_STARTED'],_0x324377[_0xb48c72(0x1ef)]=_0x5584ed[_0xb48c72(0x12b)],_0x5a8631['sendEventToBackend'](_0x38593a,_0x324377);continue;case'4':_0x5d5e5c[_0xb48c72(0x18b)]=_0x50c9f9;continue;case'5':const _0x9adac8={};_0x9adac8['type']=_0x73c36[_0xb48c72(0x16b)],_0x9adac8['message']=_0x4563d4,_0x1ec1d4['sendEventToBackend'](_0x244385,_0x9adac8);continue;case'6':_0x18e675[_0xb48c72(0x1f3)](_0x19176f);continue;case'7':_0x181ed5[_0xb48c72(0x13b)]=_0x41dca0['hubVersion'];continue;case'8':_0x58c991[_0xb48c72(0x15d)]=_0x30654c;continue;}break;}}else global_registry[_0xb48c72(0x110)]=!![];}global_registry[_0xb48c72(0x232)]=_0x15bd65[_0xb48c72(0x232)],global_registry['clusterRegion']=_0x15bd65['region'],global_registry[_0xb48c72(0x15d)]=_0x15bd65[_0xb48c72(0x15d)];const _0xc0567=await _0x5584ed['NihfW'](getCloudProviderObject,_0x15bd65[_0xb48c72(0x232)],_0x15bd65[_0xb48c72(0x15d)],_0x16533d,_0x7b9476,webSocketUtils,_0x15bd65),_0x2f208a=await _0xc0567[_0xb48c72(0x14c)]();!_0x2f208a?_0x5584ed['daBqc'](_0x5584ed[_0xb48c72(0x197)],_0x5584ed[_0xb48c72(0xf5)])?(logger['info'](_0xb48c72(0x24a)+_0x15bd65[_0xb48c72(0x15d)]+_0xb48c72(0x25f)),_0x3170fb=![],_0x3fc615=!![]):_0x2bd801=_0x5584ed[_0xb48c72(0x1b8)]:_0x5584ed[_0xb48c72(0x264)](_0x5584ed[_0xb48c72(0x15c)],_0x5584ed[_0xb48c72(0x15c)])?(_0x32a573[_0xb48c72(0x1f3)](_0xb48c72(0x24a)+_0x2ceae4[_0xb48c72(0x15d)]+_0xb48c72(0x25f)),_0x495a60=![],_0x1be71d=!![]):_0x3170fb=!![],_0x8e1246=_0x15bd65['clusterName'],_0x162dcc=_0x15bd65['cloudProvider'][_0xb48c72(0x10b)](),_0x55b45a=_0x15bd65['region'];}}else{if(_0x15bd65[_0xb48c72(0x274)]){if(_0x5584ed[_0xb48c72(0x127)](_0x5584ed['FndiV'],_0x5584ed[_0xb48c72(0x1e1)]))global_registry[_0xb48c72(0x274)]=_0x15bd65['gridProfile'];else{const _0x20ace2={};_0x20ace2[_0xb48c72(0x1ab)]=_0x587c35['LOG'],_0x20ace2[_0xb48c72(0x1ef)]=_0xdde5ca,_0x3926be[_0xb48c72(0x245)](_0x1a10ff,_0x20ace2,_0x5584ed[_0xb48c72(0x26c)],!![]);}}}global_registry[_0xb48c72(0x1c9)]=_0x15bd65['gridName'];const _0x13f817={'method':_0x5584ed[_0xb48c72(0xf9)],'headers':_0x5584ed['dROTe'](getAuthHeader,_0x376d6d[_0xb48c72(0x1ac)][_0xb48c72(0xf3)],_0x376d6d[_0xb48c72(0x1ac)][_0xb48c72(0x1c6)]),'throwHttpErrors':![]},_0x147ba9={};_0x147ba9['gridName']=_0x16533d;const _0x39613c=_0x147ba9;_0x3fc615&&(_0x5584ed[_0xb48c72(0x1e9)](_0x5584ed[_0xb48c72(0x1e5)],_0x5584ed[_0xb48c72(0x238)])?_0x2aafc8[_0xb48c72(0x1f3)](_0xb48c72(0x231)+_0x2e589a[_0xb48c72(0x22d)](_0x38544e)+'\x20'):(_0x39613c[_0xb48c72(0x279)]=_0x55b45a,_0x39613c[_0xb48c72(0x232)]=_0x162dcc,_0x39613c['newCluster']=!![],_0x39613c[_0xb48c72(0x1bf)]=_0x15bd65['clusterAutoupgrade']));if(_0x15bd65['clusterAutoupgrade']){if(_0x5584ed['ftjOV'](_0x5584ed[_0xb48c72(0x15e)],_0x5584ed['vMkLU'])){const _0x443a79=_0x5584ed[_0xb48c72(0x20f)][_0xb48c72(0x1d9)]('|');let _0x190c39=0x0;while(!![]){switch(_0x443a79[_0x190c39++]){case'0':_0x1a3944=_0x178721[_0xb48c72(0x13b)];continue;case'1':_0x104802=null;continue;case'2':_0x109665=_0x5f1fb9['concurrency'];continue;case'3':_0x508c2d=_0x4ecea8[_0xb48c72(0x15a)];continue;case'4':_0x24b449=_0x1a50a4[_0xb48c72(0x1db)];continue;case'5':_0x12b572=_0x237fe2[_0xb48c72(0x249)];continue;case'6':_0x58699a=_0x585656[_0xb48c72(0x298)];continue;case'7':const _0x1c8478={};_0x1c8478[_0xb48c72(0x1ab)]=_0x4190a7[_0xb48c72(0x16b)],_0x1c8478[_0xb48c72(0x1ef)]=_0xce3291,_0x9868e1[_0xb48c72(0x245)](_0x1a77cb,_0x1c8478);continue;case'8':_0x31743e[_0xb48c72(0x221)]&&_0x5584ed['HWRrH'](_0x5a7209,_0x45dbe3[_0xb48c72(0x143)]);continue;case'9':_0x5584ed['QFHZJ'](_0x4c0617,_0x15dc5a,_0x58a356,_0x3435fb,_0x367bfb,_0x1e480f,_0x4339d0,_0x570a60,_0x151c33,_0x377185,_0x172473,_0x192fd2,_0x40bbb9[_0xb48c72(0x291)]);continue;case'10':_0x18c293=_0xb48c72(0xfb)+_0x2e2e2c;continue;case'11':_0x5881de=_0x9419bb[_0xb48c72(0x1d4)];continue;case'12':_0x2d17ad[_0xb48c72(0x1f3)](_0x4b2e37);continue;case'13':_0x5584ed[_0xb48c72(0x264)](_0x52caa5['privateGrid'],_0x244927)&&_0x4f76b8[_0xb48c72(0x286)]&&(_0x1c957f['isPrivateGrid']=!![]);continue;case'14':_0x5c7e62=null;continue;case'15':_0x281c07=null;continue;}break;}}else logger[_0xb48c72(0x1f3)](_0x5584ed[_0xb48c72(0x1eb)]);}const _0x4f7c8b='https://'+AG_API_URL+_0xb48c72(0x1e3),_0x1aaa64={'searchParams':_0x39613c,'throwHttpErrors':![],..._0x13f817},_0x6b239b=_0x1aaa64,_0x42ee22=await _0x5584ed['MlnAd'](got,_0x4f7c8b,_0x6b239b);if(_0x5584ed[_0xb48c72(0x1ba)](_0x42ee22,null)||_0x5584ed['OXDPT'](_0x42ee22,undefined)){if(_0x5584ed['nbXfQ'](_0x5584ed[_0xb48c72(0x243)],_0x5584ed[_0xb48c72(0x154)])){const _0x1e613e={};_0x1e613e['type']=_0x445ac2[_0xb48c72(0x16b)],_0x1e613e[_0xb48c72(0x1ef)]=_0xb48c72(0x11e)+_0x43e461+'\x20is\x20already\x20present.\x20Skipping\x20cluster\x20creation',_0x26049f['sendEventToBackend'](_0x4f02ac,_0x1e613e,_0x5584ed[_0xb48c72(0x1d5)]),_0x5722b8[_0xb48c72(0x1f3)](_0xb48c72(0x11e)+_0x257fbc+_0xb48c72(0x16f)),_0x4a3979=!![];if(_0x5584ed['QpxhN'](_0x110fd8,!![]))throw new _0x77fdf('Cluster\x20'+_0x129759+_0xb48c72(0x147));}else _0x1b5554=_0x5584ed[_0xb48c72(0x146)],await _0x5584ed[_0xb48c72(0x214)](reportToGalactusAndSendToEDS,_0x15bd65,_0x7b9476,_0x1b5554,messageTypes[_0xb48c72(0x117)],_0x5584ed[_0xb48c72(0x28a)],_0x5584ed[_0xb48c72(0x294)],_0x5584ed[_0xb48c72(0x26c)]),logger[_0xb48c72(0x18f)](_0x1b5554),process['exit'](0x1);}_0x5584ed[_0xb48c72(0x28f)](_0x42ee22['statusCode'],0x191)&&(_0x5584ed[_0xb48c72(0x1ee)](_0x5584ed[_0xb48c72(0x166)],_0x5584ed['uHdZt'])?(_0x1b5554=_0x5584ed[_0xb48c72(0x24f)],await _0x5584ed[_0xb48c72(0x214)](reportToGalactusAndSendToEDS,_0x15bd65,_0x7b9476,_0x1b5554,messageTypes[_0xb48c72(0x117)],_0x5584ed[_0xb48c72(0x28a)],_0x5584ed['SGNUW'],_0x5584ed[_0xb48c72(0x26c)]),logger[_0xb48c72(0x18f)](_0x1b5554),process[_0xb48c72(0x105)](0x1)):_0x6d15af[_0xb48c72(0x274)]=_0x11aa21[_0xb48c72(0x274)]);if(_0x5584ed[_0xb48c72(0x102)](_0x42ee22[_0xb48c72(0x168)],0xc8)){if(_0x5584ed['hMhcT'](_0x5584ed['qRvbE'],_0x5584ed['UCOXA']))_0x1b5554=_0xb48c72(0x21c)+JSON[_0xb48c72(0x22d)](_0x42ee22[_0xb48c72(0x203)]),await _0x5584ed[_0xb48c72(0x296)](reportToGalactusAndSendToEDS,_0x15bd65,_0x7b9476,_0x1b5554,messageTypes[_0xb48c72(0x117)],_0x5584ed[_0xb48c72(0x28a)],_0x5584ed[_0xb48c72(0x196)],_0x5584ed['AAEYi']),logger[_0xb48c72(0x18f)](_0x1b5554),process['exit'](0x1);else{const _0x15fd98={};_0x15fd98['description']=_0x5584ed['vJPwA'],_0x15fd98[_0xb48c72(0x1ab)]=_0x5584ed[_0xb48c72(0x19e)];const _0x25afd1={};_0x25afd1[_0xb48c72(0x149)]=_0x5584ed['zKUIz'],_0x25afd1[_0xb48c72(0x1ab)]=_0x5584ed[_0xb48c72(0x19e)];const _0x4e71e6={};_0x4e71e6['description']=_0x5584ed[_0xb48c72(0x21d)],_0x4e71e6['type']=_0x5584ed[_0xb48c72(0x19e)];const _0x1138b8={};_0x1138b8[_0xb48c72(0x149)]=_0x5584ed[_0xb48c72(0x23a)],_0x1138b8[_0xb48c72(0x1ab)]=_0x5584ed[_0xb48c72(0x19e)];const _0x12f193={};_0x12f193[_0xb48c72(0x149)]=_0x5584ed[_0xb48c72(0x229)],_0x12f193[_0xb48c72(0x1ab)]=_0x5584ed['Zritb'];const _0x53aee4={};_0x53aee4[_0xb48c72(0x149)]=_0x5584ed['Ezaoh'],_0x53aee4['type']=_0x5584ed[_0xb48c72(0x19e)];const _0x11476c={};_0x11476c[_0xb48c72(0x149)]=_0x5584ed[_0xb48c72(0xff)],_0x11476c[_0xb48c72(0x1ab)]=_0x5584ed['QyOls'],_0x11476c[_0xb48c72(0x1c7)]=![];const _0x48efbd={};_0x48efbd['description']=_0x5584ed[_0xb48c72(0x156)],_0x48efbd[_0xb48c72(0x1ab)]=_0x5584ed[_0xb48c72(0x1bc)],_0x48efbd[_0xb48c72(0x1c7)]=![];const _0x510823={};_0x510823[_0xb48c72(0x149)]=_0x5584ed[_0xb48c72(0x25e)],_0x510823[_0xb48c72(0x1ab)]=_0x5584ed[_0xb48c72(0x1bc)],_0x510823[_0xb48c72(0x1c7)]=![];const _0xc506dc={};return _0xc506dc[_0xb48c72(0x265)]=_0x15fd98,_0xc506dc[_0xb48c72(0x235)]=_0x25afd1,_0xc506dc[_0xb48c72(0x27d)]=_0x4e71e6,_0xc506dc[_0xb48c72(0x19f)]=_0x1138b8,_0xc506dc['region']=_0x12f193,_0xc506dc[_0xb48c72(0x175)]=_0x53aee4,_0xc506dc[_0xb48c72(0x204)]=_0x11476c,_0xc506dc[_0xb48c72(0x233)]=_0x48efbd,_0xc506dc[_0xb48c72(0x271)]=_0x510823,_0x5493d4[_0xb48c72(0x262)](_0x33f5fe[_0xb48c72(0x1fe)])['epilogue'](_0x52ee52)['options'](_0xc506dc)['help'](_0x5584ed['mxHKe'])['argv'];}}const _0x202869=JSON[_0xb48c72(0x129)](_0x42ee22['body']),_0x2be981={};_0x2be981[_0xb48c72(0x1ab)]=WS_EVENTS[_0xb48c72(0x1a8)],_0x2be981['message']=_0x5584ed['hoawe'],webSocketUtils[_0xb48c72(0x245)](_0x7b9476,_0x2be981);const _0x33a621={};_0x33a621[_0xb48c72(0x1ab)]=WS_EVENTS[_0xb48c72(0x16b)],_0x33a621['message']=_0x5584ed[_0xb48c72(0x25c)],webSocketUtils[_0xb48c72(0x245)](_0x7b9476,_0x33a621);if(_0x202869['alreadyPresent']){if(_0x5584ed[_0xb48c72(0x16d)](_0x5584ed['HYYTr'],_0x5584ed[_0xb48c72(0x11f)])){const _0x657f75=_0x5584ed[_0xb48c72(0x1a2)]['split']('|');let _0x276342=0x0;while(!![]){switch(_0x657f75[_0x276342++]){case'0':_0x2de57a[_0xb48c72(0x246)]=_0x5584ed[_0xb48c72(0x250)];continue;case'1':_0x14ec59['hubHaNameSpace']=_0x5584ed[_0xb48c72(0x100)];continue;case'2':_0x54ea5a[_0xb48c72(0x221)]=!![];continue;case'3':_0x20417a['redisPassword']=_0x5584ed[_0xb48c72(0xf8)];continue;case'4':_0x3aa4a9[_0xb48c72(0x1f3)](_0x5584ed[_0xb48c72(0x24d)]);continue;}break;}}else _0x1b5554=_0xb48c72(0x180)+_0x16533d+_0xb48c72(0x234),await _0x5584ed[_0xb48c72(0x214)](reportToGalactusAndSendToEDS,_0x15bd65,_0x7b9476,_0x1b5554,messageTypes[_0xb48c72(0x117)],_0x5584ed[_0xb48c72(0x28a)],_0x5584ed['nlqeu'],_0x5584ed[_0xb48c72(0x26c)]),logger[_0xb48c72(0x18f)](_0x1b5554),process[_0xb48c72(0x105)](0x1);}const _0x50e96a=_0x202869[_0xb48c72(0x17f)];let _0x5b10b6=_0x50e96a[_0x202869[_0xb48c72(0x116)]];_0x15bd65['gridProfile']&&(_0x5584ed[_0xb48c72(0x23e)](_0x5584ed[_0xb48c72(0xfd)],_0x5584ed[_0xb48c72(0xfd)])?_0x5584ed[_0xb48c72(0x244)](_0x58f6eb,_0x38896e[_0xb48c72(0x143)]):_0x5b10b6=_0x50e96a[_0x15bd65[_0xb48c72(0x274)]]);global_registry['enableHubHa']=![];if(_0x15bd65[_0xb48c72(0x10a)]){if(_0x5584ed['nbXfQ'](_0x5584ed[_0xb48c72(0x207)],_0x5584ed[_0xb48c72(0x22a)]))_0x21c5f2=null;else{const _0x472280=_0x5584ed['vcALt'][_0xb48c72(0x1d9)]('|');let _0x400cf1=0x0;while(!![]){switch(_0x472280[_0x400cf1++]){case'0':global_registry['enableHubHa']=!![];continue;case'1':global_registry['redisPassword']=_0x5584ed['EKuHX'];continue;case'2':global_registry[_0xb48c72(0x1c5)]=_0x5584ed[_0xb48c72(0x100)];continue;case'3':logger[_0xb48c72(0x1f3)](_0x5584ed[_0xb48c72(0x24d)]);continue;case'4':global_registry[_0xb48c72(0x246)]=_0x5584ed[_0xb48c72(0x250)];continue;}break;}}}if(_0x5584ed[_0xb48c72(0x28f)](_0x3170fb,![])&&_0x5584ed[_0xb48c72(0x27f)](_0x3fc615,![])){if(_0x5584ed[_0xb48c72(0x20d)](_0x5584ed[_0xb48c72(0x1b1)],_0x5584ed[_0xb48c72(0x1bd)]))_0x24ed5f[_0xb48c72(0x1f3)](_0x5584ed[_0xb48c72(0x1eb)]);else{_0x5584ed[_0xb48c72(0x127)](_0x5b10b6,undefined)&&(_0x5584ed[_0xb48c72(0x28e)](_0x5584ed['TaSTl'],_0x5584ed['TaSTl'])?(_0x1b5554=_0x5584ed['ZVXwE'],await _0x5584ed[_0xb48c72(0x214)](reportToGalactusAndSendToEDS,_0x15bd65,_0x7b9476,_0x1b5554,messageTypes['ERROR'],_0x5584ed[_0xb48c72(0x28a)],_0x5584ed[_0xb48c72(0x24c)],_0x5584ed[_0xb48c72(0x26c)]),logger[_0xb48c72(0x18f)](_0x1b5554),process[_0xb48c72(0x105)](0x1)):_0x4a0b13['isPrivateGrid']=!![]);global_registry[_0xb48c72(0x179)]=_0x5b10b6['id'],_0x1b5554=_0xb48c72(0x172)+_0x16533d+_0xb48c72(0x1cd)+_0x5b10b6[_0xb48c72(0x1b3)]+'\x27\x20grid\x20profile',logger[_0xb48c72(0x1f3)](_0x1b5554);const _0x220b1a={};_0x220b1a[_0xb48c72(0x1ab)]=WS_EVENTS[_0xb48c72(0x16b)],_0x220b1a[_0xb48c72(0x1ef)]=_0x1b5554,webSocketUtils[_0xb48c72(0x245)](_0x7b9476,_0x220b1a),_0x162dcc=_0x5b10b6[_0xb48c72(0x232)],_0x8e1246=_0x5b10b6[_0xb48c72(0x15d)],_0x55b45a=_0x5b10b6['region'],_0x489a87=_0x5b10b6[_0xb48c72(0x1b5)],_0x4c2f67=_0x5b10b6[_0xb48c72(0x298)],_0x2aa47c=_0x5b10b6['vpc'],_0x2523f5=_0x5b10b6[_0xb48c72(0x28c)],_0x290570=_0x5b10b6['subnets'],_0x2eef6c=_0x5b10b6[_0xb48c72(0x15a)],_0x12424a=_0x5b10b6[_0xb48c72(0x1d4)],_0x4c3ab1=_0x5b10b6[_0xb48c72(0x249)],_0x5b275e=_0x202869['hubVersion'],_0x398ba1=_0x202869[_0xb48c72(0x1db)];_0x2aa47c&&_0x5584ed[_0xb48c72(0x1ea)](_0x2aa47c[_0xb48c72(0x163)],0x0)&&(_0x5584ed[_0xb48c72(0x1ea)](_0x5584ed[_0xb48c72(0x13f)],_0x5584ed['lBBCm'])?_0x4520cf=null:_0x2aa47c=null);_0x290570&&_0x5584ed['kJWmN'](_0x290570[_0xb48c72(0x163)],0x0)&&(_0x5584ed[_0xb48c72(0x1ee)](_0x5584ed['Lfxej'],_0x5584ed[_0xb48c72(0x1e4)])?_0x42a87f['sendResourceDataToHST']():_0x290570=null);if(_0x5584ed[_0xb48c72(0x1ee)](_0x5b10b6[_0xb48c72(0x286)],undefined)&&_0x5b10b6[_0xb48c72(0x286)]){if(_0x5584ed[_0xb48c72(0x254)](_0x5584ed[_0xb48c72(0x170)],_0x5584ed['Evxic']))global_registry[_0xb48c72(0x110)]=!![];else throw new _0x4a5954(_0xb48c72(0x11e)+_0x4ea606+_0xb48c72(0x147));}_0x5584ed[_0xb48c72(0x1cb)](updateGlobalRegistryWithConfig,_0x162dcc,_0x8e1246,_0x55b45a,_0x489a87,_0x4c2f67,_0x2eef6c,_0x5b10b6,_0x5b275e,_0x398ba1,_0x12424a,_0x4c3ab1,_0x15bd65['clusterAutoupgrade']),global_registry['enableHubHa']&&(_0x5584ed[_0xb48c72(0x16d)](_0x5584ed[_0xb48c72(0x195)],_0x5584ed[_0xb48c72(0x195)])?_0xbce9b3=!![]:_0x5584ed[_0xb48c72(0x244)](updateGlobalRegistryForHubHa,_0x202869[_0xb48c72(0x21e)]));}}else{if(_0x5584ed[_0xb48c72(0x1f4)](_0x3fc615,!![])){if(_0x5584ed[_0xb48c72(0x14a)](_0x5584ed[_0xb48c72(0x209)],_0x5584ed[_0xb48c72(0x209)])){_0x1b5554=_0xb48c72(0xfb)+_0x16533d,logger[_0xb48c72(0x1f3)](_0x1b5554);const _0x26d9fe={};_0x26d9fe['type']=WS_EVENTS[_0xb48c72(0x16b)],_0x26d9fe[_0xb48c72(0x1ef)]=_0x1b5554,webSocketUtils[_0xb48c72(0x245)](_0x7b9476,_0x26d9fe),_0x489a87=_0x5b10b6['concurrency'],_0x4c2f67=_0x5b10b6[_0xb48c72(0x298)],_0x2aa47c=null,_0x2523f5=null,_0x290570=null,_0x2eef6c=_0x5b10b6[_0xb48c72(0x15a)],_0x12424a=_0x5b10b6['minNodes'],_0x4c3ab1=_0x5b10b6[_0xb48c72(0x249)],_0x5b275e=_0x202869['hubVersion'],_0x398ba1=_0x202869[_0xb48c72(0x1db)],_0x5584ed[_0xb48c72(0x1ee)](_0x5b10b6[_0xb48c72(0x286)],undefined)&&_0x5b10b6[_0xb48c72(0x286)]&&(_0x5584ed[_0xb48c72(0x1ea)](_0x5584ed[_0xb48c72(0x1ae)],_0x5584ed[_0xb48c72(0x164)])?_0x1d17de=_0x5584ed[_0xb48c72(0x188)]:global_registry['isPrivateGrid']=!![]),_0x5584ed[_0xb48c72(0x1cb)](updateGlobalRegistryWithConfig,_0x162dcc,_0x8e1246,_0x55b45a,_0x489a87,_0x4c2f67,_0x2eef6c,_0x5b10b6,_0x5b275e,_0x398ba1,_0x12424a,_0x4c3ab1,_0x15bd65[_0xb48c72(0x291)]),global_registry[_0xb48c72(0x221)]&&(_0x5584ed[_0xb48c72(0x102)](_0x5584ed[_0xb48c72(0x19d)],_0x5584ed[_0xb48c72(0x19d)])?(_0x4f2e24=_0x58cd4a['route53'],_0x2106d2=_0x5584ed[_0xb48c72(0x12c)]):_0x5584ed[_0xb48c72(0x244)](updateGlobalRegistryForHubHa,_0x202869[_0xb48c72(0x143)]));}else _0xcf2c12=_0x5584ed[_0xb48c72(0x1b0)];}else{if(_0x5584ed[_0xb48c72(0x280)](_0x5584ed[_0xb48c72(0x1b9)],_0x5584ed['rjtfs'])){const _0x5b9d72=_0x5584ed['lqAfv'][_0xb48c72(0x1d9)]('|');let _0x39830a=0x0;while(!![]){switch(_0x5b9d72[_0x39830a++]){case'0':global_registry['cloudProvider']=_0x162dcc;continue;case'1':global_registry['browserVersion']=_0x202869[_0xb48c72(0x1db)];continue;case'2':const _0x236029={};_0x236029[_0xb48c72(0x1ab)]=WS_EVENTS[_0xb48c72(0x16b)],_0x236029[_0xb48c72(0x1ef)]=_0x1b5554,webSocketUtils[_0xb48c72(0x245)](_0x7b9476,_0x236029);continue;case'3':global_registry[_0xb48c72(0x13b)]=_0x202869[_0xb48c72(0x13b)];continue;case'4':logger[_0xb48c72(0x1f3)](_0x1b5554);continue;case'5':global_registry['clusterRegion']=_0x55b45a;continue;case'6':const _0x38fcdd={};_0x38fcdd['type']=WS_EVENTS[_0xb48c72(0x1a8)],_0x38fcdd[_0xb48c72(0x1ef)]=_0x5584ed[_0xb48c72(0x12b)],webSocketUtils[_0xb48c72(0x245)](_0x7b9476,_0x38fcdd);continue;case'7':global_registry[_0xb48c72(0x15d)]=_0x8e1246;continue;case'8':_0x1b5554=_0xb48c72(0x199)+_0x16533d+_0xb48c72(0x237)+_0x8e1246+'\x27';continue;}break;}}else{const _0x1c8374={'azure.workload.identity/use':_0x5584ed[_0xb48c72(0x270)],..._0x5ecb0d[0x0][_0xb48c72(0x150)][_0xb48c72(0x266)]['metadata']['labels']};_0x2789d6[0x0][_0xb48c72(0x150)]['template'][_0xb48c72(0x1a3)][_0xb48c72(0x11b)]=_0x1c8374,_0x3751b1[0x0][_0xb48c72(0x150)][_0xb48c72(0x266)][_0xb48c72(0x150)][_0xb48c72(0x12f)]=_0x5584ed['uftsP'];}}}const _0x3a6c7e=await _0x5584ed[_0xb48c72(0x16c)](getCloudProviderObject,_0x162dcc,_0x8e1246,_0x16533d,_0x7b9476,webSocketUtils,_0x15bd65);_0x5584ed['daBqc'](_0x162dcc,AZURE)&&(_0x5584ed[_0xb48c72(0x23e)](_0x5584ed[_0xb48c72(0x16e)],_0x5584ed[_0xb48c72(0x1d8)])?_0x3a6c7e[_0xb48c72(0x1a4)]():_0x45640c['error'](_0xb48c72(0x288)+_0x5d6376+'\x20\x0a'+_0x1bfcf7[_0xb48c72(0x22d)](_0x492fd9[_0xb48c72(0x1a5)])));let _0x4f8996;if(_0x5584ed[_0xb48c72(0x127)](_0x3170fb,![])){_0x1b5554=_0xb48c72(0x267)+_0x55b45a+').';const _0x4f9c2a={};_0x4f9c2a['type']=WS_EVENTS['LOG'],_0x4f9c2a[_0xb48c72(0x1ef)]=_0x1b5554,webSocketUtils[_0xb48c72(0x245)](_0x7b9476,_0x4f9c2a),logger[_0xb48c72(0x1f3)](_0x1b5554);const _0x227903=await _0x3a6c7e[_0xb48c72(0x14c)]();if(_0x227903){if(_0x5584ed[_0xb48c72(0x216)](_0x5584ed[_0xb48c72(0x103)],_0x5584ed[_0xb48c72(0x103)])){const _0x91d330={};_0x91d330[_0xb48c72(0x1ab)]=WS_EVENTS[_0xb48c72(0x16b)],_0x91d330[_0xb48c72(0x1ef)]=_0xb48c72(0x11e)+_0x8e1246+_0xb48c72(0x16f),webSocketUtils[_0xb48c72(0x245)](_0x7b9476,_0x91d330,_0x5584ed[_0xb48c72(0x1d5)]),logger[_0xb48c72(0x1f3)](_0xb48c72(0x11e)+_0x8e1246+'\x20is\x20already\x20present.\x20Skipping\x20cluster\x20creation'),_0x3170fb=!![];if(_0x5584ed[_0xb48c72(0x10d)](_0x3fc615,!![])){if(_0x5584ed[_0xb48c72(0x10d)](_0x5584ed['fZzph'],_0x5584ed[_0xb48c72(0x1c3)]))_0x16d078['isPrivateGrid']=!![];else throw new Error('Cluster\x20'+_0x8e1246+_0xb48c72(0x147));}}else _0x37711e[_0xb48c72(0x1f3)]('Found\x20VPC:\x20'+_0x4a6e6e+'\x20');}else{const _0x4ae9a0={};_0x4ae9a0[_0xb48c72(0x1ab)]=WS_EVENTS[_0xb48c72(0x16b)],_0x4ae9a0[_0xb48c72(0x1ef)]=_0x5584ed[_0xb48c72(0x1f8)],webSocketUtils[_0xb48c72(0x245)](_0x7b9476,_0x4ae9a0),logger['info'](_0x5584ed['JLhMv']);const _0x29b513=_0x5584ed[_0xb48c72(0x258)](_0x2aa47c,null)&&_0x5584ed[_0xb48c72(0x257)](_0x2aa47c,undefined),_0x131cfa=_0x5584ed[_0xb48c72(0x109)](_0x290570,null)&&_0x5584ed['hMhcT'](_0x290570,undefined)&&_0x5584ed['lAnVR'](_0x290570['length'],0x0);if(_0x29b513){_0x5584ed[_0xb48c72(0x26f)](_0x131cfa,![])&&(_0x1b5554=_0x5584ed[_0xb48c72(0x176)],await _0x5584ed[_0xb48c72(0x269)](reportToGalactusAndSendToEDS,_0x15bd65,_0x7b9476,_0x1b5554,messageTypes[_0xb48c72(0x117)],_0x5584ed[_0xb48c72(0x28a)],_0x5584ed[_0xb48c72(0x144)],_0x5584ed[_0xb48c72(0x26c)]),logger[_0xb48c72(0x18f)](_0x1b5554),process['exit'](0x1));const _0x439b54=await _0x3a6c7e[_0xb48c72(0x22f)](_0x2aa47c);_0x5584ed['secGB'](_0x439b54,![])?(_0x1b5554=_0x5584ed[_0xb48c72(0x1fd)],await _0x5584ed[_0xb48c72(0x198)](reportToGalactusAndSendToEDS,_0x15bd65,_0x7b9476,_0x1b5554,messageTypes['ERROR'],_0x5584ed[_0xb48c72(0x28a)],_0x5584ed['Mlchr'],_0x5584ed[_0xb48c72(0x26c)]),logger['error'](_0x1b5554),process[_0xb48c72(0x105)](0x1)):logger['info'](_0xb48c72(0x183)+_0x2aa47c+'\x20');const _0x29ae00=await _0x3a6c7e[_0xb48c72(0x194)](_0x290570,_0x2aa47c);_0x5584ed[_0xb48c72(0x184)](_0x29ae00[0x0],![])?(_0x1b5554=_0xb48c72(0x25a)+JSON[_0xb48c72(0x22d)](_0x29ae00[0x1])+_0xb48c72(0x1c2)+_0x2aa47c+_0xb48c72(0x16a),await _0x5584ed[_0xb48c72(0xf6)](reportToGalactusAndSendToEDS,_0x15bd65,_0x7b9476,_0x1b5554,messageTypes['ERROR'],_0x5584ed[_0xb48c72(0x28a)],_0x5584ed['ZbDgf'],_0x5584ed[_0xb48c72(0x26c)]),logger[_0xb48c72(0x18f)](_0x1b5554),process[_0xb48c72(0x105)](0x1)):logger[_0xb48c72(0x1f3)](_0xb48c72(0x231)+JSON[_0xb48c72(0x22d)](_0x290570)+'\x20'),[_0x2aa47c,_0x290570]=await _0x3a6c7e[_0xb48c72(0x28b)](_0x2aa47c,_0x290570);}else{const _0x4a69e1=_0x5584ed[_0xb48c72(0x285)][_0xb48c72(0x1d9)]('|');let _0x1daf7f=0x0;while(!![]){switch(_0x4a69e1[_0x1daf7f++]){case'0':const _0x306eea={};_0x306eea[_0xb48c72(0x1ab)]=WS_EVENTS[_0xb48c72(0x16b)],_0x306eea['message']=_0x5584ed['bSodB'],webSocketUtils['sendEventToBackend'](_0x7b9476,_0x306eea);continue;case'1':[_0x2aa47c,_0x290570]=await _0x3a6c7e[_0xb48c72(0x28b)](_0x2aa47c,_0x290570);continue;case'2':logger[_0xb48c72(0x1f3)](_0x5584ed[_0xb48c72(0x152)]);continue;case'3':logger[_0xb48c72(0x1f3)](_0x5584ed[_0xb48c72(0x108)]);continue;case'4':const _0x23aaf3={};_0x23aaf3['type']=WS_EVENTS['LOG'],_0x23aaf3['message']=_0x5584ed[_0xb48c72(0x152)],webSocketUtils[_0xb48c72(0x245)](_0x7b9476,_0x23aaf3);continue;}break;}}}}_0x3170fb&&_0x5584ed[_0xb48c72(0x24b)](_0x162dcc,AZURE)&&(await _0x3a6c7e[_0xb48c72(0x17b)](),await _0x3a6c7e['createOtherResources']());const [_0x4e6068,_0x501c2f,_0x24f18d,_0xc80c0b,_0x5dafb3,_0x1e1764,_0x2774ec]=await _0x5584ed[_0xb48c72(0x284)](createK8sClient,_0x3a6c7e,_0x15bd65[_0xb48c72(0x1a9)]);_0x5584ed[_0xb48c72(0x27f)](_0x3170fb,![])&&_0x5584ed[_0xb48c72(0x254)](_0x162dcc,AWS)&&(global_registry['isNewAWSCluster']=!![],_0x4f8996=await _0x3a6c7e['setupAutoscaler'](_0x4e6068,_0x15bd65));if(_0x5584ed[_0xb48c72(0x29d)](_0x3170fb,![])&&global_registry[_0xb48c72(0x221)])try{await _0x3a6c7e['setupHubHa'](_0x1e1764,_0x2774ec,_0x15bd65,_0x2aa47c,_0x290570);const _0x135c39={};_0x135c39[_0xb48c72(0x1ab)]=WS_EVENTS[_0xb48c72(0x16b)],_0x135c39[_0xb48c72(0x1ef)]=_0x5584ed[_0xb48c72(0x1f7)],webSocketUtils[_0xb48c72(0x245)](_0x7b9476,_0x135c39);!await _0x5584ed[_0xb48c72(0x276)](namespaceExists,_0x4e6068,global_registry['hubHaNameSpace'])&&await _0x5584ed['dROTe'](createNamespace,_0x4e6068,global_registry[_0xb48c72(0x1c5)]);logger[_0xb48c72(0x1f3)](_0x5584ed[_0xb48c72(0x142)]);let _0x1bafa8=await fs['readFileAsync'](path[_0xb48c72(0x1e8)](__dirname,_0x5584ed['WrXyy'],_0x5584ed[_0xb48c72(0x27a)],_0x5584ed[_0xb48c72(0xf7)],_0x5584ed['bWKRc']),_0x5584ed[_0xb48c72(0x202)]);_0x1bafa8=_0x1bafa8[_0xb48c72(0x126)](/<RedisClientPassword>/g,_0x5584ed[_0xb48c72(0x101)](encodeBase64,global_registry[_0xb48c72(0x155)])),_0x1bafa8=_0x1bafa8[_0xb48c72(0x126)](/<KafkaClientPassword>/g,_0x5584ed[_0xb48c72(0x11c)](encodeBase64,global_registry['kafkaPassword'])),_0x1bafa8=_0x1bafa8[_0xb48c72(0x126)](/<BstackUsername>/g,_0x5584ed[_0xb48c72(0x22b)](encodeBase64,global_registry['bstackUsername'])),_0x1bafa8=_0x1bafa8[_0xb48c72(0x126)](/<BstackAccessKey>/g,_0x5584ed[_0xb48c72(0x226)](encodeBase64,global_registry['bstackAccesskey']));const _0xdee869=yaml[_0xb48c72(0x200)](_0x1bafa8);await _0x5584ed[_0xb48c72(0x24e)](kubeApply,_0xdee869,_0x2774ec),logger[_0xb48c72(0x1f3)](_0x5584ed[_0xb48c72(0xfc)]);let _0xf6714=_0x5584ed[_0xb48c72(0x107)];if(_0x5584ed['WPzln'](_0x162dcc,AZURE))_0xf6714=_0x5584ed[_0xb48c72(0x188)];else _0x5584ed['KXtgD'](_0x162dcc,GCP)&&(_0xf6714=_0x5584ed[_0xb48c72(0x1b8)]);logger[_0xb48c72(0x1f3)](_0x5584ed[_0xb48c72(0x151)]);let _0x341683=await fs['readFileAsync'](path[_0xb48c72(0x1e8)](__dirname,_0x5584ed[_0xb48c72(0x206)],_0x5584ed[_0xb48c72(0x27a)],_0x5584ed[_0xb48c72(0xf7)],_0x5584ed['ftxBk']),_0x5584ed[_0xb48c72(0x202)]);_0x341683=_0x341683['replace'](/<HubHaNameSpace>/g,global_registry[_0xb48c72(0x1c5)]),_0x341683=_0x341683[_0xb48c72(0x126)](/<StorageClassName>/g,_0xf6714);const _0x596918=yaml[_0xb48c72(0x200)](_0x341683);await _0x5584ed[_0xb48c72(0x115)](kubeApply,_0x596918,_0x2774ec),logger[_0xb48c72(0x1f3)](_0x5584ed[_0xb48c72(0x14e)]),logger[_0xb48c72(0x1f3)](_0x5584ed[_0xb48c72(0x26b)]);let _0x38cb2e=await fs[_0xb48c72(0x128)](path['join'](__dirname,_0x5584ed[_0xb48c72(0x206)],_0x5584ed['WKBcT'],_0x5584ed[_0xb48c72(0xf7)],_0x5584ed[_0xb48c72(0x208)]),_0x5584ed[_0xb48c72(0x202)]);_0x38cb2e=_0x38cb2e[_0xb48c72(0x126)](/<HubHaNameSpace>/g,global_registry[_0xb48c72(0x1c5)]),_0x38cb2e=_0x38cb2e['replace'](/<StorageClassName>/g,_0xf6714);const _0x590e7c=yaml[_0xb48c72(0x200)](_0x38cb2e);await _0x5584ed['ZELDC'](kubeApply,_0x590e7c,_0x2774ec),logger[_0xb48c72(0x1f3)](_0x5584ed[_0xb48c72(0x120)]),logger[_0xb48c72(0x1f3)](_0x5584ed['oqthd']);let _0x30aa09=await fs['readFileAsync'](path[_0xb48c72(0x1e8)](__dirname,_0x5584ed[_0xb48c72(0x206)],_0x5584ed[_0xb48c72(0x27a)],_0x5584ed[_0xb48c72(0xf7)],_0x5584ed[_0xb48c72(0x295)]),_0x5584ed[_0xb48c72(0x202)]);_0x30aa09=_0x30aa09[_0xb48c72(0x126)](/<UploaderImageVersion>/g,global_registry[_0xb48c72(0x1a0)]),_0x30aa09=_0x30aa09[_0xb48c72(0x126)](/<HubHaNameSpace>/g,global_registry['hubHaNameSpace']);const _0x1c3e94=yaml[_0xb48c72(0x200)](_0x30aa09);_0x5584ed[_0xb48c72(0x169)](global_registry[_0xb48c72(0x232)],AZURE)&&(_0x1c3e94[0x0][_0xb48c72(0x150)][_0xb48c72(0x266)]['metadata'][_0xb48c72(0x11b)]={'azure.workload.identity/use':_0x5584ed[_0xb48c72(0x270)],..._0x1c3e94[0x0][_0xb48c72(0x150)][_0xb48c72(0x266)][_0xb48c72(0x1a3)][_0xb48c72(0x11b)]},_0x1c3e94[0x0][_0xb48c72(0x150)][_0xb48c72(0x266)][_0xb48c72(0x150)][_0xb48c72(0x12f)]=_0x5584ed['uftsP']);await _0x5584ed[_0xb48c72(0x24e)](kubeApply,_0x1c3e94,_0x2774ec),logger[_0xb48c72(0x1f3)](_0x5584ed[_0xb48c72(0x17d)]);const _0x156c8f={};_0x156c8f[_0xb48c72(0x1ab)]=WS_EVENTS[_0xb48c72(0x16b)],_0x156c8f[_0xb48c72(0x1ef)]=_0x5584ed[_0xb48c72(0x289)],webSocketUtils[_0xb48c72(0x245)](_0x7b9476,_0x156c8f),logger['info'](_0x5584ed[_0xb48c72(0x157)]);}catch(_0x41d0cd){const _0x4456f4=_0x5584ed[_0xb48c72(0x260)][_0xb48c72(0x1d9)]('|');let _0x2536ec=0x0;while(!![]){switch(_0x4456f4[_0x2536ec++]){case'0':_0x1b5554=_0xb48c72(0x193)+_0x41d0cd[_0xb48c72(0x1ef)];continue;case'1':logger[_0xb48c72(0x18f)](_0x1b5554);continue;case'2':await _0x5584ed[_0xb48c72(0x135)](reportToGalactusAndSendToEDS,_0x15bd65,_0x7b9476,_0x1b5554,messageTypes[_0xb48c72(0x117)],_0x5584ed[_0xb48c72(0x28a)],_0x5584ed['aKMnU'],_0x5584ed[_0xb48c72(0x26c)]);continue;case'3':await _0x3a6c7e[_0xb48c72(0x25b)](_0x4e6068,global_registry[_0xb48c72(0x18b)]);continue;case'4':process['exit'](0x1);continue;}break;}}try{_0x18d508=_0x5584ed[_0xb48c72(0x101)](kebabCase,_0x16533d),logger[_0xb48c72(0x1f3)](_0x5584ed[_0xb48c72(0x1f9)]);const _0x5c75e6={};_0x5c75e6[_0xb48c72(0x1ab)]=WS_EVENTS['LOG'],_0x5c75e6[_0xb48c72(0x1ef)]=_0x5584ed[_0xb48c72(0x1f9)],webSocketUtils[_0xb48c72(0x245)](_0x7b9476,_0x5c75e6);if(_0x5584ed[_0xb48c72(0x1ee)](_0x18d508,_0x5584ed['uftsP'])){const _0x30a469={};_0x30a469[_0xb48c72(0x112)]=_0x5584ed[_0xb48c72(0x20b)],_0x30a469[_0xb48c72(0x1a6)]=_0x5584ed['aiAJz'];const _0x4cc3f8={};_0x4cc3f8[_0xb48c72(0x1b3)]=_0x18d508,_0x4cc3f8[_0xb48c72(0x1cc)]=_0x30a469;const _0x40dbc1={};_0x40dbc1[_0xb48c72(0x1a3)]=_0x4cc3f8;const _0x48b48f=_0x40dbc1,_0x436237={};_0x436237[_0xb48c72(0x203)]=_0x48b48f,await _0x4e6068[_0xb48c72(0x13e)](_0x436237),logger[_0xb48c72(0x1f3)](_0x5584ed[_0xb48c72(0x299)]);}const _0xbbbba8={};_0xbbbba8[_0xb48c72(0x1ab)]=WS_EVENTS['LOG'],_0xbbbba8[_0xb48c72(0x1ef)]=_0x5584ed[_0xb48c72(0x23f)],webSocketUtils[_0xb48c72(0x245)](_0x7b9476,_0xbbbba8);const _0x318871={};_0x318871[_0xb48c72(0x1ab)]=WS_EVENTS[_0xb48c72(0x16b)],_0x318871['message']=_0x5584ed[_0xb48c72(0x1c1)],webSocketUtils[_0xb48c72(0x245)](_0x7b9476,_0x318871),logger[_0xb48c72(0x1f3)](_0x5584ed[_0xb48c72(0x13a)]);let _0x22808f={};_0x5584ed[_0xb48c72(0x1ff)](_0x162dcc,AZURE)&&(_0x22808f={'clientId':await _0x3a6c7e[_0xb48c72(0x20c)](_0xb48c72(0x268)+_0x8e1246)});await _0x5584ed[_0xb48c72(0x189)](addGridComponents,_0x4e6068,_0x501c2f,_0x24f18d,_0xc80c0b,_0x18d508,_0x8e1246,_0x4f8996,_0x5dafb3,_0x2774ec,_0x22808f),_0x1b5554=_0x5584ed[_0xb48c72(0x17c)],logger[_0xb48c72(0x1f3)](_0x1b5554);const _0x52a441={};_0x52a441[_0xb48c72(0x1ab)]=WS_EVENTS[_0xb48c72(0x16b)],_0x52a441[_0xb48c72(0x1ef)]=_0x1b5554,webSocketUtils['sendEventToBackend'](_0x7b9476,_0x52a441),_0x1b5554=_0x5584ed['BnsWV'],logger['info'](_0x1b5554);const _0x43ef43={};_0x43ef43[_0xb48c72(0x1ab)]=WS_EVENTS[_0xb48c72(0x16b)],_0x43ef43[_0xb48c72(0x1ef)]=_0x1b5554,webSocketUtils[_0xb48c72(0x245)](_0x7b9476,_0x43ef43),await _0x5584ed[_0xb48c72(0x1ce)](waitForDeployment,_0x501c2f,_0x18d508,TURBOSCALE_DEPLOYMENT,0x1d4c0);const _0x1da1be=await _0x5584ed[_0xb48c72(0x185)](getNamespaceUID,_0x4e6068,_0x18d508),_0x43650d=global_registry['isPrivateGrid']?_0x5584ed['hRdFu']:_0x5584ed[_0xb48c72(0x248)],_0xaadba={};_0xaadba[_0xb48c72(0x1b3)]=_0x43650d,_0xaadba[_0xb48c72(0x10c)]=_0x5584ed[_0xb48c72(0x287)];const _0x211769=await _0x4e6068[_0xb48c72(0x11d)](_0xaadba);let _0x48ecdc=_0x3a6c7e[_0xb48c72(0x292)](_0x211769)+'/'+_0x18d508,_0x1aa0ef=_0x5584ed[_0xb48c72(0x1b0)];try{const _0x3d75cd=_0xb48c72(0x191)+AG_API_URL+_0xb48c72(0x241)+_0x1da1be,_0x5e4fdb=await _0x5584ed[_0xb48c72(0x275)](got,_0x3d75cd,_0x13f817);(_0x5584ed[_0xb48c72(0x1e9)](_0x5e4fdb,null)||_0x5584ed[_0xb48c72(0x184)](_0x5e4fdb,undefined))&&(_0x1b5554=_0x5584ed[_0xb48c72(0x18c)],await _0x5584ed[_0xb48c72(0x1d3)](reportToGalactusAndSendToEDS,_0x15bd65,_0x7b9476,_0x1b5554,messageTypes[_0xb48c72(0x117)],_0x5584ed[_0xb48c72(0x28a)],_0x5584ed[_0xb48c72(0x133)],_0x5584ed[_0xb48c72(0x26c)]),logger[_0xb48c72(0x18f)](_0x1b5554),process['exit'](0x1));_0x5584ed[_0xb48c72(0x254)](_0x5e4fdb[_0xb48c72(0x168)],0x191)&&(_0x1b5554=_0x5584ed[_0xb48c72(0x171)],await _0x5584ed['sqJYo'](reportToGalactusAndSendToEDS,_0x15bd65,_0x7b9476,_0x1b5554,messageTypes[_0xb48c72(0x117)],_0x5584ed[_0xb48c72(0x28a)],_0x5584ed['XPfxb'],_0x5584ed[_0xb48c72(0x26c)]),logger[_0xb48c72(0x18f)](_0x1b5554),process[_0xb48c72(0x105)](0x1));_0x5584ed[_0xb48c72(0x1aa)](_0x5e4fdb[_0xb48c72(0x168)],0xc8)&&(_0x1b5554=_0xb48c72(0x190)+JSON[_0xb48c72(0x22d)](_0x5e4fdb),await _0x5584ed[_0xb48c72(0x1fc)](reportToGalactusAndSendToEDS,_0x15bd65,_0x7b9476,_0x1b5554,messageTypes[_0xb48c72(0x117)],_0x5584ed[_0xb48c72(0x28a)],_0x5584ed['dXLnV'],_0x5584ed[_0xb48c72(0x26c)]),logger['error'](_0x1b5554),process[_0xb48c72(0x105)](0x1));const _0x103eea=JSON[_0xb48c72(0x129)](_0x5e4fdb['body']);_0x103eea[_0xb48c72(0x153)]&&(_0x48ecdc=_0x103eea[_0xb48c72(0x153)],_0x1aa0ef=_0x5584ed['suVTd']),global_registry[_0xb48c72(0x110)]&&(_0x1aa0ef=_0x5584ed['RNUfV']);}catch(_0x5a21ec){}_0x1b5554='Grid\x20can\x20be\x20accessed\x20at:\x20'+_0x48ecdc+'\x20',logger[_0xb48c72(0x1f3)](_0x1b5554);const _0x29c20d={};_0x29c20d['type']=WS_EVENTS[_0xb48c72(0x16b)],_0x29c20d[_0xb48c72(0x1ef)]=_0x1b5554,webSocketUtils[_0xb48c72(0x245)](_0x7b9476,_0x29c20d),_0x1b5554=_0xb48c72(0x1fb)+_0x1aa0ef+_0xb48c72(0x27b)+_0x48ecdc+_0xb48c72(0x220),logger['info'](_0x1b5554);const _0x4ff6ae={};_0x4ff6ae[_0xb48c72(0x1ab)]=WS_EVENTS[_0xb48c72(0x16b)],_0x4ff6ae['message']=_0x1b5554,webSocketUtils['sendEventToBackend'](_0x7b9476,_0x4ff6ae);const _0x41dabc={};_0x41dabc[_0xb48c72(0x1ab)]=WS_EVENTS[_0xb48c72(0x215)],_0x41dabc[_0xb48c72(0x1ef)]=_0xb48c72(0x255)+_0x48ecdc,webSocketUtils[_0xb48c72(0x245)](_0x7b9476,_0x41dabc),await webSocketUtils[_0xb48c72(0x20a)](0x7d0);}catch(_0x43c968){logger['error'](_0xb48c72(0x212)+_0x43c968+'\x20\x0a'+JSON[_0xb48c72(0x22d)](_0x43c968[_0xb48c72(0x1a5)]));if(_0x5584ed['dwETE'](_0x3170fb,![]))try{logger[_0xb48c72(0x1f3)](_0x5584ed[_0xb48c72(0x261)]),await _0x5584ed['GdKcB'](removeGridComponents,_0x4e6068,_0x501c2f,_0x24f18d,_0xc80c0b,_0x18d508),await _0x3a6c7e[_0xb48c72(0x25b)](_0x4e6068,global_registry[_0xb48c72(0x18b)]);}catch(_0x28f1ac){logger['error'](_0xb48c72(0x288)+_0x28f1ac+'\x20\x0a'+JSON[_0xb48c72(0x22d)](_0x28f1ac[_0xb48c72(0x1a5)]));}throw _0x43c968;}}catch(_0x3f3ba6){const _0x2a36aa=_0xb48c72(0x252)+_0x3f3ba6+'\x20\x0a'+JSON[_0xb48c72(0x22d)](_0x3f3ba6[_0xb48c72(0x1a5)]);if(_0x7b9476){const _0xc965={};_0xc965['type']=WS_EVENTS[_0xb48c72(0x16b)],_0xc965[_0xb48c72(0x1ef)]=_0x2a36aa,webSocketUtils[_0xb48c72(0x245)](_0x7b9476,_0xc965,_0x5584ed[_0xb48c72(0x26c)],!![]);}await webSocketUtils[_0xb48c72(0x20a)](0x7d0);const _0xf540d7={};_0xf540d7[_0xb48c72(0x18f)]=_0x2a36aa,await _0x5584ed['vTRYL'](sendInstrumentationEvent,_0x15bd65,_0x5584ed[_0xb48c72(0x28a)],messageTypes['ERROR'],_0x5584ed['azOef'],_0xf540d7,_0x15bd65),logger[_0xb48c72(0x18f)](_0x2a36aa);}process['exit'](0x0);};