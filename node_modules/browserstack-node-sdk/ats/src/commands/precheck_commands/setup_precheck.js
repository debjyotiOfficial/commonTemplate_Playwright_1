const a17_0x28ade1=a17_0x46b9;(function(_0x539792,_0x4b5477){const _0x84da93=a17_0x46b9,_0x5e6d97=_0x539792();while(!![]){try{const _0x25cece=parseInt(_0x84da93(0x135))/0x1*(-parseInt(_0x84da93(0x132))/0x2)+parseInt(_0x84da93(0xc7))/0x3*(parseInt(_0x84da93(0x136))/0x4)+-parseInt(_0x84da93(0xb7))/0x5*(-parseInt(_0x84da93(0xe4))/0x6)+-parseInt(_0x84da93(0x161))/0x7+parseInt(_0x84da93(0x172))/0x8+parseInt(_0x84da93(0x127))/0x9+-parseInt(_0x84da93(0x12b))/0xa;if(_0x25cece===_0x4b5477)break;else _0x5e6d97['push'](_0x5e6d97['shift']());}catch(_0x571dbf){_0x5e6d97['push'](_0x5e6d97['shift']());}}}(a17_0x3bef,0x3d6c7));function a17_0x46b9(_0x703aa9,_0x47983e){const _0x3beffe=a17_0x3bef();return a17_0x46b9=function(_0x46b976,_0x494db9){_0x46b976=_0x46b976-0x89;let _0x407c5f=_0x3beffe[_0x46b976];return _0x407c5f;},a17_0x46b9(_0x703aa9,_0x47983e);}const fs=require('fs'),ws=require('ws'),got=require(a17_0x28ade1(0x14b)),{v4:uuidv4}=require(a17_0x28ade1(0x128)),ReconnectingWebSocket=require(a17_0x28ade1(0xc4)),{getCredentialsPath,reportToGalactusAndSendToEDS,getAuthHeader,responseValidation,isUndefined,curlRequest,isTlsSupported,getSystemMetaData}=require('../../utils/utilityMethods'),{logger}=require(a17_0x28ade1(0xc2)),{HELP_HEADER_MESSAGE,HELP_FOOTER_MESSAGE,global_registry,messageTypes,WS_ENDPOINT,WS_EVENTS,ALL_SUPPORTED_CLOUD_PROVIDERS,AG_API_URL,DEFAULT_CLUSTER_DETAILS}=require(a17_0x28ade1(0xff)),{getCloudProviderObjectWithOutInit}=require('../../cloudproviders/utils'),webSocketUtils=require(a17_0x28ade1(0xfe)),{sendInstrumentationEvent}=require(a17_0x28ade1(0x183));exports[a17_0x28ade1(0x152)]=a17_0x28ade1(0xda),exports[a17_0x28ade1(0x125)]=a17_0x28ade1(0xfd),exports['builder']=function(_0x36c0f1){const _0x4238a1=a17_0x28ade1,_0x53d98e={};_0x53d98e[_0x4238a1(0xb2)]=_0x4238a1(0x158),_0x53d98e[_0x4238a1(0xca)]=_0x4238a1(0xab),_0x53d98e['Nndlt']=_0x4238a1(0x107),_0x53d98e['kgXWG']=_0x4238a1(0xd5),_0x53d98e['ZgXvw']=_0x4238a1(0x16e),_0x53d98e[_0x4238a1(0x157)]='help';const _0x476df5=_0x53d98e,_0x1bdb27={};_0x1bdb27['description']=_0x476df5['eaOMT'],_0x1bdb27['type']=_0x476df5[_0x4238a1(0xca)];const _0x4987b={};_0x4987b[_0x4238a1(0xde)]=_0x476df5['Nndlt'],_0x4987b[_0x4238a1(0x9a)]=_0x476df5[_0x4238a1(0xca)];const _0x4eea65={};_0x4eea65[_0x4238a1(0xde)]=_0x476df5[_0x4238a1(0xc0)],_0x4eea65[_0x4238a1(0x9a)]=_0x476df5[_0x4238a1(0xca)];const _0x52961b={};_0x52961b['description']=_0x476df5[_0x4238a1(0xf4)],_0x52961b['type']=_0x476df5[_0x4238a1(0xca)];const _0x5ea989={};return _0x5ea989[_0x4238a1(0x16f)]=_0x1bdb27,_0x5ea989[_0x4238a1(0x10a)]=_0x4987b,_0x5ea989[_0x4238a1(0x146)]=_0x4eea65,_0x5ea989[_0x4238a1(0x11e)]=_0x52961b,_0x36c0f1[_0x4238a1(0x97)](HELP_HEADER_MESSAGE[_0x4238a1(0x112)])[_0x4238a1(0x92)](HELP_FOOTER_MESSAGE)[_0x4238a1(0x165)](_0x5ea989)[_0x4238a1(0x137)](_0x476df5[_0x4238a1(0x157)])[_0x4238a1(0x167)];};async function inputValidation(_0x226a4d,_0x398145){const _0x5a8034=a17_0x28ade1,_0x541ef8={'bpbeK':_0x5a8034(0x146),'ZjQqH':_0x5a8034(0x16f),'PMtaK':_0x5a8034(0x180),'iHkqs':_0x5a8034(0x99),'LMeFk':_0x5a8034(0x10a),'UTovy':function(_0x3ef82c,_0x3d351){return _0x3ef82c+_0x3d351;},'VSaBT':_0x5a8034(0xea),'Jlddi':_0x5a8034(0x12c),'ibPIK':function(_0x434de6,_0x211870){return _0x434de6||_0x211870;},'jlBuf':_0x5a8034(0xc9),'mNAkd':_0x5a8034(0x133),'yfdxe':_0x5a8034(0x158),'MELIR':_0x5a8034(0xab),'pPBRe':_0x5a8034(0x107),'DdTDb':'Pass\x20the\x20region\x20for\x20existing\x20Kubernetes\x20Cluster.','pdQTw':_0x5a8034(0x16e),'HgAQu':_0x5a8034(0x137),'nblWD':function(_0x398af5,_0x3c7916){return _0x398af5!==_0x3c7916;},'DcAck':_0x5a8034(0xe8),'YnxXm':function(_0x1cf96f,_0x29f179){return _0x1cf96f!==_0x29f179;},'jhjAd':_0x5a8034(0xb4),'sIZfj':_0x5a8034(0x17b),'rvvQp':'FwxyX','NYFIE':function(_0xba0a61,_0x1f15c2){return _0xba0a61!==_0x1f15c2;},'zhaWE':_0x5a8034(0x11d),'kXAQp':function(_0x34b05e,_0x342909){return _0x34b05e===_0x342909;},'Qppxs':_0x5a8034(0xe5),'ADpRP':function(_0x12d15a,_0x4c2d9b){return _0x12d15a>_0x4c2d9b;},'lddLt':_0x5a8034(0x123),'lCbsS':_0x5a8034(0xf9),'gwSNw':function(_0x1dbdf5,_0x1b14bd,_0x4d772c,_0x3f106d,_0x4e1e4f,_0x5d1f70,_0xbff521,_0x367a58){return _0x1dbdf5(_0x1b14bd,_0x4d772c,_0x3f106d,_0x4e1e4f,_0x5d1f70,_0xbff521,_0x367a58);},'bZKkT':_0x5a8034(0x141),'HosDc':_0x5a8034(0x188),'aXpYS':function(_0x7073ab,_0x505232){return _0x7073ab!==_0x505232;},'tpYha':'LcqNy','SRqat':'wLCzw','OZlGy':_0x5a8034(0xe1),'DAdDh':_0x5a8034(0x89),'hloxL':function(_0x3e4418,_0x39cc8d){return _0x3e4418!==_0x39cc8d;},'slqUF':_0x5a8034(0xa9),'ySxwl':_0x5a8034(0x154),'eeTWl':function(_0x2d7375,_0x22ae46){return _0x2d7375!==_0x22ae46;},'GFXCy':_0x5a8034(0x106),'OYiDr':'Xlqwx','plLdO':'GET','DmYMr':function(_0x2a5299,_0x3f2657,_0x292907){return _0x2a5299(_0x3f2657,_0x292907);},'XQTOm':function(_0x116a69,_0x4f1365,_0x59aa98,_0x59d6b1,_0x2db834,_0x30859c){return _0x116a69(_0x4f1365,_0x59aa98,_0x59d6b1,_0x2db834,_0x30859c);},'mliBJ':_0x5a8034(0x163),'QcARE':'grid-profile','ZgwPa':function(_0x2988fb,_0x223a2e){return _0x2988fb===_0x223a2e;},'GUgns':_0x5a8034(0xb0),'FjNtf':_0x5a8034(0x14e),'WJaaM':function(_0x48018b,_0x27e238){return _0x48018b(_0x27e238);},'WbbJq':_0x5a8034(0x105),'erozC':'pre-check-grid-profile-empty','rFYEL':_0x5a8034(0xb1),'ItQib':function(_0x3af62c,_0x5222d4){return _0x3af62c!==_0x5222d4;},'HXYyk':_0x5a8034(0x12d),'wLqcZ':'VOrJy','ztuId':'Grid\x20profile\x20fetched\x20for\x20pre-check','Pddet':function(_0x30f424,_0x151ace){return _0x30f424!==_0x151ace;},'AEYkl':'lzjZA','kAzlI':_0x5a8034(0x17f),'WkMRQ':_0x5a8034(0xc1),'WTLOy':function(_0x17d5fe,_0x599ed5,_0x4f9dc3,_0x34e758,_0x1fc00f,_0x2966ba,_0x493312,_0xe039bc){return _0x17d5fe(_0x599ed5,_0x4f9dc3,_0x34e758,_0x1fc00f,_0x2966ba,_0x493312,_0xe039bc);}};let _0x51baba;try{if(_0x541ef8['nblWD'](_0x541ef8['DcAck'],_0x541ef8[_0x5a8034(0xed)]))_0x551205=_0x262950;else{if(_0x226a4d['clusterName']||_0x226a4d['cloudProvider']||_0x226a4d['region']){if(_0x541ef8[_0x5a8034(0x179)](_0x541ef8['jhjAd'],_0x541ef8[_0x5a8034(0xd0)])){const _0x37ff75=[];!_0x226a4d[_0x5a8034(0xf3)]&&(_0x541ef8[_0x5a8034(0x10e)](_0x541ef8['rvvQp'],_0x541ef8['rvvQp'])?_0x42409[_0x5a8034(0x100)](_0x541ef8[_0x5a8034(0xf1)]):_0x37ff75[_0x5a8034(0x100)](_0x541ef8[_0x5a8034(0x187)]));;!_0x226a4d[_0x5a8034(0x108)]&&(_0x541ef8[_0x5a8034(0x10f)](_0x541ef8[_0x5a8034(0x94)],_0x541ef8[_0x5a8034(0x94)])?_0x9c5333['push'](_0x541ef8[_0x5a8034(0x187)]):_0x37ff75['push'](_0x541ef8[_0x5a8034(0x13c)]));;!_0x226a4d[_0x5a8034(0x146)]&&(_0x541ef8[_0x5a8034(0xcb)](_0x541ef8[_0x5a8034(0x8b)],_0x541ef8['Qppxs'])?_0x37ff75[_0x5a8034(0x100)](_0x541ef8[_0x5a8034(0xf1)]):_0x29b0ad[_0x5a8034(0x99)](_0x5a8034(0x14d)+_0x47cd77['error']['stack']));;_0x541ef8[_0x5a8034(0x186)](_0x37ff75[_0x5a8034(0xa3)],0x0)&&(_0x541ef8[_0x5a8034(0x10f)](_0x541ef8[_0x5a8034(0x14f)],_0x541ef8[_0x5a8034(0x15c)])?(_0x51baba='Missing\x20required\x20arguments:\x20'+_0x37ff75[_0x5a8034(0xd9)](',\x20')+_0x5a8034(0x114),await _0x541ef8['gwSNw'](reportToGalactusAndSendToEDS,_0x226a4d,_0x398145,_0x51baba,messageTypes[_0x5a8034(0x15d)],_0x541ef8['bZKkT'],_0x541ef8[_0x5a8034(0x122)],_0x541ef8['iHkqs']),logger[_0x5a8034(0x99)](_0x51baba),process[_0x5a8034(0xce)](0x1)):(_0x42c7ea[_0x5a8034(0x99)](_0x541ef8[_0x5a8034(0x181)]),_0x55c076[_0x5a8034(0xce)](0x1)));if(!ALL_SUPPORTED_CLOUD_PROVIDERS['includes'](_0x226a4d[_0x5a8034(0x108)]['toLowerCase']())){if(_0x541ef8[_0x5a8034(0x13b)](_0x541ef8[_0x5a8034(0x9d)],_0x541ef8['SRqat']))_0x51baba=_0x541ef8['OZlGy'],await _0x541ef8[_0x5a8034(0xc5)](reportToGalactusAndSendToEDS,_0x226a4d,_0x398145,_0x51baba,messageTypes[_0x5a8034(0x15d)],_0x541ef8[_0x5a8034(0xa0)],_0x541ef8[_0x5a8034(0x139)],_0x541ef8[_0x5a8034(0x104)]),logger[_0x5a8034(0x99)](_0x51baba),!_0x226a4d[_0x5a8034(0x108)]&&(_0x541ef8[_0x5a8034(0x130)](_0x541ef8[_0x5a8034(0xad)],_0x541ef8[_0x5a8034(0x8d)])?(logger[_0x5a8034(0xc3)](_0x5a8034(0xdc)+DEFAULT_CLUSTER_DETAILS[_0x5a8034(0x119)]+'\x20'),_0x226a4d['cloudProvider']=DEFAULT_CLUSTER_DETAILS['CLOUD_PROVIDER']):(_0x2cb498[_0x5a8034(0xc3)]('['+_0x51764d+_0x5a8034(0x129)+_0xaca440[_0x5a8034(0x11a)]+_0x5a8034(0x121)+_0x4c34b2[_0x5a8034(0x171)]+_0x5a8034(0x16b)+_0x3e24c1[_0x5a8034(0x99)]),_0x9542c[_0x5a8034(0x99)]&&_0x57582b[_0x5a8034(0x99)](_0x5a8034(0x14d)+_0x2f340c[_0x5a8034(0x99)]['stack'])));else{const _0xcec630={};_0xcec630['type']=_0x588982[_0x5a8034(0xec)],_0xcec630[_0x5a8034(0x148)]=_0x594bd8,_0x24fcf8[_0x5a8034(0x14a)](_0x5c6035,_0xcec630,_0x541ef8[_0x5a8034(0x104)],!![]);}}global_registry[_0x5a8034(0xf3)]=_0x226a4d['clusterName'],global_registry[_0x5a8034(0x108)]=_0x226a4d[_0x5a8034(0x108)],global_registry['clusterRegion']=_0x226a4d['region'];}else _0xe64fff+='Cluster\x20'+_0x3a9831[_0x5a8034(0xf3)]+_0x5a8034(0xd7);}else{if(_0x226a4d[_0x5a8034(0x170)]){if(_0x541ef8[_0x5a8034(0xdd)](_0x541ef8[_0x5a8034(0x12a)],_0x541ef8['OYiDr'])){global_registry['gridProfile']=_0x226a4d[_0x5a8034(0x170)],logger[_0x5a8034(0xa6)]('grid\x20profile\x20flow\x20'+_0x226a4d[_0x5a8034(0x170)]);const _0x2c92d8=_0x5a8034(0x11b)+AG_API_URL+_0x5a8034(0x17c),_0x4f52ff={};_0x4f52ff[_0x5a8034(0x160)]=_0x541ef8['plLdO'],_0x4f52ff[_0x5a8034(0xac)]=global_registry[_0x5a8034(0xf6)],_0x4f52ff[_0x5a8034(0x143)]=![];const _0x479c52=_0x4f52ff,_0x2135f0=await _0x541ef8[_0x5a8034(0xf5)](got,_0x2c92d8,_0x479c52),_0x1b1563=await _0x541ef8['XQTOm'](responseValidation,_0x2135f0,_0x541ef8['mliBJ'],_0x541ef8[_0x5a8034(0x117)],_0x226a4d,_0x398145);let _0x3233b0={};if(_0x541ef8[_0x5a8034(0x101)](_0x1b1563,0xc8)){if(_0x541ef8[_0x5a8034(0x101)](_0x541ef8['GUgns'],_0x541ef8[_0x5a8034(0x168)]))_0xadbd75[_0x5a8034(0xce)](0x1);else{const _0x44603c=JSON[_0x5a8034(0x12f)](_0x2135f0['body']),_0x4eb655=_0x44603c['find'](_0x50c2e3=>_0x50c2e3['name']===_0x226a4d[_0x5a8034(0x170)])||null;_0x541ef8[_0x5a8034(0x93)](isUndefined,_0x4eb655)?_0x541ef8[_0x5a8034(0xcb)](_0x541ef8[_0x5a8034(0x15b)],_0x541ef8[_0x5a8034(0x15b)])?(_0x51baba=_0x5a8034(0xf7)+_0x226a4d['gridProfile']+'.\x20please\x20verify\x20the\x20grid\x20profile\x20name\x20and\x20try\x20again',await _0x541ef8['gwSNw'](reportToGalactusAndSendToEDS,_0x226a4d,_0x398145,_0x51baba,messageTypes[_0x5a8034(0x15d)],_0x541ef8[_0x5a8034(0xa0)],_0x541ef8[_0x5a8034(0xe0)],_0x541ef8[_0x5a8034(0x104)]),logger[_0x5a8034(0x99)](_0x51baba),process[_0x5a8034(0xce)](0x1)):_0x3f9cf3[_0x5a8034(0x100)](_0x541ef8[_0x5a8034(0x13c)]):_0x541ef8[_0x5a8034(0x13b)](_0x541ef8[_0x5a8034(0x144)],_0x541ef8[_0x5a8034(0x144)])?_0x563fd0[_0x5a8034(0xc3)](_0x5a8034(0xf0)+_0xd1b2b2['clusterName']+_0x5a8034(0xf8)):_0x3233b0=_0x4eb655;}}else{if(_0x541ef8[_0x5a8034(0xd1)](_0x541ef8[_0x5a8034(0x155)],_0x541ef8['wLqcZ']))process[_0x5a8034(0xce)](0x1);else{const {header:_0x425e15,response:_0x77b4c5}=_0x287977,{status:_0x5b2e51,data:_0x5e9733,error:_0x4d2d4b}=_0x77b4c5;_0x2e7def+=_0x425e15+'\x20#'+_0x541ef8[_0x5a8034(0x8e)](_0x45d93b,0x1)+'\x0a',_0x14fd4f+=_0x5a8034(0x110)+(_0x5b2e51?_0x541ef8[_0x5a8034(0x13d)]:_0x541ef8[_0x5a8034(0xe2)])+'\x0a',_0x305e7b+=_0x5a8034(0xcf)+_0x541ef8[_0x5a8034(0x184)](_0x5e9733,_0x541ef8[_0x5a8034(0xeb)])+'\x0a',_0x4d2d4b&&(_0xca036d+=_0x541ef8[_0x5a8034(0x16a)],_0x1b04da+=_0x5a8034(0x116)+(_0x4d2d4b[_0x5a8034(0x148)]||_0x541ef8[_0x5a8034(0xeb)])+'\x0a',_0x29cb93+=_0x5a8034(0x115)+(_0x4d2d4b[_0x5a8034(0xa4)]||_0x541ef8[_0x5a8034(0xeb)])+'\x0a',_0x3feb27+=_0x5a8034(0x178)+(_0x4d2d4b['stack']||_0x541ef8[_0x5a8034(0xeb)])+'\x0a'),_0x4412b0+='\x0a\x0a';}}const _0x385a56={};_0x385a56['type']=WS_EVENTS[_0x5a8034(0xec)],_0x385a56[_0x5a8034(0x148)]=_0x541ef8[_0x5a8034(0x10c)],webSocketUtils['sendEventToBackend'](_0x398145,_0x385a56),global_registry[_0x5a8034(0x108)]=_0x3233b0[_0x5a8034(0x108)],global_registry[_0x5a8034(0xdb)]=_0x3233b0['region'],global_registry[_0x5a8034(0xf3)]=_0x3233b0[_0x5a8034(0xf3)];}else _0x312024+=_0x541ef8[_0x5a8034(0x16a)],_0x23d61d+=_0x5a8034(0x116)+(_0x4d7475[_0x5a8034(0x148)]||_0x541ef8[_0x5a8034(0xeb)])+'\x0a',_0x55421b+=_0x5a8034(0x115)+(_0x333797['code']||_0x541ef8['jlBuf'])+'\x0a',_0x53ee54+=_0x5a8034(0x178)+(_0x58aad7['stack']||_0x541ef8[_0x5a8034(0xeb)])+'\x0a';}else _0x541ef8['Pddet'](_0x541ef8[_0x5a8034(0x17d)],_0x541ef8[_0x5a8034(0x17d)])?(_0x3614b5[_0x5a8034(0xc3)](_0x5a8034(0xdc)+_0x587f3a['CLOUD_PROVIDER']+'\x20'),_0x491dbc[_0x5a8034(0x108)]=_0x5932f9[_0x5a8034(0x119)]):(logger[_0x5a8034(0x99)](_0x541ef8[_0x5a8034(0x181)]),process[_0x5a8034(0xce)](0x1));}}}catch(_0x1d5cb6){if(_0x541ef8[_0x5a8034(0x10f)](_0x541ef8[_0x5a8034(0xe6)],_0x541ef8[_0x5a8034(0xbd)]))_0x51baba=_0x5a8034(0x12e)+_0x1d5cb6+':\x20'+_0x1d5cb6['stack'],logger[_0x5a8034(0x99)](_0x51baba),await _0x541ef8['WTLOy'](reportToGalactusAndSendToEDS,_0x226a4d,_0x398145,_0x51baba,messageTypes['ERROR'],_0x541ef8[_0x5a8034(0xa0)],_0x541ef8[_0x5a8034(0x139)],_0x541ef8[_0x5a8034(0x104)]),process[_0x5a8034(0xce)](0x1);else{const _0x466701={};_0x466701[_0x5a8034(0xde)]=_0x541ef8['yfdxe'],_0x466701[_0x5a8034(0x9a)]=_0x541ef8[_0x5a8034(0xaa)];const _0xc67d1d={};_0xc67d1d[_0x5a8034(0xde)]=_0x541ef8[_0x5a8034(0x147)],_0xc67d1d[_0x5a8034(0x9a)]=_0x541ef8[_0x5a8034(0xaa)];const _0x5c92c0={};_0x5c92c0[_0x5a8034(0xde)]=_0x541ef8['DdTDb'],_0x5c92c0[_0x5a8034(0x9a)]=_0x541ef8[_0x5a8034(0xaa)];const _0x42b693={};_0x42b693['description']=_0x541ef8['pdQTw'],_0x42b693[_0x5a8034(0x9a)]=_0x541ef8[_0x5a8034(0xaa)];const _0x10dfee={};return _0x10dfee[_0x5a8034(0x16f)]=_0x466701,_0x10dfee[_0x5a8034(0x10a)]=_0xc67d1d,_0x10dfee[_0x5a8034(0x146)]=_0x5c92c0,_0x10dfee['grid-profile']=_0x42b693,_0x267ea8[_0x5a8034(0x97)](_0x18591f[_0x5a8034(0x112)])[_0x5a8034(0x92)](_0x335db7)[_0x5a8034(0x165)](_0x10dfee)[_0x5a8034(0x137)](_0x541ef8[_0x5a8034(0x17a)])[_0x5a8034(0x167)];}}}function printResponse(_0x5c104f,_0x57b2bf){const _0x381405=a17_0x28ade1,_0x3a18d8={};_0x3a18d8['FDLbx']=_0x381405(0xbe),_0x3a18d8[_0x381405(0xd4)]=_0x381405(0x9e),_0x3a18d8[_0x381405(0xa1)]=function(_0x3f2711,_0x48e377){return _0x3f2711!==_0x48e377;},_0x3a18d8[_0x381405(0xe7)]='Gsdth',_0x3a18d8['EnSig']=_0x381405(0x156);const _0xa64ab1=_0x3a18d8;logger[_0x381405(0xc3)]('['+_0x5c104f+_0x381405(0x129)+_0x57b2bf[_0x381405(0x11a)]+_0x381405(0x121)+_0x57b2bf[_0x381405(0x171)]+_0x381405(0x16b)+_0x57b2bf[_0x381405(0x99)]),_0x57b2bf[_0x381405(0x99)]&&(_0xa64ab1[_0x381405(0xa1)](_0xa64ab1[_0x381405(0xe7)],_0xa64ab1[_0x381405(0x111)])?logger[_0x381405(0x99)](_0x381405(0x14d)+_0x57b2bf[_0x381405(0x99)]['stack']):_0x3525bf+=_0x381405(0xb5)+_0x2804b1[_0x381405(0xf3)]+'\x20'+(_0x46c22a?_0xa64ab1[_0x381405(0x9c)]:_0xa64ab1[_0x381405(0xd4)])+'\x0a\x0a');}async function generateReport(_0x30c608,_0xd47466){const _0x4ebfba=a17_0x28ade1,_0x39bc1c={'UUyQe':function(_0x40ae18,_0x2ee46b){return _0x40ae18+_0x2ee46b;},'lSbpV':'Success','JIOls':'Failure','ctCLZ':function(_0x145123,_0x1bbf0b){return _0x145123||_0x1bbf0b;},'VlAjH':_0x4ebfba(0xc9),'pLmpd':_0x4ebfba(0x133),'uyWsu':'Cluster\x20details\x0a-----------------------\x0a','XIsMR':function(_0x3f8cba,_0x182157){return _0x3f8cba!=_0x182157;},'SJLHM':_0x4ebfba(0xbe),'DlbdG':_0x4ebfba(0x9e),'hBkWo':function(_0x544615){return _0x544615();}};let _0x4ba9c4=_0x4ebfba(0xd3)+global_registry[_0x4ebfba(0x108)]+'\x20===\x0a\x0a';return _0x30c608[_0x4ebfba(0xba)]((_0x3ee70e,_0x48905)=>{const _0x38a29d=_0x4ebfba,{header:_0x235cf1,response:_0x557c36}=_0x3ee70e,{status:_0x4a445f,data:_0x265fbd,error:_0x4f8e63}=_0x557c36;_0x4ba9c4+=_0x235cf1+'\x20#'+_0x39bc1c[_0x38a29d(0x134)](_0x48905,0x1)+'\x0a',_0x4ba9c4+=_0x38a29d(0x110)+(_0x4a445f?_0x39bc1c[_0x38a29d(0xbb)]:_0x39bc1c[_0x38a29d(0x176)])+'\x0a',_0x4ba9c4+='Message:\x20'+_0x39bc1c['ctCLZ'](_0x265fbd,_0x39bc1c[_0x38a29d(0x120)])+'\x0a',_0x4f8e63&&(_0x4ba9c4+=_0x39bc1c[_0x38a29d(0x126)],_0x4ba9c4+=_0x38a29d(0x116)+(_0x4f8e63['message']||_0x39bc1c[_0x38a29d(0x120)])+'\x0a',_0x4ba9c4+=_0x38a29d(0x115)+(_0x4f8e63['code']||_0x39bc1c[_0x38a29d(0x120)])+'\x0a',_0x4ba9c4+='\x20\x20Stack:\x20'+(_0x4f8e63[_0x38a29d(0x10b)]||_0x39bc1c[_0x38a29d(0x120)])+'\x0a'),_0x4ba9c4+='\x0a\x0a';}),_0x4ba9c4+=_0x39bc1c[_0x4ebfba(0x145)],_0x39bc1c['XIsMR'](_0xd47466,null)?_0x4ba9c4+='Cluster\x20'+global_registry[_0x4ebfba(0xf3)]+'\x20'+(_0xd47466?_0x39bc1c['SJLHM']:_0x39bc1c[_0x4ebfba(0xa7)])+'\x0a\x0a':_0x4ba9c4+='Cluster\x20'+global_registry[_0x4ebfba(0xf3)]+_0x4ebfba(0xd7),_0x4ba9c4+=_0x39bc1c[_0x4ebfba(0x162)](getSystemMetaData),_0x4ba9c4;};function a17_0x3bef(){const _0x364bb1=['stringify','Check\x20the\x20pre-requisites\x20needed\x20for\x20Automation\x20grid\x20setup','../../utils/webSocketUtils','../../config/constants','push','ZgwPa','PMYKF','bstackAccesskey','iHkqs','wxOKq','KOinC','Pass\x20the\x20name\x20of\x20cloud\x20provider\x20for\x20existing\x20Kubernetes\x20Cluster.','cloudProvider','geUPH','cloud-provider','stack','ztuId','esnPu','nblWD','NYFIE','Status:\x20','EnSig','pre_check','MqjBV','.\x20Please\x20provide\x20all\x20required\x20arguments.','\x20\x20Code:\x20','\x20\x20Message:\x20','QcARE','DMvwD','CLOUD_PROVIDER','status','https://','\x20region\x20-\x20','KutLl','grid-profile','Report\x20saved\x20in\x20','VlAjH','\x20data\x20:\x20','HosDc','JnPoO','handler','desc','pLmpd','1991646QLkrwT','uuid',']\x20status\x20:\x20','GFXCy','4653150GCEyuU','Failure','Jhxue','Error\x20in\x20input\x20validation\x20while\x20pre-check\x20-\x20','parse','hloxL','WebSocket','237826ZkhpbU','Error\x20Details:\x0a','UUyQe','1rKwJdM','816932NqFOtR','help','RULCn','DAdDh','Tool\x20Installed','aXpYS','LMeFk','VSaBT','DFIxz','Failed\x20in\x20pre-check!\x20Error:\x20','init','pre-check-grid-called','<PasswordPlaceholder>','throwHttpErrors','rFYEL','uyWsu','region','pPBRe','message','cQcEG','sendEventToBackend','got','stack\x20trace\x20','error\x20stack\x20:\x20','NQaCD','lddLt','.txt','cluster-check-failed-','command','Pre-check\x20running\x20for\x20Cloud\x20-\x20','fRKGQ','HXYyk','YLdFw','XEkrX','Create\x20a\x20grid\x20in\x20existing\x20Kubernetes\x20Cluster\x20on\x20AWS/Azure/GCP.','TLSv1_2_client_method','JFlhw','WbbJq','lCbsS','ERROR','header','pre-check-failed','method','1519077EBmiwX','hBkWo','pre-check','`\x20,error\x20:\x20','options','<UsernamePlaceholder>','argv','FjNtf','isTls1_2_SUPPORTED','mNAkd','\x20error\x20:\x20','replace','0|2|3|4|1','Use\x20an\x20existing\x20grid\x20profile\x20to\x20setup\x20the\x20Automation\x20Grid.\x20By\x20default,\x20configured\x20profile\x20is\x20used.','cluster-name','gridProfile','data','1784480OmnKEj','sGtAN','split','hnFWK','JIOls','VGGAA','\x20\x20Stack:\x20','YnxXm','HgAQu','AHgJO','/packages/cli/get-all-grid-profiles','AEYkl','ZKsyw','OZeve','Missing\x20required\x20arguments.\x20Please\x20provide\x20either\x20grid\x20profile\x20or\x20cluster\x20details\x20(cluser-name\x20,\x20cloud\x20provider\x20&\x20region','PMtaK','zmLOj','../../utils/instrumentationUtils','ibPIK','getUTCMinutes','ADpRP','ZjQqH','pre-check-cluster-args-not-passed','cloud-provider-not-supported','bstackUsername','Qppxs','Browserstack','ySxwl','UTovy','gmMfg','getUTCMonth','TTeTz','epilogue','WJaaM','zhaWE','IdlXW','Whitelisted\x20browserstack','usage','getUTCHours','error','type','delay','FDLbx','tpYha','will\x20be\x20created','connectionTimeout','bZKkT','nilhg','SSL\x20Configured','length','code','KkEnp','debug','DlbdG','VhSts','CPdOL','MELIR','string','headers','slqUF','`\x20is\x20present\x20in\x20region\x20`','ldqXM','AqXsW','rXtxd','eaOMT','getUTCFullYear','udKKT','Cluster\x20','dummy-grid','16950zSmpuE','writeFileSync','checkAccess','forEach','lSbpV','lRJbV','WkMRQ','is\x20already\x20present','readFileSync','kgXWG','FMPyY','../../config/logger','info','reconnecting-websocket','gwSNw','INFO','6AnxRds','isCliToolInstalled','N/A','aZcoZ','kXAQp','toolInstalledResp','requestId','exit','Message:\x20','sIZfj','ItQib','password','===\x20Precheck\x20Report\x20-\x20','ZgINH','Pass\x20the\x20region\x20for\x20existing\x20Kubernetes\x20Cluster.','isClusterPresent','\x20details\x20cannot\x20be\x20fetched\x0a\x0a','response','join','grid','clusterRegion','Setting\x20cloud\x20provider\x20as\x20','eeTWl','description','ikxfR','erozC','Invalid\x20input.\x20Currently\x20the\x20automation\x20grid\x20in\x20AWS,\x20AZURE\x20&\x20GCP\x20cloud\x20provider\x20is\x20supported\x20using\x20CLI.','Jlddi','User\x20Access','354QOaJsz','soapn','kAzlI','gqpJV','gjrFI','bAUaK','Success','jlBuf','LOG','DcAck','wbKOk','existsSync','Cluster\x20`','bpbeK','raUMr','clusterName','ZgXvw','DmYMr','authHeader','Invalid\x20input.\x20grid\x20profiles:\x20','`\x20already\x20exists','bmtvB','xKANe','qOykB'];a17_0x3bef=function(){return _0x364bb1;};return a17_0x3bef();}exports[a17_0x28ade1(0x124)]=async function(_0x3ebbee){const _0x590892=a17_0x28ade1,_0x32eeb6={'VWeMt':function(_0x4ac329){return _0x4ac329();},'HTsiD':function(_0x228232){return _0x228232();},'wbKOk':'Credentials\x20not\x20found!\x20Ensure\x20init\x20command\x20is\x20run\x20before\x20running\x20this\x20command.','esnPu':function(_0x5e02c5,_0x182c94,_0x1329b0,_0x1f5874,_0x1076d7,_0xece6b6,_0x4e5e7b,_0xcc9cfb){return _0x5e02c5(_0x182c94,_0x1329b0,_0x1f5874,_0x1076d7,_0xece6b6,_0x4e5e7b,_0xcc9cfb);},'KkEnp':_0x590892(0x141),'IdlXW':'credential-not-found','ldqXM':_0x590892(0x99),'zmLOj':function(_0x28032e,_0x501f69,_0x2b1b69,_0x57923c,_0x2c46d2,_0x4817ca,_0x168fc9){return _0x28032e(_0x501f69,_0x2b1b69,_0x57923c,_0x2c46d2,_0x4817ca,_0x168fc9);},'JFlhw':function(_0x45e39e){return _0x45e39e();},'FxpCC':_0x590892(0x166),'PMYKF':_0x590892(0x142),'cQcEG':function(_0x1b7bec,_0x5a4275,_0x363d90){return _0x1b7bec(_0x5a4275,_0x363d90);},'qOykB':_0x590892(0xb6),'geUPH':_0x590892(0xcc),'VGGAA':_0x590892(0x16d),'bAUaK':function(_0x392c14,_0x2fbcc9,_0x2b663f,_0x11292b,_0x56ff74,_0x4e4af4,_0x25c2dc,_0x25e330){return _0x392c14(_0x2fbcc9,_0x2b663f,_0x11292b,_0x56ff74,_0x4e4af4,_0x25c2dc,_0x25e330);},'raUMr':function(_0x5c2131,_0x5336c9,_0x56938e){return _0x5c2131(_0x5336c9,_0x56938e);},'VhSts':'accessResp','hnFWK':function(_0x166443,_0x425cfe,_0x5a3b62){return _0x166443(_0x425cfe,_0x5a3b62);},'RULCn':'isTrialGridAccessible','ZKsyw':function(_0x52a9ab,_0x17cd45){return _0x52a9ab(_0x17cd45);},'TTeTz':_0x590892(0x159),'DFIxz':_0x590892(0x169),'DMvwD':_0x590892(0x13a),'sGtAN':_0x590892(0xe3),'ikxfR':_0x590892(0x96),'xKANe':_0x590892(0xa2),'lRJbV':function(_0x39bf4d,_0x3ed99a,_0x280ef0){return _0x39bf4d(_0x3ed99a,_0x280ef0);},'MqjBV':function(_0x4becd1,_0x3f6a71){return _0x4becd1+_0x3f6a71;},'gmMfg':'utf-8','VSltN':_0x590892(0x15f)};let _0x26b667,_0x50b3a6;try{global_registry[_0x590892(0xcd)]=_0x32eeb6['VWeMt'](uuidv4);!fs[_0x590892(0xef)](_0x32eeb6['HTsiD'](getCredentialsPath))&&(_0x50b3a6=_0x32eeb6[_0x590892(0xee)],logger['error'](_0x50b3a6),await _0x32eeb6[_0x590892(0x10d)](reportToGalactusAndSendToEDS,_0x3ebbee,_0x26b667,_0x50b3a6,messageTypes[_0x590892(0x15d)],_0x32eeb6[_0x590892(0xa5)],_0x32eeb6[_0x590892(0x95)],_0x32eeb6[_0x590892(0xaf)]),process[_0x590892(0xce)](0x1));_0x32eeb6[_0x590892(0x182)](sendInstrumentationEvent,_0x3ebbee,_0x32eeb6['KkEnp'],messageTypes[_0x590892(0xc6)],null,null,_0x3ebbee);const _0x4e3985=JSON[_0x590892(0x12f)](fs[_0x590892(0xbf)](_0x32eeb6[_0x590892(0x15a)](getCredentialsPath)));global_registry[_0x590892(0x8a)]=_0x4e3985[_0x590892(0x8c)]['username'],global_registry[_0x590892(0x103)]=_0x4e3985[_0x590892(0x8c)]['password'];const _0x1a6a08=WS_ENDPOINT['replace'](_0x32eeb6['FxpCC'],_0x4e3985[_0x590892(0x8c)]['username'])[_0x590892(0x16c)](_0x32eeb6[_0x590892(0x102)],_0x4e3985[_0x590892(0x8c)][_0x590892(0xd2)]),_0x339ce5={};_0x339ce5[_0x590892(0x131)]=ws,_0x339ce5[_0x590892(0x9f)]=0x36ee80,_0x26b667=new ReconnectingWebSocket(_0x1a6a08,[],_0x339ce5),global_registry[_0x590892(0xf6)]=_0x32eeb6[_0x590892(0x149)](getAuthHeader,global_registry[_0x590892(0x8a)],global_registry['bstackAccesskey']),await _0x32eeb6[_0x590892(0x149)](inputValidation,_0x3ebbee,_0x26b667),logger['info'](_0x590892(0x153)+global_registry[_0x590892(0x108)]+_0x590892(0x11c)+global_registry['clusterRegion']);let _0x388e4d=await _0x32eeb6[_0x590892(0x182)](getCloudProviderObjectWithOutInit,global_registry['cloudProvider'],global_registry[_0x590892(0xf3)],_0x32eeb6[_0x590892(0xfb)],_0x26b667,webSocketUtils,_0x3ebbee);const _0x2c77cb=await _0x388e4d[_0x590892(0xc8)]();_0x32eeb6['cQcEG'](printResponse,_0x32eeb6[_0x590892(0x109)],_0x2c77cb),_0x388e4d=await _0x388e4d[_0x590892(0x140)]();let _0x24c6cd=![];try{_0x24c6cd=await _0x388e4d[_0x590892(0xd6)]();}catch(_0x3e45af){const _0xe4020f=_0x32eeb6[_0x590892(0x177)][_0x590892(0x174)]('|');let _0x2ad36b=0x0;while(!![]){switch(_0xe4020f[_0x2ad36b++]){case'0':_0x50b3a6='unable\x20to\x20verify\x20if\x20cluster\x20`'+global_registry[_0x590892(0xf3)]+_0x590892(0xae)+global_registry[_0x590892(0xdb)]+_0x590892(0x164)+_0x3e45af;continue;case'1':await _0x32eeb6[_0x590892(0xe9)](reportToGalactusAndSendToEDS,_0x3ebbee,_0x26b667,_0x50b3a6,messageTypes['ERROR'],_0x32eeb6[_0x590892(0xa5)],_0x590892(0x151)+global_registry[_0x590892(0x108)],_0x32eeb6['ldqXM']);continue;case'2':_0x24c6cd=null;continue;case'3':logger[_0x590892(0x99)](_0x50b3a6);continue;case'4':_0x50b3a6+='\x0a'+JSON['stringify'](_0x3e45af[_0x590892(0x10b)]);continue;}break;}}_0x24c6cd&&logger['info'](_0x590892(0xf0)+global_registry[_0x590892(0xf3)]+_0x590892(0xf8));const _0x340e16=await _0x388e4d[_0x590892(0xb9)]();_0x32eeb6[_0x590892(0xf2)](printResponse,_0x32eeb6[_0x590892(0xa8)],_0x340e16);const _0x39cb45=await _0x32eeb6['HTsiD'](curlRequest);_0x32eeb6[_0x590892(0x175)](printResponse,_0x32eeb6[_0x590892(0x138)],_0x39cb45);const _0x416fd5=await _0x32eeb6[_0x590892(0x17e)](isTlsSupported,_0x32eeb6[_0x590892(0x91)]);_0x32eeb6[_0x590892(0x149)](printResponse,_0x32eeb6[_0x590892(0x13e)],_0x416fd5);const _0x503575={};_0x503575[_0x590892(0x15e)]=_0x32eeb6[_0x590892(0x118)],_0x503575[_0x590892(0xd8)]=_0x2c77cb;const _0xc246e5={};_0xc246e5[_0x590892(0x15e)]=_0x32eeb6[_0x590892(0x173)],_0xc246e5['response']=_0x340e16;const _0x505f93={};_0x505f93[_0x590892(0x15e)]=_0x32eeb6[_0x590892(0xdf)],_0x505f93[_0x590892(0xd8)]=_0x39cb45;const _0x5206f2={};_0x5206f2['header']=_0x32eeb6[_0x590892(0xfa)],_0x5206f2[_0x590892(0xd8)]=_0x416fd5;const _0x214bba=[_0x503575,_0xc246e5,_0x505f93,_0x5206f2],_0x43a6e1=await _0x32eeb6[_0x590892(0xbc)](generateReport,_0x214bba,_0x24c6cd),_0x469cc1=new Date(),_0x21a17f=_0x469cc1[_0x590892(0xb3)]()+'_'+_0x32eeb6[_0x590892(0x113)](_0x469cc1[_0x590892(0x90)](),0x1)+'_'+_0x469cc1['getUTCDate']()+'_'+_0x469cc1[_0x590892(0x98)]()+'_'+_0x469cc1[_0x590892(0x185)](),_0x5cbb5c='log/report_'+_0x21a17f+_0x590892(0x150);fs[_0x590892(0xb8)](_0x5cbb5c,_0x43a6e1,_0x32eeb6[_0x590892(0x8f)]),logger[_0x590892(0xc3)](_0x590892(0x11f)+_0x5cbb5c),process[_0x590892(0xce)](0x0);}catch(_0x3c7ecd){let _0x3474e7=_0x590892(0x13f)+_0x3c7ecd+'\x20';logger['error'](_0x3474e7),_0x3474e7+='\x0a'+JSON[_0x590892(0xfc)](_0x3c7ecd[_0x590892(0x10b)]),logger[_0x590892(0xa6)](_0x590892(0x14c)+_0x3c7ecd['stack']);if(_0x26b667){const _0x1906a6={};_0x1906a6[_0x590892(0x9a)]=WS_EVENTS[_0x590892(0xec)],_0x1906a6[_0x590892(0x148)]=_0x3474e7,webSocketUtils[_0x590892(0x14a)](_0x26b667,_0x1906a6,_0x32eeb6[_0x590892(0xaf)],!![]);}await webSocketUtils[_0x590892(0x9b)](0x7d0);const _0x2fe6a9={};_0x2fe6a9[_0x590892(0x99)]=_0x3474e7,await _0x32eeb6[_0x590892(0x182)](sendInstrumentationEvent,_0x3ebbee,_0x32eeb6['KkEnp'],messageTypes[_0x590892(0x15d)],_0x32eeb6['VSltN'],_0x2fe6a9,_0x3ebbee),process[_0x590892(0xce)](0x1);}};