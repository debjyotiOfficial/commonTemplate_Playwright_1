const a1_0x1a0de9=a1_0xdad0;(function(_0x21bc0d,_0x34105f){const _0x36a0da=a1_0xdad0,_0x2563fb=_0x21bc0d();while(!![]){try{const _0x34b8d7=parseInt(_0x36a0da(0x100))/0x1*(parseInt(_0x36a0da(0x223))/0x2)+parseInt(_0x36a0da(0x112))/0x3*(parseInt(_0x36a0da(0x123))/0x4)+-parseInt(_0x36a0da(0xd1))/0x5+parseInt(_0x36a0da(0x2b3))/0x6*(-parseInt(_0x36a0da(0x28a))/0x7)+-parseInt(_0x36a0da(0x1b1))/0x8*(parseInt(_0x36a0da(0x1a5))/0x9)+-parseInt(_0x36a0da(0x2ca))/0xa*(-parseInt(_0x36a0da(0x15e))/0xb)+parseInt(_0x36a0da(0x213))/0xc*(parseInt(_0x36a0da(0x2c8))/0xd);if(_0x34b8d7===_0x34105f)break;else _0x2563fb['push'](_0x2563fb['shift']());}catch(_0x5e6b6e){_0x2563fb['push'](_0x2563fb['shift']());}}}(a1_0x5c9e,0x39d22));const fs=require('fs'),path=require('path'),yaml=require(a1_0x1a0de9(0x1a4)),{logger}=require(a1_0x1a0de9(0x2c7)),{CloudProvider}=require(a1_0x1a0de9(0x17b)),{deleteRoutingDeps,deleteAgent}=require(a1_0x1a0de9(0x172)),{AZURE,WS_EVENTS,global_registry}=require(a1_0x1a0de9(0x278)),PERMISSIONS=require('../permissions/AZURE.json'),{ClientSecretCredential}=require(a1_0x1a0de9(0x21b)),{NetworkManagementClient}=require(a1_0x1a0de9(0x1e6)),{StorageManagementClient}=require('@azure/arm-storage'),{AuthorizationManagementClient}=require(a1_0x1a0de9(0x227)),{ResourceManagementClient}=require('@azure/arm-resources'),{ContainerServiceClient}=require(a1_0x1a0de9(0x240)),{runCommand}=require(a1_0x1a0de9(0x212));class AzureCloudProvider extends CloudProvider{constructor(_0x37103d,_0x563527,_0x1c2968,_0x93fd74){const _0x286fe1=a1_0x1a0de9,_0x422efb={};_0x422efb['LEHEY']=_0x286fe1(0x26a);const _0x4f55d6=_0x422efb,_0x5ca0eb=_0x4f55d6[_0x286fe1(0x214)][_0x286fe1(0x1fa)]('|');let _0xda089b=0x0;while(!![]){switch(_0x5ca0eb[_0xda089b++]){case'0':this[_0x286fe1(0x284)]=null;continue;case'1':this['networkClient']=null;continue;case'2':this[_0x286fe1(0x114)]=null;continue;case'3':this['storageClient']=null;continue;case'4':this[_0x286fe1(0x24c)]=null;continue;case'5':super(AZURE,_0x37103d,_0x563527,_0x1c2968,_0x93fd74);continue;case'6':this[_0x286fe1(0x220)]=null;continue;case'7':this[_0x286fe1(0x265)]=null;continue;}break;}}async[a1_0x1a0de9(0x289)](){const _0x137f52=a1_0x1a0de9;return await super[_0x137f52(0x289)](),this;}[a1_0x1a0de9(0x131)](){const _0x594816=a1_0x1a0de9,_0x4eb0d0=new ClientSecretCredential(global_registry['cloudProviderTenantId'],global_registry[_0x594816(0x14b)],global_registry[_0x594816(0x11e)]);this[_0x594816(0x284)]=new ContainerServiceClient(_0x4eb0d0,global_registry['cloudProviderSubscriptionId']),this[_0x594816(0x1b4)]=new StorageManagementClient(_0x4eb0d0,global_registry[_0x594816(0x1c7)]),this[_0x594816(0x220)]=new ResourceManagementClient(_0x4eb0d0,global_registry[_0x594816(0x1c7)]),this[_0x594816(0x18f)]=new NetworkManagementClient(_0x4eb0d0,global_registry[_0x594816(0x1c7)]),this[_0x594816(0x24c)]=new AuthorizationManagementClient(_0x4eb0d0,global_registry[_0x594816(0x1c7)]),this['cred']=_0x4eb0d0;}[a1_0x1a0de9(0x2cb)](){const _0x170f31=a1_0x1a0de9,_0xafe7c3={};_0xafe7c3[_0x170f31(0xd8)]=function(_0x386014,_0x3ff5df){return _0x386014+_0x3ff5df;},_0xafe7c3[_0x170f31(0x2a6)]=_0x170f31(0x142),_0xafe7c3[_0x170f31(0x251)]=function(_0x1f11c6,_0x34dee4){return _0x1f11c6-_0x34dee4;};const _0x5cf188=_0xafe7c3,_0x377b16=global_registry[_0x170f31(0x1a6)][_0x170f31(0x1fa)]('-'),_0xd1a298=_0x5cf188[_0x170f31(0xd8)](_0x5cf188[_0x170f31(0x2a6)],_0x377b16[_0x5cf188[_0x170f31(0x251)](_0x377b16[_0x170f31(0x230)],0x1)])[_0x170f31(0x286)](0x0,0x18);return _0xd1a298[_0x170f31(0x135)]();}[a1_0x1a0de9(0x2c5)](_0x5b89b8){const _0x2f10b6=a1_0x1a0de9,_0x24be07={};_0x24be07[_0x2f10b6(0x10a)]='3|4|0|2|1|5';const _0x117df5=_0x24be07,_0x1d40b5=_0x117df5[_0x2f10b6(0x10a)]['split']('|');let _0x5c6c96=0x0;while(!![]){switch(_0x1d40b5[_0x5c6c96++]){case'0':global_registry[_0x2f10b6(0x210)]=_0x5b89b8[this[_0x2f10b6(0x25a)]][_0x2f10b6(0x23d)];continue;case'1':global_registry[_0x2f10b6(0x260)]=_0x5b89b8[this['cloudProviderName']][_0x2f10b6(0x12f)];continue;case'2':global_registry[_0x2f10b6(0x1c7)]=_0x5b89b8[this['cloudProviderName']]['subscriptionId'];continue;case'3':global_registry['cloudProviderClientId']=_0x5b89b8[this[_0x2f10b6(0x25a)]][_0x2f10b6(0xeb)];continue;case'4':global_registry[_0x2f10b6(0x11e)]=_0x5b89b8[this[_0x2f10b6(0x25a)]][_0x2f10b6(0x268)];continue;case'5':this[_0x2f10b6(0x131)]();continue;}break;}}async[a1_0x1a0de9(0x2c4)](_0x15551a,_0xc25b4b){const _0x43ca0c=a1_0x1a0de9,_0xf51311={'TacRy':'Enabling\x20Local\x20account\x20for\x20the\x20cluster','LKfHT':_0x43ca0c(0x14f),'wQSAF':function(_0xe47ab8,_0x5d93b1){return _0xe47ab8===_0x5d93b1;},'XIoJk':'string','kfzZI':_0x43ca0c(0x270),'dHvbS':_0x43ca0c(0x13f),'xeTnC':_0x43ca0c(0x1f6),'vNWdB':function(_0x47f501,_0x419126){return _0x47f501(_0x419126);},'cUhgu':function(_0x58d0c5,_0x31c1eb){return _0x58d0c5(_0x31c1eb);},'ZkgfP':function(_0x283ac0,_0x59cb36){return _0x283ac0===_0x59cb36;},'RUEKK':_0x43ca0c(0x29e),'ENuLf':_0x43ca0c(0x149),'TKFxF':function(_0x1bcb79,_0xba7b0b){return _0x1bcb79===_0xba7b0b;},'SEomB':function(_0x42ca1a,_0x57a585){return _0x42ca1a===_0x57a585;},'NVjgE':'zZZLR','dHOgb':_0x43ca0c(0x249),'nbBZl':function(_0x399a36,_0x2edfb0){return _0x399a36===_0x2edfb0;},'tKQTv':function(_0x563c4e,_0x72a40f){return _0x563c4e===_0x72a40f;},'ThhjB':function(_0x2a79b2,_0x5e81ee){return _0x2a79b2===_0x5e81ee;},'eQPOl':function(_0x50be85,_0x5355ec){return _0x50be85!==_0x5355ec;},'xuyUd':_0x43ca0c(0x101),'ZHtgo':_0x43ca0c(0x14a),'CAWLd':_0x43ca0c(0x21e),'FWrLm':function(_0x5953e7,_0x136760){return _0x5953e7===_0x136760;},'MXYVM':function(_0x49a131,_0x3a4e3b){return _0x49a131!==_0x3a4e3b;},'Yuozf':_0x43ca0c(0x184),'PPjko':function(_0x1e71a9,_0x12b5d6){return _0x1e71a9!==_0x12b5d6;},'SGqCU':_0x43ca0c(0x179),'WwkcY':function(_0x43177c,_0x3ec218){return _0x43177c<_0x3ec218;},'SjlKx':_0x43ca0c(0x291),'FXZUH':function(_0x41c5a1,_0x10ea71){return _0x41c5a1+_0x10ea71;},'TYtOt':function(_0x5b5155,_0x3f65d0){return _0x5b5155(_0x3f65d0);},'mXmWU':_0x43ca0c(0x281),'hXELd':function(_0x348797,_0xdc9a14){return _0x348797(_0xdc9a14);},'fdcss':function(_0x45db4a,_0x28b3a9){return _0x45db4a<=_0x28b3a9;},'pHfjL':function(_0x162470,_0x4c6909){return _0x162470>_0x4c6909;},'DizWK':_0x43ca0c(0x283),'Ofqql':_0x43ca0c(0x1b2),'USMaa':function(_0x516a58,_0x772b97){return _0x516a58-_0x772b97;}},_0x53d610=this[_0x43ca0c(0x25a)][_0x43ca0c(0x146)](),_0x42c772=await _0xf51311[_0x43ca0c(0x2a0)](_0x15551a,_0x53d610+'\x20CLIENT\x20ID:\x20'),_0x40fb5a=await _0xf51311[_0x43ca0c(0x2a0)](_0x15551a,_0x53d610+_0x43ca0c(0x18e)),_0x754519=await _0xf51311[_0x43ca0c(0x2a0)](_0x15551a,_0x53d610+'\x20TENANT\x20ID:\x20'),_0x14deca=await _0xf51311[_0x43ca0c(0x12c)](_0x15551a,_0x53d610+'\x20SUBSCRIPTION\x20ID:\x20');global_registry[_0x43ca0c(0x14b)]=_0x42c772,global_registry['cloudProviderClientSecret']=_0x40fb5a,global_registry[_0x43ca0c(0x210)]=_0x754519,global_registry[_0x43ca0c(0x1c7)]=_0x14deca,this[_0x43ca0c(0x131)]();const _0x5165c0=await this[_0x43ca0c(0x2bf)](),_0xd0b813=_0x5165c0[_0x43ca0c(0x230)];let _0x1129e4;if(_0xf51311['wQSAF'](_0xd0b813,0x0)){if(_0xf51311[_0x43ca0c(0xe9)](_0xf51311[_0x43ca0c(0x2b7)],_0xf51311[_0x43ca0c(0x234)]))return!![];else _0x1129e4=await _0xf51311[_0x43ca0c(0x12c)](_0x15551a,_0x53d610+_0x43ca0c(0x294));}else{if(_0xf51311[_0x43ca0c(0x1a3)](_0xd0b813,0x1)){if(_0xf51311[_0x43ca0c(0x1b3)](_0xf51311['NVjgE'],_0xf51311[_0x43ca0c(0xd2)])){_0x419fc1['info'](_0xf51311[_0x43ca0c(0x217)]);const _0x2d9c4d={};_0x2d9c4d['type']=_0x54edc7[_0x43ca0c(0x1da)],_0x2d9c4d[_0x43ca0c(0x197)]=_0xf51311[_0x43ca0c(0x217)],this['webSocketUtils'][_0x43ca0c(0xcc)](this['rws'],_0x2d9c4d),_0x551939['disableLocalAccounts']=![];}else{const _0x3deac1=await _0xf51311[_0x43ca0c(0x12c)](_0x15551a,'Found\x20only\x20one\x20resource\x20group:\x20'+_0x5165c0[0x0]+_0x43ca0c(0x23b));(_0xf51311['nbBZl'](_0x3deac1,undefined)||_0xf51311[_0x43ca0c(0xe8)](_0x3deac1,null)||!(_0xf51311[_0x43ca0c(0xe9)](_0x3deac1[_0x43ca0c(0x135)](),'y')||_0xf51311['ThhjB'](_0x3deac1['toLowerCase'](),'n')))&&(_0xf51311[_0x43ca0c(0x2c3)](_0xf51311['xuyUd'],_0xf51311[_0x43ca0c(0x140)])?(console[_0x43ca0c(0x2be)](_0xf51311['CAWLd']),process[_0x43ca0c(0x276)](0x1)):_0x40eae9[_0x43ca0c(0x22f)](_0x15819e)),_0xf51311[_0x43ca0c(0x1fd)](_0x3deac1[_0x43ca0c(0x135)](),'n')&&(_0xf51311[_0x43ca0c(0x1e5)](_0xf51311['Yuozf'],_0xf51311[_0x43ca0c(0x1e4)])?_0x4b6e0e[_0x43ca0c(0x2be)]=_0x2f0b2a:process['exit'](0x0)),_0x1129e4=_0x5165c0[0x0];}}else{if(_0xf51311[_0x43ca0c(0xea)](_0xf51311['SGqCU'],_0xf51311[_0x43ca0c(0x10e)])){const _0x3b0e84=_0xf51311['LKfHT'][_0x43ca0c(0x1fa)]('|');let _0x1ee3ce=0x0;while(!![]){switch(_0x3b0e84[_0x1ee3ce++]){case'0':_0x65ab03[_0x43ca0c(0x14b)]=_0x386c72[this[_0x43ca0c(0x25a)]][_0x43ca0c(0xeb)];continue;case'1':_0xc0c8a2['cloudProviderSubscriptionId']=_0x59ec9[this[_0x43ca0c(0x25a)]][_0x43ca0c(0x2a3)];continue;case'2':_0x31969b['cloudProviderTenantId']=_0x1ddac7[this[_0x43ca0c(0x25a)]]['tenantId'];continue;case'3':_0x3b7bd7[_0x43ca0c(0x11e)]=_0x1effcf[this[_0x43ca0c(0x25a)]][_0x43ca0c(0x268)];continue;case'4':this['setClients']();continue;case'5':_0xb1a8d7[_0x43ca0c(0x260)]=_0x2a4375[this[_0x43ca0c(0x25a)]][_0x43ca0c(0x12f)];continue;}break;}}else{for(let _0x5e860c=0x0;_0xf51311['WwkcY'](_0x5e860c,_0x5165c0[_0x43ca0c(0x230)]);_0x5e860c+=0x1){_0xf51311[_0x43ca0c(0x287)](_0xf51311['SjlKx'],_0xf51311[_0x43ca0c(0x23f)])?console[_0x43ca0c(0x2c9)]('['+_0xf51311[_0x43ca0c(0x241)](_0x5e860c,0x1)+']\x20'+_0x5165c0[_0x5e860c]):_0xf51311[_0x43ca0c(0x299)](_0x1e670f['name'],_0x5a19c9)&&(_0x5660e3=_0x47a453['id']);}const _0x3397f7=await _0xf51311[_0x43ca0c(0x167)](_0x15551a,_0xf51311[_0x43ca0c(0xe6)]),_0x4c15e8=_0xf51311[_0x43ca0c(0x167)](Number,_0x3397f7);if(_0xf51311[_0x43ca0c(0x2a9)](isNaN,_0x4c15e8)||_0xf51311['fdcss'](_0x4c15e8,0x0)||_0xf51311[_0x43ca0c(0x202)](_0x4c15e8,_0xd0b813)){if(_0xf51311[_0x43ca0c(0x299)](_0xf51311[_0x43ca0c(0x109)],_0xf51311[_0x43ca0c(0x1fc)])){const _0x5cbb6d={};_0x5cbb6d[_0x43ca0c(0x23a)]=_0xf51311[_0x43ca0c(0x10c)],_0x5cbb6d[_0x43ca0c(0x1a2)]={},_0x5cbb6d[_0x43ca0c(0x1a2)][_0x43ca0c(0x224)]=_0xf51311['kfzZI'];const _0x3bf36b={};_0x3bf36b[_0x43ca0c(0x23a)]=_0xf51311[_0x43ca0c(0x10c)],_0x3bf36b[_0x43ca0c(0x1a2)]={},_0x3bf36b[_0x43ca0c(0x1a2)][_0x43ca0c(0x224)]=_0xf51311[_0x43ca0c(0x1b0)];const _0x1878c4={..._0x11b34e[_0x43ca0c(0x1db)]};_0x1878c4[_0x43ca0c(0x1f8)]=_0x5cbb6d,_0x1878c4[_0x43ca0c(0x253)]=_0x3bf36b,_0x5608fc[_0x43ca0c(0x1db)]=_0x1878c4;const _0x23ef5a={};_0x23ef5a[_0x43ca0c(0x215)]=_0xf51311[_0x43ca0c(0x20c)],_0xd9c796[_0x43ca0c(0x180)]=_0x23ef5a;const _0x383ca8={..._0x53c8dc['resources'][0x0][_0x43ca0c(0x106)][_0x43ca0c(0x12b)][0x0]};_0x383ca8[_0x43ca0c(0x215)]=_0xf51311[_0x43ca0c(0x29b)],_0x2e14c8[_0x43ca0c(0x188)][0x0][_0x43ca0c(0x106)][_0x43ca0c(0x12b)][0x0]=_0x383ca8;const _0xf8050c={};_0xf8050c[_0x43ca0c(0x136)]=_0x223ac;const _0x2b9d37={};_0x2b9d37['value']=_0x809d1f[0x0];const _0x1fd18b={..._0x1f6ee5};_0x1fd18b[_0x43ca0c(0x1f8)]=_0xf8050c,_0x1fd18b[_0x43ca0c(0x253)]=_0x2b9d37,_0xb5018d=_0x1fd18b;}else console[_0x43ca0c(0x2be)](_0xf51311[_0x43ca0c(0x1e0)]),process[_0x43ca0c(0x276)](0x1);}_0x1129e4=_0x5165c0[_0xf51311[_0x43ca0c(0x133)](_0x4c15e8,0x1)];}}}global_registry[_0x43ca0c(0x260)]=_0x1129e4;const _0x351181={};return _0x351181['clientId']=_0x42c772,_0x351181[_0x43ca0c(0x268)]=_0x40fb5a,_0x351181[_0x43ca0c(0x23d)]=_0x754519,_0x351181['subscriptionId']=_0x14deca,_0x351181[_0x43ca0c(0x12f)]=_0x1129e4,_0xc25b4b[_0x43ca0c(0x205)][AZURE]=_0x351181,_0xc25b4b;}async['getResourceGroups'](){const _0x2b908e=a1_0x1a0de9,_0x2660a1={};_0x2660a1[_0x2b908e(0x2c1)]=function(_0x16055b,_0x2d04e3){return _0x16055b===_0x2d04e3;},_0x2660a1[_0x2b908e(0x1c4)]=function(_0xcd853f,_0x4b4246){return _0xcd853f===_0x4b4246;},_0x2660a1[_0x2b908e(0xf9)]=_0x2b908e(0x12a),_0x2660a1['izZUP']=_0x2b908e(0x243),_0x2660a1['vDbEJ']=_0x2b908e(0x155);const _0x4e4c5b=_0x2660a1,_0xa0b25a=[];try{if(_0x4e4c5b[_0x2b908e(0x1c4)](_0x4e4c5b[_0x2b908e(0xf9)],_0x4e4c5b[_0x2b908e(0xf9)])){const _0x15dd32=await this['resourceClient']['resourceGroups'][_0x2b908e(0x177)]();for await(const _0x2be3b0 of _0x15dd32){_0x4e4c5b[_0x2b908e(0x2c1)](_0x4e4c5b[_0x2b908e(0x1d8)],_0x4e4c5b[_0x2b908e(0x187)])?_0x501693[_0x2b908e(0x22f)](_0x4cbffc[_0x2b908e(0x1d3)]):_0xa0b25a[_0x2b908e(0x22f)](_0x2be3b0[_0x2b908e(0x1d3)]);}}else{if(_0x4e4c5b[_0x2b908e(0x2c1)](_0x175fd5[_0x2b908e(0x1d3)],_0x2b908e(0x237)+this[_0x2b908e(0x22c)]))return!![];}}catch(_0x10c3f8){}return _0xa0b25a;}async[a1_0x1a0de9(0x1ad)](){const _0x3d4ad0=a1_0x1a0de9;return this[_0x3d4ad0(0x265)]=await this[_0x3d4ad0(0x284)][_0x3d4ad0(0x246)][_0x3d4ad0(0x164)](global_registry[_0x3d4ad0(0x260)],this['clusterName']),this[_0x3d4ad0(0x265)];}async[a1_0x1a0de9(0x247)](){const _0x49a812=a1_0x1a0de9,_0x2b63b7=await this[_0x49a812(0x284)][_0x49a812(0x246)]['listClusterAdminCredentials'](global_registry[_0x49a812(0x260)],this['clusterName']),_0x69787d=_0x2b63b7[_0x49a812(0x178)][0x0][_0x49a812(0x136)]['toString']();return _0x69787d;}[a1_0x1a0de9(0x126)](_0x3cfcfb){const _0x39170c=a1_0x1a0de9;return _0x3cfcfb['status'][_0x39170c(0x259)][_0x39170c(0x145)][0x0][_0x39170c(0x195)];}async[a1_0x1a0de9(0x2b4)](){const _0x207f5b=a1_0x1a0de9,_0x5385d4={};_0x5385d4['CUoSX']=_0x207f5b(0x21e),_0x5385d4[_0x207f5b(0x118)]=_0x207f5b(0x137),_0x5385d4[_0x207f5b(0x124)]=function(_0x12fe00,_0x582c77){return _0x12fe00!==_0x582c77;},_0x5385d4[_0x207f5b(0x11f)]=_0x207f5b(0x176),_0x5385d4[_0x207f5b(0x254)]='GzmUW',_0x5385d4['xDOOt']=_0x207f5b(0x15d),_0x5385d4[_0x207f5b(0x274)]=function(_0x218221,_0x40d9b9){return _0x218221===_0x40d9b9;},_0x5385d4[_0x207f5b(0x1d7)]=_0x207f5b(0x1ba);const _0x40fc00=_0x5385d4,_0x2e0646=new Array();for await(const _0x1efc05 of this['containerClient'][_0x207f5b(0x246)][_0x207f5b(0xd4)](global_registry['cloudProviderResourceGroup'])){_0x40fc00[_0x207f5b(0x124)](_0x40fc00[_0x207f5b(0x11f)],_0x40fc00[_0x207f5b(0x254)])?_0x2e0646['push'](_0x1efc05):(_0xbbc797['error'](_0x40fc00[_0x207f5b(0x17d)]),_0x3f967f[_0x207f5b(0x276)](0x1));}for await(const _0x163d56 of _0x2e0646){if(_0x40fc00[_0x207f5b(0x124)](_0x40fc00[_0x207f5b(0x17c)],_0x40fc00['xDOOt'])){const _0x55b385={};_0x55b385['status']=!![],_0x55b385['error']=null,_0x55b385[_0x207f5b(0x158)]=_0x40fc00['kXhLz'];const _0x218ba0=_0x55b385;return _0x218ba0;}else{if(_0x40fc00[_0x207f5b(0x274)](_0x163d56[_0x207f5b(0x1d3)],this['clusterName'])){if(_0x40fc00[_0x207f5b(0x124)](_0x40fc00[_0x207f5b(0x1d7)],_0x40fc00[_0x207f5b(0x1d7)]))_0x4809cb[_0x207f5b(0x22f)](_0x143b97);else return await this[_0x207f5b(0x1ad)](),!![];}}}return![];}async[a1_0x1a0de9(0x192)](_0x5f5065=null,_0x53b2c8=null){const _0x364f49=a1_0x1a0de9,_0x5736f8={};_0x5736f8[_0x364f49(0x1d6)]=_0x364f49(0x222),_0x5736f8[_0x364f49(0x206)]='Creating\x20required\x20resources\x20-\x20AKS\x20Cluster,\x20Storage\x20account\x20and\x20Managed\x20identity';const _0x50b5c4=_0x5736f8,_0x2094bc=_0x50b5c4[_0x364f49(0x1d6)][_0x364f49(0x1fa)]('|');let _0x15fd40=0x0;while(!![]){switch(_0x2094bc[_0x15fd40++]){case'0':this[_0x364f49(0x1f1)]();continue;case'1':logger[_0x364f49(0x27d)](_0x50b5c4[_0x364f49(0x206)]);continue;case'2':await this[_0x364f49(0xe4)](_0x5f5065,_0x53b2c8);continue;case'3':return[_0x5f5065,_0x53b2c8];case'4':await this['createOtherResources']();continue;case'5':const _0x37b29b={};_0x37b29b['type']=WS_EVENTS[_0x364f49(0x26e)],_0x37b29b[_0x364f49(0x197)]=_0x50b5c4[_0x364f49(0x206)],this['webSocketUtils']['sendEventToBackend'](this[_0x364f49(0x1ae)],_0x37b29b);continue;}break;}}async[a1_0x1a0de9(0xe4)](_0x48e9d8=null,_0x5d2bf2=null){const _0x4493ca=a1_0x1a0de9,_0x2c74db={};_0x2c74db[_0x4493ca(0xf3)]=_0x4493ca(0x1d4),_0x2c74db[_0x4493ca(0x1d5)]=_0x4493ca(0x238),_0x2c74db[_0x4493ca(0xfb)]=_0x4493ca(0x111),_0x2c74db[_0x4493ca(0xd9)]=_0x4493ca(0x245),_0x2c74db[_0x4493ca(0x17f)]='akscluster.json',_0x2c74db[_0x4493ca(0x198)]=_0x4493ca(0x175),_0x2c74db['wJuiI']=_0x4493ca(0x11a),_0x2c74db[_0x4493ca(0x233)]=_0x4493ca(0x1b8),_0x2c74db[_0x4493ca(0xca)]=function(_0x1a31a8,_0x41a123){return _0x1a31a8!==_0x41a123;},_0x2c74db[_0x4493ca(0x173)]=function(_0x5e5200,_0x14924d){return _0x5e5200!==_0x14924d;},_0x2c74db[_0x4493ca(0x1e9)]=function(_0x39e150,_0x62af9b){return _0x39e150===_0x62af9b;},_0x2c74db[_0x4493ca(0x143)]='XErqN',_0x2c74db['gPrGz']=_0x4493ca(0x22d),_0x2c74db[_0x4493ca(0x235)]='string',_0x2c74db['YiXiL']=_0x4493ca(0x270),_0x2c74db['Eeuff']=_0x4493ca(0x13f),_0x2c74db[_0x4493ca(0x1c3)]='[variables(\x27vnetSubnetID\x27)]',_0x2c74db[_0x4493ca(0x20b)]='turboscale-cluster-deployment',_0x2c74db[_0x4493ca(0x27f)]='Incremental';const _0xd89266=_0x2c74db;let _0x11467b=await fs[_0x4493ca(0x19b)](path['join'](__dirname,'..',_0xd89266['gJcHm'],_0xd89266[_0x4493ca(0xd9)],_0xd89266[_0x4493ca(0x17f)]),_0xd89266['QDqWj']);_0x11467b=JSON[_0x4493ca(0x162)](_0x11467b);const _0x5f5c06={};_0x5f5c06[_0x4493ca(0x136)]=this['clusterName'];const _0x525331={};_0x525331[_0x4493ca(0x136)]=global_registry[_0x4493ca(0x267)];const _0x531260={};_0x531260[_0x4493ca(0x136)]=global_registry[_0x4493ca(0x1c6)];const _0x1a4763={};_0x1a4763[_0x4493ca(0x136)]=global_registry[_0x4493ca(0x295)];const _0x5d2e17={};_0x5d2e17[_0x4493ca(0x136)]=global_registry['clusterAutoUpgrade']?_0xd89266[_0x4493ca(0x130)]:_0xd89266[_0x4493ca(0x233)];const _0x57eb7e={};_0x57eb7e[_0x4493ca(0x22c)]=_0x5f5c06,_0x57eb7e['location']=_0x525331,_0x57eb7e[_0x4493ca(0x113)]=_0x531260,_0x57eb7e[_0x4493ca(0x298)]=_0x1a4763,_0x57eb7e[_0x4493ca(0xef)]=_0x5d2e17;let _0x536936=_0x57eb7e;if(_0xd89266['TvIxQ'](_0x48e9d8,null)&&_0xd89266['IbstL'](_0x5d2bf2,null)){if(_0xd89266[_0x4493ca(0x1e9)](_0xd89266['lLnSg'],_0xd89266[_0x4493ca(0x1b7)])){const _0x1b85da=_0x22836c[_0x4493ca(0x256)](_0x807725);_0x468649+='\x0a\x09'+_0x4b7cea+':\x20'+(_0x1b85da?_0xd89266['bYFGt']:_0xd89266[_0x4493ca(0x1d5)]),!_0x1b85da&&(_0x2ea634[_0x4493ca(0x102)]=![]);}else{const _0x2b7b46={};_0x2b7b46[_0x4493ca(0x23a)]=_0xd89266[_0x4493ca(0x235)],_0x2b7b46[_0x4493ca(0x1a2)]={},_0x2b7b46[_0x4493ca(0x1a2)][_0x4493ca(0x224)]=_0xd89266['YiXiL'];const _0x31e59d={};_0x31e59d['type']=_0xd89266[_0x4493ca(0x235)],_0x31e59d[_0x4493ca(0x1a2)]={},_0x31e59d[_0x4493ca(0x1a2)][_0x4493ca(0x224)]=_0xd89266['YiXiL'],_0x11467b['parameters']={..._0x11467b['parameters'],'vpcName':_0x2b7b46,'subnetName':_0x31e59d};const _0x4d8bb7={};_0x4d8bb7[_0x4493ca(0x215)]=_0xd89266[_0x4493ca(0xee)],_0x11467b[_0x4493ca(0x180)]=_0x4d8bb7,_0x11467b[_0x4493ca(0x188)][0x0]['properties'][_0x4493ca(0x12b)][0x0]={..._0x11467b['resources'][0x0]['properties'][_0x4493ca(0x12b)][0x0],'vnetSubnetID':_0xd89266['tDdUE']};const _0x1d3de7={};_0x1d3de7[_0x4493ca(0x136)]=_0x48e9d8;const _0x4f17db={};_0x4f17db[_0x4493ca(0x136)]=_0x5d2bf2[0x0],_0x536936={..._0x536936,'vpcName':_0x1d3de7,'subnetName':_0x4f17db};}}await this[_0x4493ca(0x220)][_0x4493ca(0x26c)][_0x4493ca(0x1c8)](global_registry['cloudProviderResourceGroup'],_0xd89266[_0x4493ca(0x20b)],{'properties':{'template':_0x11467b,'mode':_0xd89266[_0x4493ca(0x27f)],'parameters':_0x536936}});}async['createOtherResources'](){const _0x5a718b=a1_0x1a0de9,_0x1f873e={};_0x1f873e[_0x5a718b(0x132)]='Enabling\x20OIDC\x20Issuer\x20for\x20the\x20cluster',_0x1f873e[_0x5a718b(0xda)]=_0x5a718b(0x2bb),_0x1f873e[_0x5a718b(0x13b)]=function(_0x36e50a,_0xcb9c76){return _0x36e50a===_0xcb9c76;},_0x1f873e[_0x5a718b(0x108)]=_0x5a718b(0x2ba),_0x1f873e[_0x5a718b(0x20f)]=_0x5a718b(0x2c6),_0x1f873e[_0x5a718b(0x122)]=_0x5a718b(0x19e),_0x1f873e[_0x5a718b(0x24a)]=function(_0x31c4ef,_0x131706){return _0x31c4ef===_0x131706;},_0x1f873e[_0x5a718b(0x261)]='ZaOoQ',_0x1f873e['ZDkGr']=_0x5a718b(0x21c),_0x1f873e[_0x5a718b(0x2b0)]=function(_0x184d29,_0x22be15){return _0x184d29===_0x22be15;},_0x1f873e[_0x5a718b(0xfa)]=_0x5a718b(0x204),_0x1f873e['UGTFO']=_0x5a718b(0x1e3),_0x1f873e[_0x5a718b(0x1f7)]=_0x5a718b(0x2ab),_0x1f873e[_0x5a718b(0x171)]=function(_0x2beeaf,_0x44e767){return _0x2beeaf===_0x44e767;},_0x1f873e[_0x5a718b(0x16d)]=_0x5a718b(0x125),_0x1f873e[_0x5a718b(0x152)]='AmblB',_0x1f873e['NwiUr']=_0x5a718b(0x219),_0x1f873e[_0x5a718b(0x1ff)]=_0x5a718b(0x1d0),_0x1f873e['QRixg']='Created\x20Azure\x20federated\x20identity';const _0x5b973e=_0x1f873e,_0x96c551=await this[_0x5a718b(0x26d)]();if(!_0x96c551){if(_0x5b973e[_0x5a718b(0x13b)](_0x5b973e['jaaLF'],_0x5b973e[_0x5a718b(0x20f)])){_0x1e0551[_0x5a718b(0x27d)](_0x5b973e[_0x5a718b(0x132)]);const _0x133db6={};_0x133db6[_0x5a718b(0x23a)]=_0xcdfdc4['RESOURCES'],_0x133db6['message']=_0x5b973e[_0x5a718b(0x132)],this['webSocketUtils'][_0x5a718b(0xcc)](this[_0x5a718b(0x1ae)],_0x133db6),_0x1db364[_0x5a718b(0x174)][_0x5a718b(0x13d)]=!![];}else{const _0xf5d5c2={};_0xf5d5c2['type']=WS_EVENTS['LOG'],_0xf5d5c2['message']=_0x5b973e['zeauS'],this[_0x5a718b(0x18c)][_0x5a718b(0xcc)](this['rws'],_0xf5d5c2),logger['info'](_0x5b973e[_0x5a718b(0x122)]),await this[_0x5a718b(0x1ea)]();}}else{if(_0x5b973e[_0x5a718b(0x24a)](_0x5b973e[_0x5a718b(0x261)],_0x5b973e[_0x5a718b(0x261)]))logger[_0x5a718b(0x27d)](_0x5b973e[_0x5a718b(0xfe)]);else return _0x493d0f['data']=_0x5b973e['IRfvn'],_0x2c1e6d;}const _0x523ff9=await this['isManagedIdentityPresent']();if(!_0x523ff9){if(_0x5b973e[_0x5a718b(0x2b0)](_0x5b973e[_0x5a718b(0xfa)],_0x5b973e[_0x5a718b(0x2b5)]))return[!![],_0x388499];else{const _0x202cdd={};_0x202cdd[_0x5a718b(0x23a)]=WS_EVENTS[_0x5a718b(0x26e)],_0x202cdd[_0x5a718b(0x197)]=_0x5b973e[_0x5a718b(0x1f7)],this['webSocketUtils'][_0x5a718b(0xcc)](this[_0x5a718b(0x1ae)],_0x202cdd),logger['info'](_0x5b973e[_0x5a718b(0x1f7)]),await this[_0x5a718b(0x257)]();}}else{if(_0x5b973e[_0x5a718b(0x171)](_0x5b973e['iSccp'],_0x5b973e[_0x5a718b(0x152)]))return _0x13d36d[_0x5a718b(0x2be)](_0x5a718b(0x250)+_0x3b2709+':'+_0xa921d8[_0x5a718b(0x297)]),{};else logger[_0x5a718b(0x27d)](_0x5b973e[_0x5a718b(0x248)]);}logger['info'](_0x5b973e[_0x5a718b(0x1ff)]),await this['createFederatedAccount'](),logger[_0x5a718b(0x27d)](_0x5b973e['QRixg']);}async['createStorageAccount'](){const _0x6ec067=a1_0x1a0de9,_0x4c1704={};_0x4c1704[_0x6ec067(0x153)]=_0x6ec067(0x111),_0x4c1704[_0x6ec067(0xfd)]='azureresources',_0x4c1704['TtDUq']='storageaccount.json',_0x4c1704['uosbU']=_0x6ec067(0x175),_0x4c1704[_0x6ec067(0x2b2)]=_0x6ec067(0x229),_0x4c1704[_0x6ec067(0x166)]='Incremental',_0x4c1704['KtQZS']=_0x6ec067(0x13c),_0x4c1704[_0x6ec067(0x296)]=_0x6ec067(0x2ad),_0x4c1704[_0x6ec067(0x1a8)]=_0x6ec067(0x1ab),_0x4c1704[_0x6ec067(0x1cf)]='default';const _0x2220ac=_0x4c1704;let _0x4226d5=await fs[_0x6ec067(0x19b)](path[_0x6ec067(0x1ce)](__dirname,'..',_0x2220ac[_0x6ec067(0x153)],_0x2220ac[_0x6ec067(0xfd)],_0x2220ac[_0x6ec067(0x280)]),_0x2220ac[_0x6ec067(0x200)]);_0x4226d5=JSON[_0x6ec067(0x162)](_0x4226d5);const _0x31c416=this[_0x6ec067(0x2cb)](),_0x308fa7={};_0x308fa7[_0x6ec067(0x136)]=_0x31c416;const _0xcd3a4e={};_0xcd3a4e['storageAccountName']=_0x308fa7,await this[_0x6ec067(0x220)][_0x6ec067(0x26c)][_0x6ec067(0x1c8)](global_registry['cloudProviderResourceGroup'],_0x2220ac[_0x6ec067(0x2b2)],{'properties':{'template':_0x4226d5,'mode':_0x2220ac[_0x6ec067(0x166)],'parameters':_0xcd3a4e}});const _0x31c0ad={};_0x31c0ad[_0x6ec067(0x282)]=0x3c;const _0x15fb5d={};_0x15fb5d[_0x6ec067(0x1ec)]=_0x31c0ad;const _0x42ca4f={};_0x42ca4f[_0x6ec067(0x15f)]=_0x15fb5d;const _0x4d0def={};_0x4d0def['enabled']=!![],_0x4d0def[_0x6ec067(0x1d3)]=_0x2220ac[_0x6ec067(0x2a4)],_0x4d0def[_0x6ec067(0x23a)]=_0x2220ac[_0x6ec067(0x296)],_0x4d0def[_0x6ec067(0xe0)]={},_0x4d0def[_0x6ec067(0xe0)]['actions']=_0x42ca4f,_0x4d0def[_0x6ec067(0xe0)][_0x6ec067(0xff)]={},_0x4d0def[_0x6ec067(0xe0)][_0x6ec067(0xff)][_0x6ec067(0x1d2)]=[_0x2220ac['jSMTe']];const _0x293c27={};_0x293c27[_0x6ec067(0x2a2)]=[_0x4d0def];const _0x52b302={};_0x52b302[_0x6ec067(0x104)]=_0x293c27;const _0x39216b=_0x52b302;await this['storageClient']['managementPolicies']['createOrUpdate'](global_registry[_0x6ec067(0x260)],_0x31c416,_0x2220ac[_0x6ec067(0x1cf)],_0x39216b);}async[a1_0x1a0de9(0x257)](){const _0x4a6a2d=a1_0x1a0de9,_0x278769={};_0x278769['cGiBj']='templates',_0x278769[_0x4a6a2d(0x2b9)]=_0x4a6a2d(0x245),_0x278769[_0x4a6a2d(0x24e)]='managedidentity.json',_0x278769[_0x4a6a2d(0x207)]=_0x4a6a2d(0x175),_0x278769[_0x4a6a2d(0xf7)]=_0x4a6a2d(0x285),_0x278769['PoWgH']=_0x4a6a2d(0x216);const _0x39c2fd=_0x278769;let _0x5e31f7=await fs[_0x4a6a2d(0x19b)](path['join'](__dirname,'..',_0x39c2fd[_0x4a6a2d(0x1a0)],_0x39c2fd[_0x4a6a2d(0x2b9)],_0x39c2fd[_0x4a6a2d(0x24e)]),_0x39c2fd['MQuzY']);_0x5e31f7=JSON['parse'](_0x5e31f7),await this[_0x4a6a2d(0x220)][_0x4a6a2d(0x26c)][_0x4a6a2d(0x1c8)](global_registry[_0x4a6a2d(0x260)],_0x39c2fd[_0x4a6a2d(0xf7)],{'properties':{'template':_0x5e31f7,'mode':_0x39c2fd[_0x4a6a2d(0x1a7)],'parameters':{'clusterName':{'value':this[_0x4a6a2d(0x22c)]}}}});}async[a1_0x1a0de9(0x20d)](){const _0x15e064=a1_0x1a0de9,_0x3da578={};_0x3da578['eUYGx']=function(_0x40db44,_0x26016e){return _0x40db44+_0x26016e;},_0x3da578[_0x15e064(0x1c0)]=function(_0x4e2ca0,_0x1ee1cb){return _0x4e2ca0===_0x1ee1cb;},_0x3da578[_0x15e064(0x272)]=_0x15e064(0x110),_0x3da578[_0x15e064(0x28f)]=_0x15e064(0x134),_0x3da578[_0x15e064(0x199)]=_0x15e064(0x1dd),_0x3da578[_0x15e064(0x1af)]=function(_0x3fe9df,_0x1052cf){return _0x3fe9df===_0x1052cf;},_0x3da578[_0x15e064(0x11c)]='nMmCT',_0x3da578[_0x15e064(0x1ac)]=_0x15e064(0x111),_0x3da578[_0x15e064(0x1f0)]=_0x15e064(0x245),_0x3da578['vdCGi']='utf-8',_0x3da578[_0x15e064(0x1c5)]='turboscale-federated-deployment',_0x3da578[_0x15e064(0x182)]='Incremental';const _0x312593=_0x3da578;if(!this[_0x15e064(0x265)]){if(_0x312593['ZSaki'](_0x312593[_0x15e064(0x272)],_0x312593[_0x15e064(0x272)]))await this[_0x15e064(0x1ad)]();else return _0x580e11[_0x15e064(0x2be)](_0x15e064(0x19f)+_0x41695e+_0x15e064(0x258)+_0x2e07e3),[![],[]];}const _0x43df52=this[_0x15e064(0x265)]?.[_0x15e064(0x174)]?.[_0x15e064(0x1d9)],_0x50f807=[_0x312593[_0x15e064(0x28f)],_0x312593[_0x15e064(0x199)]];for await(const _0x414dc5 of _0x50f807){if(_0x312593[_0x15e064(0x1af)](_0x312593['MgDbg'],_0x312593[_0x15e064(0x11c)])){let _0x3c61fe=await fs['readFileAsync'](path[_0x15e064(0x1ce)](__dirname,'..',_0x312593[_0x15e064(0x1ac)],_0x312593['TBYLS'],_0x15e064(0x275)+_0x414dc5+_0x15e064(0x1d1)),_0x312593[_0x15e064(0x273)]);_0x3c61fe=JSON[_0x15e064(0x162)](_0x3c61fe);const _0x4ce87d={};_0x4ce87d['value']=_0x43df52,await this[_0x15e064(0x220)][_0x15e064(0x26c)][_0x15e064(0x1c8)](global_registry[_0x15e064(0x260)],_0x312593['BGBFU'],{'properties':{'template':_0x3c61fe,'mode':_0x312593[_0x15e064(0x182)],'parameters':{'oidcIssuer':_0x4ce87d,'gridName':{'value':this['gridName']},'clusterName':{'value':this[_0x15e064(0x22c)]}}}});}else _0x406f72[_0x15e064(0x2c9)]('['+_0x312593['eUYGx'](_0x234870,0x1)+']\x20'+_0x11557e[_0x11e018]);}}async['setupHubHa'](_0x3b0382,_0x1103ad,_0x4ecd4f,_0x5ce0b5,_0x302548){const _0xf49a76=a1_0x1a0de9,_0x5e67f4={};_0x5e67f4[_0xf49a76(0xd3)]=_0xf49a76(0x194),_0x5e67f4[_0xf49a76(0xf8)]=_0xf49a76(0xf1);const _0x389f76=_0x5e67f4,_0x3e1836={};_0x3e1836[_0xf49a76(0x23a)]=WS_EVENTS[_0xf49a76(0x26e)],_0x3e1836['message']=_0x389f76[_0xf49a76(0xd3)],this[_0xf49a76(0x18c)][_0xf49a76(0xcc)](this[_0xf49a76(0x1ae)],_0x3e1836),logger[_0xf49a76(0x27d)](_0x389f76[_0xf49a76(0xd3)]),await this[_0xf49a76(0x218)]();const _0x1ad334={};_0x1ad334[_0xf49a76(0x23a)]=WS_EVENTS['LOG'],_0x1ad334[_0xf49a76(0x197)]=_0x389f76[_0xf49a76(0xf8)],this[_0xf49a76(0x18c)][_0xf49a76(0xcc)](this['rws'],_0x1ad334);}async[a1_0x1a0de9(0x218)](){const _0x4f3ff9=a1_0x1a0de9,_0x2efcef={};_0x2efcef[_0x4f3ff9(0x16c)]=function(_0x109ffc,_0x4b3578){return _0x109ffc===_0x4b3578;},_0x2efcef['wvHFz']='aLSFR',_0x2efcef['uavcD']=_0x4f3ff9(0x151),_0x2efcef['lcxyn']=_0x4f3ff9(0x111),_0x2efcef[_0x4f3ff9(0x169)]=_0x4f3ff9(0x264),_0x2efcef[_0x4f3ff9(0x25f)]=_0x4f3ff9(0x2b1),_0x2efcef['PLNXp']=_0x4f3ff9(0x175),_0x2efcef[_0x4f3ff9(0x161)]='turboscale-federated-deployment',_0x2efcef[_0x4f3ff9(0x2bd)]=_0x4f3ff9(0x216);const _0x1de89a=_0x2efcef;!this[_0x4f3ff9(0x265)]&&(_0x1de89a['fwEYM'](_0x1de89a[_0x4f3ff9(0xf6)],_0x1de89a[_0x4f3ff9(0x1cc)])?_0x2cb07a=_0x1758f6['id']:await this[_0x4f3ff9(0x1ad)]());const _0x22c011=this[_0x4f3ff9(0x265)]?.[_0x4f3ff9(0x174)]?.[_0x4f3ff9(0x1d9)];let _0x56227e=await fs[_0x4f3ff9(0x19b)](path[_0x4f3ff9(0x1ce)](__dirname,'..',_0x1de89a[_0x4f3ff9(0x19c)],_0x1de89a[_0x4f3ff9(0x169)],_0x1de89a[_0x4f3ff9(0x25f)]),_0x1de89a[_0x4f3ff9(0x154)]);_0x56227e=JSON[_0x4f3ff9(0x162)](_0x56227e);const _0x2d70e8={};_0x2d70e8[_0x4f3ff9(0x136)]=_0x22c011,await this['resourceClient']['deployments'][_0x4f3ff9(0x1c8)](global_registry[_0x4f3ff9(0x260)],_0x1de89a[_0x4f3ff9(0x161)],{'properties':{'template':_0x56227e,'mode':_0x1de89a[_0x4f3ff9(0x2bd)],'parameters':{'oidcIssuer':_0x2d70e8,'namespace':{'value':global_registry[_0x4f3ff9(0x15b)]},'clusterName':{'value':this[_0x4f3ff9(0x22c)]}}}});}async[a1_0x1a0de9(0x26d)](){const _0x1bc26c=a1_0x1a0de9,_0x141ad9={'vgNur':function(_0x1ea938,_0x5c4e9c,_0x5078a5){return _0x1ea938(_0x5c4e9c,_0x5078a5);},'qsnwN':function(_0x429599,_0x32e222){return _0x429599===_0x32e222;},'mKDHI':_0x1bc26c(0x160),'HRQuq':function(_0x521556,_0x5b78b7){return _0x521556!==_0x5b78b7;},'DfkqE':'jiULY','AQcGr':_0x1bc26c(0xd6),'pUxrP':function(_0xd29e8c,_0x39127e){return _0xd29e8c===_0x39127e;},'zLPoo':'Aiqhs','YHfbe':function(_0x4dac9f,_0x4488e9){return _0x4dac9f===_0x4488e9;},'FoCsG':'BePwV','wnTbH':_0x1bc26c(0x24d)},_0x4858c5=this[_0x1bc26c(0x2cb)](),_0x1b2c4c=new Array();for await(const _0x35a98c of this[_0x1bc26c(0x1b4)][_0x1bc26c(0xf5)]['listByResourceGroup'](global_registry[_0x1bc26c(0x260)])){_0x141ad9[_0x1bc26c(0xde)](_0x141ad9['DfkqE'],_0x141ad9[_0x1bc26c(0x19d)])?_0x1b2c4c[_0x1bc26c(0x22f)](_0x35a98c):_0x141ad9[_0x1bc26c(0x25b)](_0x49e2ae,()=>_0x141edf(),0x3e8);}for await(const _0x2ff76b of _0x1b2c4c){if(_0x141ad9[_0x1bc26c(0x1dc)](_0x141ad9[_0x1bc26c(0xd5)],_0x141ad9['zLPoo'])){if(_0x141ad9[_0x1bc26c(0x189)](_0x2ff76b[_0x1bc26c(0x1d3)],_0x4858c5)){if(_0x141ad9[_0x1bc26c(0x1dc)](_0x141ad9[_0x1bc26c(0x181)],_0x141ad9[_0x1bc26c(0x159)]))_0x32529d[_0x1bc26c(0x22f)](_0x3ace08);else return!![];}}else _0x4ad9c7+=_0x141ad9[_0x1bc26c(0x22b)](_0x52e7b5[_0x1bc26c(0x230)],0x0)?_0x141ad9[_0x1bc26c(0x157)]:'',_0x323bd2['debug'](_0x1bc26c(0x185)+_0x471bf6['stringify'](_0xce3c6c));}return![];}async[a1_0x1a0de9(0x2ae)](){const _0x1f0904=a1_0x1a0de9,_0x58bcc3={};_0x58bcc3[_0x1f0904(0x14e)]=function(_0x58e606,_0x1d7138){return _0x58e606===_0x1d7138;},_0x58bcc3[_0x1f0904(0x2bc)]=function(_0x2a53a4,_0x4d538){return _0x2a53a4===_0x4d538;},_0x58bcc3[_0x1f0904(0x209)]=_0x1f0904(0x292),_0x58bcc3[_0x1f0904(0x2a5)]=function(_0xa3279d,_0xd3fb2){return _0xa3279d===_0xd3fb2;},_0x58bcc3[_0x1f0904(0x263)]=_0x1f0904(0x277),_0x58bcc3[_0x1f0904(0x107)]=function(_0x4a0737,_0x43b5b4){return _0x4a0737===_0x43b5b4;},_0x58bcc3['xAsba']=function(_0x59e887,_0x4e6eac){return _0x59e887!==_0x4e6eac;},_0x58bcc3[_0x1f0904(0x12d)]=_0x1f0904(0x1fe),_0x58bcc3[_0x1f0904(0xe2)]=_0x1f0904(0x1be);const _0x543240=_0x58bcc3,_0x2b1a6a=new Array();for await(const _0x12a8da of this[_0x1f0904(0x220)][_0x1f0904(0x188)][_0x1f0904(0xd4)](global_registry[_0x1f0904(0x260)])){_0x543240[_0x1f0904(0x2bc)](_0x543240[_0x1f0904(0x209)],_0x543240[_0x1f0904(0x209)])?_0x2b1a6a[_0x1f0904(0x22f)](_0x12a8da):_0x48212a[_0x1f0904(0x22f)](_0x5663b7);}for await(const _0x407847 of _0x2b1a6a){if(_0x543240[_0x1f0904(0x2a5)](_0x543240[_0x1f0904(0x263)],_0x543240[_0x1f0904(0x263)])){if(_0x543240[_0x1f0904(0x107)](_0x407847[_0x1f0904(0x1d3)],_0x1f0904(0x237)+this[_0x1f0904(0x22c)])){if(_0x543240[_0x1f0904(0x221)](_0x543240[_0x1f0904(0x12d)],_0x543240[_0x1f0904(0xe2)]))return!![];else _0x3ddb76[_0x1f0904(0x2be)]=_0x1e6251;}}else{if(_0x543240[_0x1f0904(0x14e)](_0x453872[_0x1f0904(0x1d3)],_0x3f70ed))return!![];}}return![];}async['getResourceClientId'](_0x247068,_0x47d9fe=0x3){const _0x3f4a1d=a1_0x1a0de9,_0x39b892={'BMYeh':_0x3f4a1d(0x15a),'UPRNA':function(_0x55ab45,_0x497cb2){return _0x55ab45+_0x497cb2;},'iMwAa':'turboscale','edCZT':function(_0x17facf,_0x111840){return _0x17facf-_0x111840;},'EZOdX':function(_0x275cef,_0x3cb7c5){return _0x275cef===_0x3cb7c5;},'xWulk':'qshuR','TJkpH':_0x3f4a1d(0x1de),'cThob':function(_0x3802ad,_0x25d950,_0x1bbc2e){return _0x3802ad(_0x25d950,_0x1bbc2e);},'qRAHl':_0x3f4a1d(0x116),'TjUUt':_0x3f4a1d(0x211),'Fudtv':_0x3f4a1d(0x290),'fRfKq':_0x3f4a1d(0x16e),'UJmGb':function(_0x100b5a,_0x1fccc5){return _0x100b5a!==_0x1fccc5;},'YTrsg':'cHDMJ','RxHAS':_0x3f4a1d(0x1c2),'xJagp':function(_0x2bfaba,_0x32ed25){return _0x2bfaba!==_0x32ed25;},'VgQRA':_0x3f4a1d(0xed),'GKvBL':_0x3f4a1d(0x1b5),'PNYAz':_0x3f4a1d(0x18b),'wkHGa':_0x3f4a1d(0x103),'mTSGb':_0x3f4a1d(0x27e),'sJOLg':function(_0x35abda,_0x3b60d5){return _0x35abda<=_0x3b60d5;},'HyHoU':function(_0x2e9bf,_0x5a4176){return _0x2e9bf===_0x5a4176;},'jgaKt':_0x3f4a1d(0x2c0),'KyoBN':function(_0x5766f6,_0x3825a8){return _0x5766f6-_0x3825a8;}};try{if(_0x39b892[_0x3f4a1d(0x1bc)](_0x39b892[_0x3f4a1d(0x14c)],_0x39b892[_0x3f4a1d(0x19a)])){_0x3f7d54[_0x3f4a1d(0x27d)](_0x39b892[_0x3f4a1d(0x141)]);const _0x1bd196={};_0x1bd196[_0x3f4a1d(0x23a)]=_0x786b42[_0x3f4a1d(0x1da)],_0x1bd196[_0x3f4a1d(0x197)]=_0x39b892['BMYeh'],this[_0x3f4a1d(0x18c)][_0x3f4a1d(0xcc)](this['rws'],_0x1bd196);const _0x25ce60={};_0x25ce60[_0x3f4a1d(0x13d)]=!![];const _0xc377cc={'workloadIdentity':_0x25ce60,..._0x4c4e50[_0x3f4a1d(0x18a)]};_0x16f373[_0x3f4a1d(0x18a)]=_0xc377cc;}else{const _0x2e9e32=new Array();for await(const _0xd2426 of this[_0x3f4a1d(0x220)][_0x3f4a1d(0x188)][_0x3f4a1d(0xd4)](global_registry[_0x3f4a1d(0x260)])){if(_0x39b892[_0x3f4a1d(0x1bc)](_0x39b892['Fudtv'],_0x39b892[_0x3f4a1d(0x2af)]))return;else _0x2e9e32[_0x3f4a1d(0x22f)](_0xd2426);}let _0x5120f0='';for await(const _0xe67d75 of _0x2e9e32){if(_0x39b892[_0x3f4a1d(0x12e)](_0x39b892['YTrsg'],_0x39b892[_0x3f4a1d(0x119)])){if(_0x39b892[_0x3f4a1d(0x1bc)](_0xe67d75[_0x3f4a1d(0x1d3)],_0x247068)){if(_0x39b892['xJagp'](_0x39b892[_0x3f4a1d(0x26f)],_0x39b892[_0x3f4a1d(0x13a)]))_0x5120f0=_0xe67d75['id'];else{const _0x125a55=_0x4f3741[_0x3f4a1d(0x1a6)][_0x3f4a1d(0x1fa)]('-'),_0x4d9a65=_0x39b892[_0x3f4a1d(0x208)](_0x39b892[_0x3f4a1d(0xcb)],_0x125a55[_0x39b892[_0x3f4a1d(0x128)](_0x125a55[_0x3f4a1d(0x230)],0x1)])[_0x3f4a1d(0x286)](0x0,0x18);return _0x4d9a65['toLowerCase']();}}}else{if(_0x39b892['EZOdX'](_0x41e349['name'],_0x16919d))return!![];}}const _0x54dd6c=await this[_0x3f4a1d(0x220)]['resources'][_0x3f4a1d(0x228)](_0x5120f0,_0x39b892[_0x3f4a1d(0xe7)]);return _0x54dd6c['properties']['clientId'];}}catch(_0x3f16b7){if(_0x39b892['xJagp'](_0x39b892[_0x3f4a1d(0x10d)],_0x39b892[_0x3f4a1d(0xfc)])){if(_0x39b892['sJOLg'](_0x47d9fe,0x0))return _0x39b892[_0x3f4a1d(0x244)](_0x39b892['jgaKt'],_0x39b892['jgaKt'])?(logger['error'](_0x3f4a1d(0x250)+_0x3f16b7+':'+_0x3f16b7[_0x3f4a1d(0x297)]),{}):(_0x2a1864[_0x3f4a1d(0x2be)](_0x3f4a1d(0x168)+_0x23cd85+_0x3f4a1d(0x16b)+_0x2cf105),![]);return await new Promise(_0x26f6fc=>{const _0x32b06e=_0x3f4a1d;if(_0x39b892[_0x32b06e(0x1bc)](_0x39b892[_0x32b06e(0x266)],_0x39b892[_0x32b06e(0x183)]))return!![];else _0x39b892[_0x32b06e(0x28e)](setTimeout,()=>_0x26f6fc(),0x3e8);}),this[_0x3f4a1d(0x21d)](_0x247068,_0x39b892[_0x3f4a1d(0x1b6)](_0x47d9fe,0x1));}else return _0x169f5c['status']['loadBalancer'][_0x3f4a1d(0x145)][0x0][_0x3f4a1d(0x195)];}}async[a1_0x1a0de9(0x11b)](){const _0xec377=a1_0x1a0de9,_0x5cb8d7={};_0x5cb8d7[_0xec377(0x117)]='No\x20service\x20principal\x20found',_0x5cb8d7['dkaAs']=function(_0x3994a9,_0x514069){return _0x3994a9!==_0x514069;},_0x5cb8d7[_0xec377(0xe5)]=_0xec377(0xdf),_0x5cb8d7[_0xec377(0x23e)]=function(_0x40bdf0,_0x4371ed){return _0x40bdf0===_0x4371ed;},_0x5cb8d7[_0xec377(0x232)]=_0xec377(0x1cd),_0x5cb8d7['alCnN']=_0xec377(0x21a),_0x5cb8d7[_0xec377(0xcd)]=_0xec377(0x16f),_0x5cb8d7['cxBan']=_0xec377(0xd7);const _0x4c0e43=_0x5cb8d7;if(!this['clusterInfo']){if(_0x4c0e43['dkaAs'](_0x4c0e43['CLgZQ'],_0x4c0e43[_0xec377(0xe5)]))throw new _0x5618b7(_0x4c0e43['YIrSX'],_0xec377(0x22a)+_0x13e99a[_0xec377(0x191)](_0x7c1c1f));else await this[_0xec377(0x1ad)]();}const _0x24bb09=this[_0xec377(0x265)]?.['tags']||{};if(_0x24bb09&&_0x4c0e43[_0xec377(0x23e)](_0x24bb09[_0x4c0e43[_0xec377(0x232)]],_0x4c0e43['alCnN'])){if(_0x4c0e43[_0xec377(0x23e)](_0x4c0e43['rIbug'],_0x4c0e43[_0xec377(0x16a)]))_0x4c1753[_0xec377(0x231)][_0xec377(0x22f)](_0x32845a);else return!![];}return![];}async[a1_0x1a0de9(0x150)](_0x3f8892,_0x105dbe){const _0x2171e2=a1_0x1a0de9,_0x63d2cf={'JYsMN':function(_0x282d0a,_0x43a6b5){return _0x282d0a(_0x43a6b5);},'roSwM':function(_0x37ae2a,_0x625030){return _0x37ae2a(_0x625030);},'WimFV':'Deleted\x20the\x20cluster\x20successfully'};await _0x63d2cf[_0x2171e2(0x144)](deleteAgent,_0x3f8892),await _0x63d2cf[_0x2171e2(0x1bb)](deleteRoutingDeps,_0x3f8892);const _0x487598=this['containerClient'];logger['info'](_0x2171e2(0x25c)+this[_0x2171e2(0x22c)]),await _0x487598['managedClusters'][_0x2171e2(0x115)](global_registry[_0x2171e2(0x260)],this[_0x2171e2(0x22c)]),logger[_0x2171e2(0x27d)](_0x63d2cf['WimFV']);}async[a1_0x1a0de9(0x1ee)](){const _0x18130a=a1_0x1a0de9,_0x362a03={};_0x362a03[_0x18130a(0x18d)]=_0x18130a(0x21e),_0x362a03[_0x18130a(0x29a)]='Storage\x20account\x20already\x20exists,\x20skipping',_0x362a03[_0x18130a(0x1a1)]=function(_0x169502,_0x134022){return _0x169502===_0x134022;},_0x362a03[_0x18130a(0x201)]=_0x18130a(0x1ca),_0x362a03['Ilyqj']='vUqwO',_0x362a03[_0x18130a(0xdc)]=function(_0x1fe82d,_0x1e0488){return _0x1fe82d&&_0x1e0488;},_0x362a03[_0x18130a(0x10b)]=function(_0x1666d9,_0x377f77){return _0x1666d9===_0x377f77;},_0x362a03[_0x18130a(0x1e1)]=_0x18130a(0x29f),_0x362a03[_0x18130a(0x138)]=_0x18130a(0xf2),_0x362a03[_0x18130a(0x1f9)]=_0x18130a(0x20e),_0x362a03[_0x18130a(0x120)]=_0x18130a(0xd0),_0x362a03['CDMbg']=_0x18130a(0x2ac),_0x362a03[_0x18130a(0x1a9)]=_0x18130a(0x15a),_0x362a03[_0x18130a(0x24b)]='wtvbs',_0x362a03[_0x18130a(0x163)]=_0x18130a(0x105);const _0x408b72=_0x362a03;!this['clusterInfo']&&(_0x408b72[_0x18130a(0x1a1)](_0x408b72['GdnzO'],_0x408b72[_0x18130a(0x1df)])?_0x38b36e[_0x18130a(0x22f)](..._0x5cb5b8[_0x18130a(0x242)]):await this[_0x18130a(0x1ad)]());const _0x5344ac=this[_0x18130a(0x265)],_0x94309b=this[_0x18130a(0x265)]?.[_0x18130a(0x174)]?.[_0x18130a(0x13d)]||![],_0x1e4902=this[_0x18130a(0x265)]?.[_0x18130a(0x18a)]?.[_0x18130a(0x121)]?.['enabled']||![],_0x194c35=!this[_0x18130a(0x265)]?.[_0x18130a(0xce)]||![];if(_0x408b72[_0x18130a(0xdc)](_0x94309b,_0x1e4902)&&_0x194c35){if(_0x408b72['RIvbm'](_0x408b72['TBNST'],_0x408b72[_0x18130a(0x1e1)]))return;else return!![];}if(!_0x94309b){if(_0x408b72[_0x18130a(0x10b)](_0x408b72[_0x18130a(0x138)],_0x408b72[_0x18130a(0x1f9)]))return!![];else{logger[_0x18130a(0x27d)](_0x408b72[_0x18130a(0x120)]);const _0x56ccfb={};_0x56ccfb['type']=WS_EVENTS[_0x18130a(0x1da)],_0x56ccfb[_0x18130a(0x197)]=_0x408b72['SgyUw'],this[_0x18130a(0x18c)][_0x18130a(0xcc)](this[_0x18130a(0x1ae)],_0x56ccfb),_0x5344ac[_0x18130a(0x174)]['enabled']=!![];}}if(!_0x1e4902){if(_0x408b72['PCPHV'](_0x408b72[_0x18130a(0x25d)],_0x408b72[_0x18130a(0x25d)])){logger[_0x18130a(0x27d)](_0x408b72[_0x18130a(0x1a9)]);const _0xed955e={};_0xed955e[_0x18130a(0x23a)]=WS_EVENTS[_0x18130a(0x1da)],_0xed955e['message']=_0x408b72[_0x18130a(0x1a9)],this['webSocketUtils'][_0x18130a(0xcc)](this[_0x18130a(0x1ae)],_0xed955e);const _0x475423={};_0x475423['enabled']=!![],_0x5344ac[_0x18130a(0x18a)]={'workloadIdentity':_0x475423,..._0x5344ac[_0x18130a(0x18a)]};}else _0x218842[_0x18130a(0x2be)](_0x408b72[_0x18130a(0x18d)]),_0xb4e47a['exit'](0x1);}if(!_0x194c35){if(_0x408b72['RIvbm'](_0x408b72[_0x18130a(0x24b)],_0x408b72[_0x18130a(0x24b)])){logger['info'](_0x408b72[_0x18130a(0x163)]);const _0x17bbfc={};_0x17bbfc[_0x18130a(0x23a)]=WS_EVENTS[_0x18130a(0x1da)],_0x17bbfc[_0x18130a(0x197)]=_0x408b72[_0x18130a(0x163)],this[_0x18130a(0x18c)][_0x18130a(0xcc)](this[_0x18130a(0x1ae)],_0x17bbfc),_0x5344ac['disableLocalAccounts']=![];}else _0x4e33c1[_0x18130a(0x27d)](_0x408b72[_0x18130a(0x29a)]);}await this[_0x18130a(0x284)][_0x18130a(0x246)][_0x18130a(0x1c8)](global_registry[_0x18130a(0x260)],this[_0x18130a(0x22c)],_0x5344ac),await this[_0x18130a(0x1ad)]();}async[a1_0x1a0de9(0x1f1)](){const _0xde568d=a1_0x1a0de9,_0x57e275={};_0x57e275[_0xde568d(0x165)]=function(_0x4ed4d,_0x37bd6a){return _0x4ed4d!==_0x37bd6a;},_0x57e275[_0xde568d(0x2b6)]=_0xde568d(0x14d);const _0x281063=_0x57e275,_0xed89bf=await this[_0xde568d(0x18f)][_0xde568d(0x13e)][_0xde568d(0x2a1)](global_registry[_0xde568d(0x260)]),_0x28d73b={};_0x28d73b[_0xde568d(0x11d)]=global_registry[_0xde568d(0x147)],_0x28d73b['accessKey']=global_registry[_0xde568d(0x255)],_0x28d73b['cloudProvider']=AZURE,_0x28d73b[_0xde568d(0x231)]=[];const _0x546cc1=_0x28d73b;for await(const _0x46e261 of _0xed89bf){if(_0x281063[_0xde568d(0x165)](_0x281063[_0xde568d(0x2b6)],_0x281063[_0xde568d(0x2b6)])){const _0x5ece0d=new _0x53418e(_0x4aacbe['cloudProviderTenantId'],_0x175d84[_0xde568d(0x14b)],_0x41c904[_0xde568d(0x11e)]);this['containerClient']=new _0x471660(_0x5ece0d,_0x5c12eb[_0xde568d(0x1c7)]),this[_0xde568d(0x1b4)]=new _0x357d30(_0x5ece0d,_0x16baf7[_0xde568d(0x1c7)]),this[_0xde568d(0x220)]=new _0x46ae34(_0x5ece0d,_0x143ea3[_0xde568d(0x1c7)]),this[_0xde568d(0x18f)]=new _0x71dd1(_0x5ece0d,_0x37cb59[_0xde568d(0x1c7)]),this[_0xde568d(0x24c)]=new _0x99991b(_0x5ece0d,_0x5cf67f[_0xde568d(0x1c7)]),this[_0xde568d(0x114)]=_0x5ece0d;}else _0x546cc1[_0xde568d(0x231)][_0xde568d(0x22f)](_0x46e261);}const _0x4148ee={};_0x4148ee[_0xde568d(0x23a)]=WS_EVENTS['RESOURCES'],_0x4148ee[_0xde568d(0x197)]=_0x546cc1,this[_0xde568d(0x18c)][_0xde568d(0xcc)](this[_0xde568d(0x1ae)],_0x4148ee);}async[a1_0x1a0de9(0x1aa)](_0x189ef2){const _0x3f19fd=a1_0x1a0de9,_0x3da50e={};_0x3da50e[_0x3f19fd(0x226)]='No\x20attached\x20role\x20for\x20the\x20client\x20key',_0x3da50e[_0x3f19fd(0x2cc)]=function(_0x4f36bc,_0x11c69e){return _0x4f36bc===_0x11c69e;},_0x3da50e[_0x3f19fd(0x1f5)]=_0x3f19fd(0x29c),_0x3da50e[_0x3f19fd(0xdb)]=function(_0x307e14,_0x212bbf){return _0x307e14===_0x212bbf;},_0x3da50e[_0x3f19fd(0x1bf)]=_0x3f19fd(0x1bd),_0x3da50e['uxWNC']=_0x3f19fd(0x23c),_0x3da50e[_0x3f19fd(0x236)]=function(_0x5488b1,_0x50fbc5){return _0x5488b1===_0x50fbc5;},_0x3da50e[_0x3f19fd(0x190)]=function(_0x3328aa,_0x1ee65c){return _0x3328aa!==_0x1ee65c;},_0x3da50e[_0x3f19fd(0x1b9)]=_0x3f19fd(0x239),_0x3da50e[_0x3f19fd(0x186)]=_0x3f19fd(0x27c);const _0x7a1b52=_0x3da50e;try{if(_0x7a1b52[_0x3f19fd(0x2cc)](_0x7a1b52[_0x3f19fd(0x1f5)],_0x7a1b52['OGHIp'])){const _0x139a44=await this[_0x3f19fd(0x18f)][_0x3f19fd(0x13e)][_0x3f19fd(0x2a1)](global_registry[_0x3f19fd(0x260)]);for await(const _0xa3e747 of _0x139a44){if(_0x7a1b52['DmASM'](_0x7a1b52['XRuMA'],_0x7a1b52[_0x3f19fd(0x156)]))_0x49e91a['exit'](0x0);else{if(_0x7a1b52[_0x3f19fd(0x236)](_0xa3e747['name'],_0x189ef2))return _0x7a1b52[_0x3f19fd(0x190)](_0x7a1b52[_0x3f19fd(0x1b9)],_0x7a1b52[_0x3f19fd(0x1b9)])?(_0x291ae2[_0x3f19fd(0x2be)]=_0x51aecd[_0x3f19fd(0x2be)],_0x10fb8c):!![];}}}else return _0x1822b4['data']=_0x7a1b52['UgJHX'],_0x381229;}catch(_0x46effd){if(_0x7a1b52['Fzqtx'](_0x7a1b52['APGeP'],_0x7a1b52[_0x3f19fd(0x186)]))_0x19817a[_0x3f19fd(0x22f)](_0x1b075e);else return logger[_0x3f19fd(0x2be)](_0x3f19fd(0x168)+_0x189ef2+_0x3f19fd(0x16b)+_0x46effd),![];}return![];}async[a1_0x1a0de9(0x27a)](_0x57ed79,_0x222ac2){const _0x58313c=a1_0x1a0de9,_0x313c50={};_0x313c50[_0x58313c(0x2a7)]=_0x58313c(0x219),_0x313c50['lLgHc']=function(_0x4afcb6,_0x2d2d83){return _0x4afcb6===_0x2d2d83;},_0x313c50[_0x58313c(0x24f)]='iYREb',_0x313c50[_0x58313c(0xcf)]='xDaQD',_0x313c50[_0x58313c(0x2aa)]=function(_0x317336,_0x19e28f){return _0x317336===_0x19e28f;},_0x313c50['oULvO']=function(_0x2e2598,_0x549e65){return _0x2e2598!==_0x549e65;},_0x313c50[_0x58313c(0x2c2)]='vqqqu',_0x313c50['OTSEh']=_0x58313c(0x129);const _0xc1ddd5=_0x313c50;try{if(_0xc1ddd5[_0x58313c(0xe1)](_0xc1ddd5[_0x58313c(0x24f)],_0xc1ddd5[_0x58313c(0xcf)]))_0x8951c4[_0x58313c(0x102)]=![];else{const _0x4d4e42=await this[_0x58313c(0x18f)][_0x58313c(0x279)]['get'](global_registry['cloudProviderResourceGroup'],_0x222ac2,_0x57ed79[0x0]);if(_0xc1ddd5[_0x58313c(0x2aa)](_0x57ed79[0x0],_0x4d4e42[_0x58313c(0x1d3)])){if(_0xc1ddd5[_0x58313c(0xec)](_0xc1ddd5['ziUkU'],_0xc1ddd5[_0x58313c(0x139)]))return[!![],_0x57ed79];else _0x5bab6c['info'](_0xc1ddd5[_0x58313c(0x2a7)]);}}}catch(_0x9623a){return logger[_0x58313c(0x2be)]('Cannot\x20find\x20subnets\x20'+_0x57ed79+_0x58313c(0x258)+_0x9623a),[![],[]];}return[![],[]];}async[a1_0x1a0de9(0xe3)](){const _0x28a8e4=a1_0x1a0de9,_0x409ec9={};_0x409ec9[_0x28a8e4(0x1cb)]=_0x28a8e4(0x137);const _0x3e8f49=_0x409ec9,_0x45ecfb={};_0x45ecfb[_0x28a8e4(0x102)]=!![],_0x45ecfb[_0x28a8e4(0x2be)]=null,_0x45ecfb[_0x28a8e4(0x158)]=_0x3e8f49[_0x28a8e4(0x1cb)];const _0xe3b98f=_0x45ecfb;return _0xe3b98f;}async[a1_0x1a0de9(0x21f)](){const _0x398090=a1_0x1a0de9,_0x3bcd88={};_0x3bcd88[_0x398090(0x25e)]=_0x398090(0x148),_0x3bcd88[_0x398090(0x17a)]=_0x398090(0x27b),_0x3bcd88[_0x398090(0x1f3)]='application/json';const _0x42d9ee=_0x3bcd88,_0x32cc4b=await this[_0x398090(0x114)][_0x398090(0x1f2)](_0x42d9ee['rGaeB']),_0x5d5875={};_0x5d5875[_0x398090(0x26b)]=_0x42d9ee[_0x398090(0x17a)],_0x5d5875[_0x398090(0x10f)]={},_0x5d5875[_0x398090(0x10f)][_0x398090(0x1e7)]=_0x398090(0x196)+_0x32cc4b['token'],_0x5d5875[_0x398090(0x10f)]['Content-Type']=_0x42d9ee[_0x398090(0x1f3)];const _0x2c5d4b=_0x5d5875;return _0x2c5d4b;}async['getPrincipalIdFromClientId'](_0xe11da6){const _0x305e64=a1_0x1a0de9,_0x2f472b={'QCfCk':function(_0x4929e3,_0x4d535d,_0x160281){return _0x4929e3(_0x4d535d,_0x160281);},'WeUtU':function(_0x5df568,_0x3b353c){return _0x5df568===_0x3b353c;},'cOeCp':_0x305e64(0x28d)},_0x2a88e3={};_0x2a88e3[_0x305e64(0x1fb)]='',_0x2a88e3[_0x305e64(0x2be)]=null;const _0x18c728=_0x2a88e3;try{const _0x48b09b=_0x305e64(0x127)+_0xe11da6+'\x27',_0x5d0e82=await this[_0x305e64(0x21f)](),_0x4c64ad=await _0x2f472b[_0x305e64(0x288)](fetch,_0x48b09b,_0x5d0e82),_0x18c204=await _0x4c64ad[_0x305e64(0x293)]();if(!_0x18c204[_0x305e64(0x136)]||_0x2f472b[_0x305e64(0xdd)](_0x18c204['value']['length'],0x0))throw new Error(_0x2f472b[_0x305e64(0x252)],_0x305e64(0x22a)+JSON[_0x305e64(0x191)](_0x18c204));_0x18c728[_0x305e64(0x1fb)]=_0x18c204[_0x305e64(0x136)][0x0]['id'];}catch(_0x583cb5){_0x18c728[_0x305e64(0x2be)]=_0x583cb5;}return _0x18c728;}async[a1_0x1a0de9(0x1e8)](){const _0x50eb8b=a1_0x1a0de9,_0x193232={};_0x193232[_0x50eb8b(0x170)]=_0x50eb8b(0x1d4),_0x193232[_0x50eb8b(0x17e)]=_0x50eb8b(0x238),_0x193232[_0x50eb8b(0x1ed)]=function(_0x263430,_0x912983){return _0x263430!==_0x912983;},_0x193232[_0x50eb8b(0x262)]=function(_0x299765,_0x50ff3c){return _0x299765===_0x50ff3c;},_0x193232[_0x50eb8b(0x271)]=_0x50eb8b(0x15c),_0x193232[_0x50eb8b(0xf0)]=_0x50eb8b(0x2bb),_0x193232[_0x50eb8b(0x1f4)]=function(_0xb2b397,_0x458fdd){return _0xb2b397===_0x458fdd;},_0x193232[_0x50eb8b(0x1ef)]=_0x50eb8b(0x160);const _0x1f5c3c=_0x193232,_0x1fa345={};_0x1fa345[_0x50eb8b(0x102)]=![],_0x1fa345[_0x50eb8b(0x2be)]=null,_0x1fa345[_0x50eb8b(0x158)]='';const _0x5ca7c5=_0x1fa345;try{let _0xe4e7e9='';const _0x167719=_0x50eb8b(0xf4)+global_registry[_0x50eb8b(0x1c7)]+'/resourceGroups/'+global_registry['cloudProviderResourceGroup'],_0x398dbd=await this[_0x50eb8b(0x2b8)](global_registry['cloudProviderClientId']);if(_0x1f5c3c['ZHvRn'](_0x398dbd['error'],null))return _0x5ca7c5[_0x50eb8b(0x2be)]=_0x398dbd[_0x50eb8b(0x2be)],_0x5ca7c5;const _0x1789d9='assignedTo(\x27'+_0x398dbd[_0x50eb8b(0x1fb)]+'\x27)',_0x593f2c={};_0x593f2c[_0x50eb8b(0x22e)]=_0x1789d9;const _0x1fb6b4=await this['authClient'][_0x50eb8b(0x193)][_0x50eb8b(0x28c)](_0x167719,_0x593f2c),_0x3a4d64=[];for await(const _0x27f842 of _0x1fb6b4){_0x3a4d64['push'](_0x27f842);}if(_0x1f5c3c[_0x50eb8b(0x262)](_0x3a4d64[_0x50eb8b(0x230)],0x0))return _0x5ca7c5[_0x50eb8b(0x158)]=_0x1f5c3c[_0x50eb8b(0x271)],_0x5ca7c5;const _0x5be405=[...new Set(_0x3a4d64[_0x50eb8b(0x1c1)](_0x503e17=>_0x503e17[_0x50eb8b(0x1e2)]))];if(_0x1f5c3c[_0x50eb8b(0x262)](_0x5be405[_0x50eb8b(0x230)],0x0))return _0x5ca7c5[_0x50eb8b(0x158)]=_0x1f5c3c[_0x50eb8b(0xf0)],_0x5ca7c5;const _0x5bb5cb=[],_0x259645=[];for(const _0x204924 of _0x5be405){const _0x3bf3ab=await this[_0x50eb8b(0x24c)][_0x50eb8b(0x2a8)]['getById'](_0x204924);logger[_0x50eb8b(0x20a)](_0x50eb8b(0x203)+_0x3bf3ab['roleName']),_0x5bb5cb[_0x50eb8b(0x22f)](_0x3bf3ab),logger[_0x50eb8b(0x20a)](_0x50eb8b(0x28b)+JSON[_0x50eb8b(0x191)](_0x3bf3ab[_0x50eb8b(0x225)])),_0x3bf3ab[_0x50eb8b(0x225)][_0x50eb8b(0x1eb)](_0x58b0fd=>{const _0x348e95=_0x50eb8b;_0x259645[_0x348e95(0x22f)](..._0x58b0fd[_0x348e95(0x242)]);});}logger[_0x50eb8b(0x20a)](_0x50eb8b(0x29d)+JSON['stringify'](_0x259645)),_0x1f5c3c['YCufv'](_0x259645['length'],0x0)&&(_0xe4e7e9+=_0x1f5c3c[_0x50eb8b(0x1f4)](_0x259645[_0x50eb8b(0x230)],0x0)?_0x1f5c3c[_0x50eb8b(0x1ef)]:'',logger[_0x50eb8b(0x20a)]('Role\x20definition\x20response\x20list\x20\x20:\x20\x20'+JSON[_0x50eb8b(0x191)](_0x5bb5cb))),_0x5ca7c5[_0x50eb8b(0x102)]=!![],Object[_0x50eb8b(0x269)](PERMISSIONS['ACTION'])[_0x50eb8b(0x1eb)](([_0x15f5c0,_0x118959])=>{const _0x2e6c99=_0x50eb8b,_0x589336=_0x259645[_0x2e6c99(0x256)](_0x15f5c0);_0xe4e7e9+='\x0a\x09'+_0x118959+':\x20'+(_0x589336?_0x1f5c3c[_0x2e6c99(0x170)]:_0x1f5c3c['wjvBo']),!_0x589336&&(_0x5ca7c5[_0x2e6c99(0x102)]=![]);}),_0x5ca7c5[_0x50eb8b(0x158)]=_0xe4e7e9;}catch(_0x40e8e7){_0x5ca7c5[_0x50eb8b(0x2be)]=_0x40e8e7;}return _0x5ca7c5;}}const a1_0x2effba={};function a1_0xdad0(_0x31e646,_0x214b6f){const _0x5c9ed7=a1_0x5c9e();return a1_0xdad0=function(_0xdad076,_0x32c108){_0xdad076=_0xdad076-0xca;let _0x43683f=_0x5c9ed7[_0xdad076];return _0x43683f;},a1_0xdad0(_0x31e646,_0x214b6f);}a1_0x2effba['AzureCloudProvider']=AzureCloudProvider,module[a1_0x1a0de9(0x1c9)]=a1_0x2effba;function a1_0x5c9e(){const _0x142c87=['CDMbg','rGaeB','DgtlA','cloudProviderResourceGroup','pJzMr','YCufv','NIhcd','hubharesources','clusterInfo','xWulk','clusterRegion','clientSecret','entries','5|2|7|0|3|6|1|4','method','deployments','isStorageAccountPresent','LOG','VgQRA','Disk\x20size\x20(in\x20GiB)\x20to\x20provision\x20for\x20each\x20of\x20the\x20agent\x20pool\x20nodes.\x20This\x20value\x20ranges\x20from\x200\x20to\x201023.\x20Specifying\x200\x20will\x20apply\x20the\x20default\x20disk\x20size\x20for\x20that\x20agentVMSize.','bIqnD','fnUQo','vdCGi','vWJqw','federatedidentity','exit','xatTn','../config/constants','subnets','isSubnetsValid','GET','vfdqA','info','WwliZ','WOdom','TtDUq','Please\x20enter\x20numeric\x20choice\x20(must\x20exactly\x20match\x20list\x20item):\x20','daysAfterCreationGreaterThan','Tmxzw','containerClient','turboscale-identity-deployment','slice','ThhjB','QCfCk','init','21QmExjE','Attached\x20permissions\x20:\x20','listForScope','No\x20service\x20principal\x20found','cThob','mUUed','DvVBo','hwMUm','yDMaz','json','\x20RESOURCE\x20GROUP:\x20','maxNodes','ViPTj','stack','userMaxNodes','wQSAF','gOuTN','xeTnC','EhFmb','actionPermission\x20:\x20','DdUCc','BUQCB','vNWdB','listAll','rules','subscriptionId','KtQZS','EmfNm','miUbQ','GNIks','roleDefinitions','hXELd','AhtOc','Creating\x20Azure\x20managed\x20identity','lpirz','Lifecycle','isManagedIdentityPresent','fRfKq','AnsfK','federatedidentityuploader.json','MQYRb','898368mFjkyp','isClusterPresent','UGTFO','NXZoE','RUEKK','getPrincipalIdFromClientId','CXsTd','dIYxr','No\x20role\x20defintion\x20found\x20for\x20the\x20attached\x20roles','wKPDt','aSkmn','error','getResourceGroups','TmTFq','NvQWO','ziUkU','eQPOl','getUserInput','setCachedCredsInRegistry','ALCDX','../config/logger','732563QxayIu','log','2860bRYYDh','getStorageAccountName','cbseu','TvIxQ','iMwAa','sendEventToBackend','rIbug','disableLocalAccounts','Ayfnq','Enabling\x20OIDC\x20Issuer\x20for\x20the\x20cluster','1378370QhtyjC','dHOgb','iisOM','listByResourceGroup','zLPoo','BFkay','rAyVN','mcFRQ','zVAsq','IRfvn','DmASM','AOrQD','WeUtU','HRQuq','pfuhJ','definition','lLgHc','Wuaqr','isCliToolInstalled','createCluster','CLgZQ','mXmWU','PNYAz','tKQTv','ZkgfP','PPjko','clientId','oULvO','qzAXZ','Eeuff','clusterAutoUpgrade','KeYGr','Created\x20Azure\x20federated\x20identity\x20&\x20Storage\x20Class\x20for\x20Hub\x20Ha','uAvzQ','bYFGt','subscriptions/','storageAccounts','wvHFz','bgrTT','lEHfq','SYKZa','rWVfi','gJcHm','mTSGb','GEDAQ','ZDkGr','filters','485QuiCSn','IITHC','status','byzuU','policy','Enabling\x20Local\x20account\x20for\x20the\x20cluster','properties','DsIga','jaaLF','DizWK','lORHS','RIvbm','XIoJk','wkHGa','SGqCU','headers','NQQZp','templates','705051htJudA','userInstanceType','cred','beginDeleteAndWait','neLbz','YIrSX','kXhLz','RxHAS','true','isBrowserstackCluster','MgDbg','username','cloudProviderClientSecret','MFstM','SgyUw','workloadIdentity','zeauS','4YWOqRu','mdeZT','Biwgi','getGridHostname','https://graph.microsoft.com/v1.0/servicePrincipals?$filter=appId\x20eq\x20\x27','edCZT','yiSFV','MIqbQ','agentPoolProfiles','cUhgu','cNnhM','UJmGb','resourceGroup','wJuiI','setClients','vWCXT','USMaa','hub','toLowerCase','value','No\x20CLI\x20tool\x20required','CNuCn','OTSEh','GKvBL','lKHTm','Blob\x20delete\x20lifecycle','enabled','virtualNetworks','[concat(\x27/subscriptions/\x27,\x20subscription().subscriptionId,\x20\x27/resourceGroups/\x27,\x20resourceGroup().name,\x20\x27/providers/Microsoft.Network/virtualNetworks/\x27,\x20parameters(\x27vpcName\x27),\x20\x27/subnets/\x27,\x20parameters(\x27subnetName\x27))]','ZHtgo','BMYeh','turboscale','lLnSg','JYsMN','ingress','toUpperCase','bstackUsername','https://graph.microsoft.com/.default','Pskyp','KCCRZ','cloudProviderClientId','qRAHl','dAivD','FvteY','0|3|2|1|5|4','deleteCluster','AbwGL','yTdjv','LYvdf','PLNXp','SuHJA','uxWNC','mKDHI','data','wnTbH','Enabling\x20Workload\x20identity\x20for\x20the\x20cluster','hubHaNameSpace','No\x20attached\x20role\x20for\x20the\x20client\x20key','cUlav','9427PjPekV','baseBlob','Action\x20permission\x20list\x20is\x20empty\x0a','XFSTH','parse','uyChw','get','jVIPQ','FmJgj','TYtOt','Cannot\x20find\x20VPC\x20','HBWnP','cxBan','.\x20Please\x20Check\x20and\x20try\x20again,\x20error:\x20','fwEYM','iSccp','tjced','uOVws','Aeyuk','GtQqG','../utils/gridComponents','IbstL','oidcIssuerProfile','utf-8','jDerx','list','kubeconfigs','NuCOj','KVDUM','./CloudProvider','xDOOt','CUoSX','wjvBo','ayAyy','variables','FoCsG','eQlAX','TJkpH','epSyB','Role\x20definition\x20response\x20list\x20\x20:\x20\x20','APGeP','vDbEJ','resources','YHfbe','securityProfile','2023-01-31','webSocketUtils','QhTxP','\x20CLIENT\x20SECRET:\x20','networkClient','Fzqtx','stringify','setupNewCluster','roleAssignments','Creating\x20Azure\x20federated\x20identity\x20for\x20Hub\x20Ha','hostname','Bearer\x20','message','QDqWj','YeysL','TjUUt','readFileAsync','lcxyn','AQcGr','Creating\x20Azure\x20storage\x20account','Cannot\x20find\x20subnets\x20','cGiBj','PCPHV','metadata','TKFxF','js-yaml','63VZbdqb','s3Bucket','PoWgH','jSMTe','Nvefb','isVPCPresent','blockBlob','ENXrz','getClusterInfo','rws','ILhwe','kfzZI','26920JUWiiX','uaDhF','SEomB','storageClient','RRVzo','KyoBN','gPrGz','false','nKhUP','fifVU','roSwM','EZOdX','ezuEL','RaePW','XRuMA','ZSaki','map','Upsob','tDdUE','HjvVl','BGBFU','instanceType','cloudProviderSubscriptionId','beginCreateOrUpdateAndWait','exports','HKdWO','vYCGh','uavcD','browserstack:managedBy','join','yXCYX','Creating\x20Azure\x20federated\x20identity','.json','blobTypes','name','allowed','yCLeo','pPRDt','kPGAW','izZUP','issuerURL','RESOURCES','parameters','pUxrP','node','NYYRR','Ilyqj','CAWLd','TBNST','roleDefinitionId','lrVYQ','Yuozf','MXYVM','@azure/arm-network','Authorization','checkAccess','SyLtz','createStorageAccount','forEach','delete','ZHvRn','updateClusterAlreadyPresent','WGnfK','TBYLS','sendAzureInfoToHST','getToken','cjVyd','GBFyI','OGHIp','[variables(\x27vnetSubnetID\x27)]','FviRM','vpcName','PLSER','split','principalId','Ofqql','FWrLm','TZbkO','KPWKx','uosbU','GdnzO','pHfjL','role\x20name\x20attached\x20-\x20','ZvJLM','cloudProvider','sHQYy','MQuzY','UPRNA','NskXx','debug','EJEDm','dHvbS','createFederatedAccount','vZpRY','BKqCE','cloudProviderTenantId','woSnR','../utils/utilityMethods','96rFmrRj','LEHEY','vnetSubnetID','Incremental','TacRy','createFederatedAccountForHubHA','Managed\x20identity\x20already\x20exists,\x20skipping','BrowserStack','@azure/identity','Storage\x20account\x20already\x20exists,\x20skipping','getResourceClientId','Wrong\x20input!\x20Please\x20try\x20again\x20with\x20a\x20valid\x20input.','getHeader','resourceClient','xAsba','0|5|1|2|4|3','224NsuSxK','description','permissions','UgJHX','@azure/arm-authorization','getById','turboscale-storageaccount-deployment','Received\x20response\x20-\x20','qsnwN','clusterName','gHGQh','filter','push','length','vpcInfo','bxEqV','SYwsE','ENuLf','RFvEB','tgDyh','turboscale-managed-identity-','denied','DxJcS','type','\x0aDo\x20you\x20want\x20to\x20proceed\x20with\x20this\x20resource\x20group\x20(y/n)?\x20','qPwKX','tenantId','OTUVc','SjlKx','@azure/arm-containerservice','FXZUH','actions','pNpAq','HyHoU','azureresources','managedClusters','getKubeConfigData','NwiUr','eRIrs','gRRzr','vyVmb','authClient','Ppjlp','HBCxt','QHlRa','[getResourceClientId]\x20Failed\x20to\x20fetch\x20clientId.\x20Error:\x20','RtQji','cOeCp','subnetName','cXqCb','bstackAccesskey','includes','createManagedIdentity','.\x20Error:\x20','loadBalancer','cloudProviderName','vgNur','Deleting\x20the\x20cluster\x20'];a1_0x5c9e=function(){return _0x142c87;};return a1_0x5c9e();}