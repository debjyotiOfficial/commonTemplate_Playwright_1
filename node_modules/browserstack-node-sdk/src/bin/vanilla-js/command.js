#!/usr/bin/env node
'use strict';const a83_0xbf038d=a83_0x1588;function a83_0x1588(_0x11db07,_0x31ceb1){const _0x2837e2=a83_0x2837();return a83_0x1588=function(_0x158809,_0x3781ed){_0x158809=_0x158809-0xe5;let _0x249865=_0x2837e2[_0x158809];return _0x249865;},a83_0x1588(_0x11db07,_0x31ceb1);}(function(_0x2042dc,_0x3f538b){const _0x3a72e1=a83_0x1588,_0x507076=_0x2042dc();while(!![]){try{const _0x2a2400=parseInt(_0x3a72e1(0xf4))/0x1+parseInt(_0x3a72e1(0xe6))/0x2+-parseInt(_0x3a72e1(0xfb))/0x3+-parseInt(_0x3a72e1(0xfe))/0x4+-parseInt(_0x3a72e1(0x114))/0x5+parseInt(_0x3a72e1(0x113))/0x6*(-parseInt(_0x3a72e1(0x10c))/0x7)+-parseInt(_0x3a72e1(0xf7))/0x8*(-parseInt(_0x3a72e1(0x100))/0x9);if(_0x2a2400===_0x3f538b)break;else _0x507076['push'](_0x507076['shift']());}catch(_0x1e4c43){_0x507076['push'](_0x507076['shift']());}}}(a83_0x2837,0x58146));function a83_0x2837(){const _0x55ba7f=['push','proxySettings','IWZiP','finally','forEach','exports','modifyBrowserStackW3CCaps','file','434265QXXNxl','\x20doesn\x27t\x20exist','File\x20','3800HLqsCo','getHubUrl','useW3C','configuration','203019GQobHm','../test-runner','DQvYL','1906372mmvzfs','modifyBrowserStackCaps','5877DLpLFS','existsSync','then','end','Config\x20yml\x20is\x20required','length','platforms','finalExecution','start','args','../../helpers/BrowserStackSetup','path','683312vRAEFr','getPlatformName','launchBuild','../../helpers/utilities','fEAQU','handleApp','index','12DqhvHr','476355XdnxOb','cwd','902206mHUHrV','knOKg','EVENTS','assign','config','../../helpers/performance/performance-tester'];a83_0x2837=function(){return _0x55ba7f;};return a83_0x2837();}const fs=require('fs'),path=require(a83_0xbf038d(0x10b)),{default:BrowserStackSetup}=require(a83_0xbf038d(0x10a)),helper=require('../../helpers/helper'),PerformanceTester=require(a83_0xbf038d(0xeb)),PerformanceEvents=require('../../helpers/performance/constants')[a83_0xbf038d(0xe8)],utilities=require(a83_0xbf038d(0x10f)),{parallelVanillaRun}=require(a83_0xbf038d(0xfc)),TestHubHandler=require('../../helpers/testhub/testhubHandler');async function run(_0x4f42d2,_0x22bba5,_0x1420fe){const _0x94bbf5=a83_0xbf038d,_0x3eacab={'DQvYL':'vanilla','fEAQU':function(_0x18da59,_0x34632b){return _0x18da59(_0x34632b);},'iNxwK':'File\x20path\x20is\x20required','xDyDv':function(_0x5f4bb6,_0x222a23){return _0x5f4bb6(_0x222a23);},'toYde':_0x94bbf5(0x104),'rxrrW':function(_0x5d34d3,_0x3ecad1){return _0x5d34d3>_0x3ecad1;},'UTtcz':function(_0x527c93,_0x5e4ed5){return _0x527c93>_0x5e4ed5;},'knOKg':function(_0x10304e,_0x402334){return _0x10304e*_0x402334;},'IWZiP':function(_0x58e022,_0x4b24e8,_0x6fddf2){return _0x58e022(_0x4b24e8,_0x6fddf2);}};await _0x1420fe['initialize'](_0x4f42d2),await helper[_0x94bbf5(0x111)](_0x1420fe[_0x94bbf5(0xea)]);const _0x135359=[];if(helper['isUndefined'](_0x4f42d2['_'][0x1]))throw _0x3eacab[_0x94bbf5(0x110)](Error,_0x3eacab['iNxwK']);const _0x17792d=path['join'](process[_0x94bbf5(0xe5)](),_0x4f42d2['_'][0x1]);if(!fs[_0x94bbf5(0x101)](_0x17792d))throw _0x3eacab[_0x94bbf5(0x110)](Error,_0x94bbf5(0xf6)+_0x4f42d2['_'][0x1]+_0x94bbf5(0xf5));if(!_0x1420fe[_0x94bbf5(0xea)])throw _0x3eacab['xDyDv'](Error,_0x3eacab['toYde']);const _0x4b2314=helper[_0x94bbf5(0xf9)](_0x1420fe[_0x94bbf5(0xea)]);_0x1420fe[_0x94bbf5(0xea)][_0x94bbf5(0x106)]&&_0x3eacab['rxrrW'](_0x1420fe['config']['platforms']['length'],0x0)&&_0x1420fe[_0x94bbf5(0xea)][_0x94bbf5(0x106)][_0x94bbf5(0xf0)]((_0xf547e2,_0x2c51ad)=>{const _0x2bb55a=_0x94bbf5;_0x4b2314?_0x135359['push'](helper[_0x2bb55a(0xf2)](_0x1420fe['config'],_0x3eacab['DQvYL'],_0x2c51ad)):_0x135359[_0x2bb55a(0xec)](helper[_0x2bb55a(0xff)](_0x1420fe[_0x2bb55a(0xea)],_0x3eacab[_0x2bb55a(0xfd)],_0x2c51ad));});let _0x5afd2d,_0x170425;const _0x435d9a=[];if(_0x3eacab['UTtcz'](_0x135359[_0x94bbf5(0x105)],0x0))_0x135359['forEach']((_0x1f3db0,_0x22cbbe)=>{const _0x4102a3=_0x94bbf5,_0x154417={};_0x154417[_0x4102a3(0x112)]=_0x22cbbe,_0x5afd2d={'server':helper[_0x4102a3(0xf8)](_0x1420fe[_0x4102a3(0xea)]),'proxySettings':_0x1420fe['config'][_0x4102a3(0xed)],'platform':helper[_0x4102a3(0x10d)](_0x1f3db0),'platformCaps':Object[_0x4102a3(0xe9)](_0x154417,_0x1420fe[_0x4102a3(0xea)][_0x4102a3(0x106)][_0x22cbbe])};const _0x5b74b4={'capability':_0x1f3db0,..._0x5afd2d};_0x5b74b4[_0x4102a3(0xf3)]=_0x17792d,_0x5b74b4[_0x4102a3(0x109)]=_0x22bba5;const _0x353659={};_0x353659[_0x4102a3(0xfa)]=_0x5b74b4,_0x170425=_0x353659,_0x435d9a['push'](_0x170425);});else{let _0x3bb36f;_0x4b2314?_0x3bb36f=helper[_0x94bbf5(0xf2)](_0x1420fe['config'],_0x3eacab[_0x94bbf5(0xfd)],0x0):_0x3bb36f=helper[_0x94bbf5(0xff)](_0x1420fe[_0x94bbf5(0xea)],_0x3eacab[_0x94bbf5(0xfd)],0x0);_0x5afd2d={'server':helper[_0x94bbf5(0xf8)](_0x1420fe['config']),'proxySettings':_0x1420fe[_0x94bbf5(0xea)][_0x94bbf5(0xed)]};const _0x3ab786={'capability':_0x3bb36f,..._0x5afd2d};_0x3ab786[_0x94bbf5(0xf3)]=_0x17792d,_0x3ab786['args']=_0x22bba5;const _0x3e4a02={};_0x3e4a02[_0x94bbf5(0xfa)]=_0x3ab786,_0x170425=_0x3e4a02,_0x435d9a[_0x94bbf5(0xec)](_0x170425);}const _0x1cb40e=await TestHubHandler[_0x94bbf5(0x10e)](_0x3eacab[_0x94bbf5(0xfd)],_0x1420fe),_0x254ebe=_0x3eacab[_0x94bbf5(0xe7)](_0x1420fe[_0x94bbf5(0xea)][_0x94bbf5(0x106)][_0x94bbf5(0x105)]||0x1,_0x1420fe['config']['parallelsPerPlatform']||0x1);PerformanceTester[_0x94bbf5(0x103)](PerformanceEvents['SDK_SETUP']),_0x3eacab[_0x94bbf5(0xee)](parallelVanillaRun,_0x435d9a,_0x254ebe)[_0x94bbf5(0x102)](_0x1e009f=>{})[_0x94bbf5(0xef)](async()=>{const _0x417b33=_0x94bbf5;PerformanceTester[_0x417b33(0x108)](PerformanceEvents['SDK_CLEANUP']),await utilities[_0x417b33(0x107)](_0x1420fe);});}module[a83_0xbf038d(0xf1)]=run;