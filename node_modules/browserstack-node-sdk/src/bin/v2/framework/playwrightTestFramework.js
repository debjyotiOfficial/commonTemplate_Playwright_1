function a67_0x3dfc(){const _0x311209=['KEY_HOOK_FAILURE_TYPE','Error\x20in\x20sendLogCreatedEvent:\x20','ceil','KEY_TEST_STARTED_AT','KEY_HOOK_FAILURE_REASON','fYxzK','NONE','./constants/testFrameworkConstants.js','ErphC','TEST','values','startTime','debug','ptixP','dvYOE','\x20payload=','rZWFf','nExjd','expectedStatus','steps','KEY_TEST_RESULT_AT','toISOString','\x20instanceId=','getTestFrameworksVersions','map','pvCCM','AUOhz','getTime','\x20response=','trackEvent:\x20found\x20instance,\x20testFrameworkState=','test','KEY_TEST_RETRY_OF','exports','KEY_HOOK_NAME','trim','../../utils/constants','Error\x20processing\x20direct\x20trace\x20file\x20','YDodo','3TvaMMH','85HuKnvw','trackPlaywrightInstance','OMNcX','KEY_HOOKS_STARTED','9616780ROrEOg','UZSDp','KEY_TEST_CODE','TEST_ATTACHMENT','11621869FDwuqK','parsePlaywrightTestResult','\x20hookState=','KEY_TEST_TAGS','getCurrentInstanceName','instance','yHGsU','format','YaHfN','inspect','basename','xbObz','path','KEY_TEST_LOGS','hlqqb','../state/testFrameworkState.js','JQaLx','annotations','KEY_CUSTOM_TAGS','push',',\x20state=','KEY_TEST_UUID','qoueS','438722peALqN','../../../helpers/helper.js','message','PHgHY','filePath','logCreatedEvent','stack','KEY_TEST_FAILURE','getInstance','EhPAR','2792625hodrwP','ZoyEd','skipped','CLcZv','statSync','some','trackPlaywrightInstance:\x20created\x20instance\x20for\x20target=','KEY_HOOK_FAILURE','../../playwright/reporter/pwUtils','No\x20reason\x20provided','Hook\x20List\x20in\x20Post\x20','epedS','ffVtT','concat','KEY_TEST_FILE_PATH','KEY_TEST_FRAMEWORK_NAME','\x20from\x20TestDetails:\x20','forEach','split','jcKBy','duration','trackEvent\x20loading\x20testResults\x20for\x20testId:\x20','filter','KEY_HOOK_ID','size','title','KEY_TEST_LOCATION','cKLxh','rvQgp','3eKFxNG','../../../helpers/classLogger.js','sendLogCreatedEvent\x20for\x20testId:\x20','../instances/testFrameworkInstance.js','errors','retry','PlaywrightTestFramework',',\x20testFrameworkState=','get','Iexcr','KEY_TEST_NAME','passed','getTestDetails','sendLogCreatedEvent:\x20testId=','\x20target=','getTrackedInstance','PEFRl','DEFAULT_TEST_RESULT','../instances/trackedInstance.js','../grpcClient','fuBhR','zehJC','nMHSF','addMultipleEntries','KEY_TEST_FRAMEWORK_VERSION','createContext','trackPlaywrightInstance:\x20saved\x20instance\x20contextId=','rzxPh','../../../helpers/test-observability/utils','failed','FTOvh','AKcEk','KEY_HOOKS_FINISHED','KEY_HOOK_LAST_FINISHED','Error\x20processing\x20trace\x20file\x20','VLgTC','getAllData','pMPxE','\x20result=','UxAnL','trackEvent:\x20Exception\x20in\x20event\x20tracking,\x20testFrameworkState=%s\x20hookState=%s\x20argsLength=%s,\x20exception=%s','KEY_TEST_FAILURE_REASON','259914KLAllS','parsePlaywrightTest','KEY_TEST_RESULT','SVRyW','KEY_HOOK_RESULT','toString','KEY_AUTOMATE_SESSION_NAME','sendLogCreatedEvent','getTestUUID','POST','error','8gfLfzh','INIT_TEST','step','pwPFw','setTestDetails','KEY_TEST_SCOPES','\x20&\x20hook\x20=\x20','result','\x20batch\x20','NLlHR','3126380JkHJJC','IZFIk','Hook\x20Started\x20in\x20PRE\x20key\x20=\x20','cVeSg','err','TTJCC','\x20\x20and\x20args\x20=\x20','KEY_TEST_ID','slice','hTedL','getTraceFilePaths','multi_dropdown','attachments','wDPLJ','runHooks','KEY_EVENT_STARTED_AT','yQXqB','KEY_EVENT_ENDED_AT','../state/hookState.js','DEFAULT_HOOK_RESULT','isArray','TEST_SCREENSHOT','getId','info','./testFramework','pop','xnSlF','status','uZsPw','trackEvent','WRiPR','KEY_TEST_RERUN_NAME','../TestInfo.js','PRE','nOlTQ','getRef','util','12688695HuLgob','KEY_TEST_ENDED_AT','acduz','Tpxbk','WGqDf','KEY_TEST_ATTACHMENTS','file_name','SuGlc','field_type','KEY_LOGS','\x20and\x20args\x20=\x20','resolveInstance','description','length','yWCta','Expected\x20to\x20fail,\x20but\x20passed.'];a67_0x3dfc=function(){return _0x311209;};return a67_0x3dfc();}const a67_0x2699b6=a67_0x561f;function a67_0x561f(_0xc4d80f,_0x169929){const _0x3dfc64=a67_0x3dfc();return a67_0x561f=function(_0x561f22,_0x453647){_0x561f22=_0x561f22-0x117;let _0x1d7d6b=_0x3dfc64[_0x561f22];return _0x1d7d6b;},a67_0x561f(_0xc4d80f,_0x169929);}(function(_0x59545b,_0x10781f){const _0x258027=a67_0x561f,_0x20ff25=_0x59545b();while(!![]){try{const _0x16540d=-parseInt(_0x258027(0x11b))/0x1*(parseInt(_0x258027(0x13b))/0x2)+parseInt(_0x258027(0x162))/0x3*(parseInt(_0x258027(0x1a1))/0x4)+-parseInt(_0x258027(0x11c))/0x5*(parseInt(_0x258027(0x18c))/0x6)+parseInt(_0x258027(0x124))/0x7+-parseInt(_0x258027(0x197))/0x8*(parseInt(_0x258027(0x1c6))/0x9)+parseInt(_0x258027(0x120))/0xa+parseInt(_0x258027(0x145))/0xb;if(_0x16540d===_0x10781f)break;else _0x20ff25['push'](_0x20ff25['shift']());}catch(_0x50f220){_0x20ff25['push'](_0x20ff25['shift']());}}}(a67_0x3dfc,0xd043e));const TestFramework=require(a67_0x2699b6(0x1b9)),TestFrameworkState=require(a67_0x2699b6(0x133)),HookState=require(a67_0x2699b6(0x1b3)),{createClassLogger}=require(a67_0x2699b6(0x163)),TestFrameworkInstance=require(a67_0x2699b6(0x165)),CLIUtils=require('../cliUtils.js'),TrackedInstance=require(a67_0x2699b6(0x174)),TestFrameworkConstants=require(a67_0x2699b6(0x1dd)),logger=createClassLogger(a67_0x2699b6(0x168)),{v4:uuidv4}=require('uuid'),util=require(a67_0x2699b6(0x1c5)),{getPlaywrightSessionName,getPlaywrightTestFilePath,getPlaywrightTestId,getPlaywrightTestTitle,getPlaywrightTestLocation,getPlaywrightTestTags,getPlaywrightTestCode,getPlaywrightTestScope,getPlaywrightTestScopes,getStepsAndLogs,getScreenshots,getVideos,getPlaywrightCustomRerunParam,getMediaArtifactsLogs,getManualUploadLogs,updatePayloadForTraceLogs}=require(a67_0x2699b6(0x13c)),TestInfo=require(a67_0x2699b6(0x1c1)),GrpcClient=require(a67_0x2699b6(0x175)),{removeAnsiColors,getFailureType,failureData}=require(a67_0x2699b6(0x17e)),{getFailureData,getTestTags,getTestRunIdentifier}=require(a67_0x2699b6(0x14d)),{findNestedKey,sendTraceZip,validateFilePath}=require('../../playwright/reporter/pwUtils'),path=require('path'),fs=require('fs'),helper=require('../../../../src/helpers/helper'),{PLAYWRIGHT_TRACE_LOGS}=require(a67_0x2699b6(0x118));class PlaywrightTestFramework extends TestFramework{constructor(_0x3acccd,_0x169ae4,_0x4561c0){super(_0x3acccd,_0x169ae4,_0x4561c0);}async['trackEvent'](_0x1be764,_0x2d853a,_0x3b8c8c={}){const _0x54edaf=a67_0x2699b6,_0x33a010={'AUOhz':function(_0x5b9e17,_0x2ae889){return _0x5b9e17===_0x2ae889;},'hTedL':function(_0x1290ab,_0x44cceb){return _0x1290ab===_0x44cceb;},'nExjd':function(_0x1ebe7d,_0x185470,_0x4c4219){return _0x1ebe7d(_0x185470,_0x4c4219);},'rvQgp':function(_0x7cbe0e,_0x561885){return _0x7cbe0e===_0x561885;},'yQXqB':'test','xbObz':_0x54edaf(0x18a)};super[_0x54edaf(0x1be)](_0x1be764,_0x2d853a,_0x3b8c8c);if(_0x33a010[_0x54edaf(0x1f0)](_0x1be764,TestFrameworkState[_0x54edaf(0x1b6)])){const _0x5463e9=TestInfo['getTestIdentifierFromTestInfo'](_0x3b8c8c[_0x54edaf(0x1f4)],_0x3b8c8c[_0x54edaf(0x1f4)][_0x54edaf(0x167)]);TestInfo['setTestDetails'](_0x5463e9,_0x3b8c8c[_0x54edaf(0x19e)],!![]);}const _0x5ebb3d=this[_0x54edaf(0x1d1)](_0x1be764,_0x2d853a,_0x3b8c8c);if(!_0x5ebb3d)return;logger['debug'](_0x54edaf(0x1f3)+_0x1be764+_0x54edaf(0x126)+_0x2d853a+_0x54edaf(0x1ec)+_0x5ebb3d[_0x54edaf(0x1c4)]());try{if(_0x33a010['AUOhz'](_0x2d853a,HookState[_0x54edaf(0x1c2)])&&_0x33a010[_0x54edaf(0x1aa)](_0x1be764,TestFrameworkState['TEST'])){const _0x44de77=_0x3b8c8c['test'];logger[_0x54edaf(0x1e2)]('trackEvent\x20loading\x20testData\x20for\x20testId:\x20'+_0x44de77['id']+'}');const _0x42aea1=TestInfo[_0x54edaf(0x194)](_0x33a010[_0x54edaf(0x1e7)](getTestRunIdentifier,_0x44de77,_0x3b8c8c['result'][_0x54edaf(0x167)]));_0x5ebb3d[_0x54edaf(0x179)](this[_0x54edaf(0x18d)](_0x42aea1,_0x44de77,_0x3b8c8c[_0x54edaf(0x19e)])),logger[_0x54edaf(0x1e2)]('trackEvent:\x20loaded\x20testData\x20for\x20testId:\x20'+_0x44de77['id']+_0x54edaf(0x169)+_0x1be764+'\x20testHookState='+_0x2d853a+'\x20instance='+_0x5ebb3d['getRef']());}if(_0x33a010[_0x54edaf(0x161)](_0x2d853a,HookState[_0x54edaf(0x195)])&&_0x33a010[_0x54edaf(0x161)](_0x1be764,TestFrameworkState[_0x54edaf(0x1df)])){const _0x7f788f=_0x3b8c8c[_0x54edaf(0x1f4)],_0x58b16d=_0x3b8c8c[_0x54edaf(0x19e)];logger[_0x54edaf(0x1e2)](_0x54edaf(0x15a)+_0x7f788f['id']),_0x5ebb3d['addMultipleEntries'](this[_0x54edaf(0x125)](_0x7f788f['id'],_0x58b16d,_0x7f788f)),await this['sendLogCreatedEvent'](_0x5ebb3d,_0x1be764,_0x2d853a,_0x33a010[_0x54edaf(0x1b1)],_0x3b8c8c);}if(CLIUtils['matchHookRegex'](_0x1be764[_0x54edaf(0x191)]()[_0x54edaf(0x157)]('.')[0x1])){const _0x280759=await this['trackHookEvent'](_0x5ebb3d,_0x1be764,_0x2d853a,_0x3b8c8c);_0x5ebb3d['addMultipleEntries'](_0x280759);}}catch(_0x113893){logger[_0x54edaf(0x196)](util[_0x54edaf(0x12b)](_0x33a010[_0x54edaf(0x12f)],_0x1be764,_0x2d853a,_0x3b8c8c['length'],_0x113893));}_0x3b8c8c[_0x54edaf(0x129)]=_0x5ebb3d,await this[_0x54edaf(0x1af)](_0x5ebb3d,_0x1be764,_0x2d853a,_0x3b8c8c);}[a67_0x2699b6(0x1d1)](_0x599cf6,_0x3f8eab,_0x4c369d={}){const _0x3dbe05=a67_0x2699b6,_0x1d6e2c={};_0x1d6e2c[_0x3dbe05(0x1bb)]=function(_0x2e4614,_0x7c889e){return _0x2e4614===_0x7c889e;};const _0x442608=_0x1d6e2c;let _0xd6fe1c=null;return(_0x442608[_0x3dbe05(0x1bb)](_0x599cf6,TestFrameworkState[_0x3dbe05(0x198)])||_0x442608[_0x3dbe05(0x1bb)](_0x599cf6,TestFrameworkState[_0x3dbe05(0x1dc)]))&&this[_0x3dbe05(0x11d)](_0x599cf6,_0x4c369d),_0xd6fe1c=TestFramework[_0x3dbe05(0x171)](),_0xd6fe1c;}['trackPlaywrightInstance'](_0xcb073,_0x3ec7cc){const _0x22f2fe=a67_0x2699b6,_0x3c35a3=CLIUtils[_0x22f2fe(0x128)](),_0x1f0822=TrackedInstance[_0x22f2fe(0x17b)](_0x3c35a3);let _0x47cd95=null;logger['info'](_0x22f2fe(0x14b)+_0x3c35a3+_0x22f2fe(0x138)+_0xcb073),_0x47cd95=new TestFrameworkInstance(_0x1f0822,this['getTestFrameworks'](),this[_0x22f2fe(0x1ed)](),_0xcb073,HookState[_0x22f2fe(0x1dc)]),TestFramework['setTrackedInstance'](_0x1f0822,_0x47cd95),logger[_0x22f2fe(0x1b8)](_0x22f2fe(0x17c)+_0x1f0822[_0x22f2fe(0x1b7)]()+_0x22f2fe(0x170)+_0x3c35a3);}[a67_0x2699b6(0x18d)](_0x5080bf,_0x13b264,_0x2e101b){const _0x35ea12=a67_0x2699b6,_0x236625={'nMHSF':function(_0x192239,_0x13cd29){return _0x192239(_0x13cd29);},'zehJC':function(_0x3da431,_0x28a89a){return _0x3da431(_0x28a89a);},'YDodo':function(_0x11d52d,_0x1be639){return _0x11d52d(_0x1be639);},'acduz':function(_0x168a86,_0x159453){return _0x168a86(_0x159453);},'yHGsU':function(_0x19de73,_0x301d9b){return _0x19de73(_0x301d9b);},'gxEGy':function(_0x416375,_0xc7e0f6,_0x57dbd0){return _0x416375(_0xc7e0f6,_0x57dbd0);}},_0x2e61c7=_0x236625[_0x35ea12(0x178)](getPlaywrightTestId,_0x13b264),_0x5af679=_0x236625[_0x35ea12(0x178)](getPlaywrightTestTitle,_0x13b264),_0x2dbd2b=_0x236625[_0x35ea12(0x177)](getTestTags,_0x13b264),_0x29a530=_0x236625[_0x35ea12(0x177)](getPlaywrightTestCode,_0x13b264),_0x34d69d=_0x236625['YDodo'](getPlaywrightTestFilePath,_0x13b264),_0x58201e=_0x34d69d+':'+_0x236625[_0x35ea12(0x1c8)](getPlaywrightTestLocation,_0x13b264),_0x117e6b=_0x236625[_0x35ea12(0x177)](getPlaywrightTestScope,_0x13b264),_0x87c559=_0x236625[_0x35ea12(0x11a)](getPlaywrightTestScopes,_0x13b264),_0x1f2442=_0x236625[_0x35ea12(0x12a)](getPlaywrightSessionName,_0x13b264),_0x57962a=this['getTestFrameworks']()[0x0],_0x4777ff=_0x236625['gxEGy'](getTestRunIdentifier,_0x13b264,_0x2e101b[_0x35ea12(0x167)]),_0x3325da={[TestFrameworkConstants[_0x35ea12(0x154)]]:_0x57962a,[TestFrameworkConstants['KEY_TEST_FRAMEWORK_VERSION']]:this[_0x35ea12(0x1ed)]()[_0x57962a],[TestFrameworkConstants[_0x35ea12(0x131)]]:[],[TestFrameworkConstants[_0x35ea12(0x182)]]:{},[TestFrameworkConstants[_0x35ea12(0x11f)]]:{},[TestFrameworkConstants[_0x35ea12(0x139)]]:_0x5080bf,[TestFrameworkConstants[_0x35ea12(0x18e)]]:TestFrameworkConstants[_0x35ea12(0x173)],[TestFrameworkConstants[_0x35ea12(0x192)]]:_0x1f2442,[TestFrameworkConstants['KEY_TEST_FILE_PATH']]:_0x34d69d,[TestFrameworkConstants[_0x35ea12(0x1a8)]]:_0x2e61c7,[TestFrameworkConstants[_0x35ea12(0x16c)]]:_0x5af679,[TestFrameworkConstants[_0x35ea12(0x15f)]]:_0x58201e,[TestFrameworkConstants[_0x35ea12(0x122)]]:_0x29a530,[TestFrameworkConstants[_0x35ea12(0x127)]]:_0x2dbd2b,[TestFrameworkConstants[_0x35ea12(0x1d9)]]:_0x13b264['results'][0x0][_0x35ea12(0x1e1)],[TestFrameworkConstants['KEY_TEST_SCOPE']]:_0x117e6b,[TestFrameworkConstants[_0x35ea12(0x19c)]]:_0x87c559,[TestFrameworkConstants[_0x35ea12(0x1c0)]]:_0x236625[_0x35ea12(0x12a)](getPlaywrightCustomRerunParam,_0x13b264)};TestInfo['setTestDetails'](_0x4777ff,_0x3325da);const _0x194f5a={};return _0x194f5a[_0x4777ff]=_0x3325da,_0x194f5a;}[a67_0x2699b6(0x125)](_0x36d8bd,_0x7c2e9c,_0x415881){const _0x16489f=a67_0x2699b6,_0xcec8b6={'FTOvh':function(_0x24a060,_0x292b0a){return _0x24a060(_0x292b0a);},'jcKBy':_0x16489f(0x123),'ErphC':function(_0x98a862,_0x452e3e){return _0x98a862===_0x452e3e;},'fYxzK':_0x16489f(0x14e),'Tpxbk':_0x16489f(0x1ac),'UxAnL':function(_0x5a4074,_0x30136e,_0xab3c4c){return _0x5a4074(_0x30136e,_0xab3c4c);},'WGqDf':function(_0x36cb43,_0x43c2c0){return _0x36cb43+_0x43c2c0;},'ZoyEd':function(_0x39170e,_0x3edbed){return _0x39170e===_0x3edbed;},'PHgHY':_0x16489f(0x147),'EhPAR':_0x16489f(0x16d),'cVeSg':function(_0x4768b3,_0x4bca59){return _0x4768b3===_0x4bca59;},'pvCCM':'failed','rzxPh':function(_0x282e7e,_0x321062){return _0x282e7e===_0x321062;},'ptixP':'timedOut','SVRyW':function(_0xce023e,_0xcb0251){return _0xce023e===_0xcb0251;},'WRiPR':function(_0x49bdfd,_0xd4def6){return _0x49bdfd===_0xd4def6;},'VLgTC':_0x16489f(0x1d5),'epedS':function(_0x4b732e,_0x15eadd){return _0x4b732e||_0x15eadd;},'AKcEk':function(_0x28e6de,_0x209f23){return _0x28e6de(_0x209f23);},'JQaLx':function(_0x501211,_0x561ff4){return _0x501211>_0x561ff4;},'Iexcr':function(_0x5787a7,_0x3be0d3){return _0x5787a7-_0x3be0d3;},'TbTsj':_0x16489f(0x130)};logger['debug']('parsePlaywrightTestResult:\x20testId='+_0x36d8bd);const _0xf96d2c=_0xcec8b6[_0x16489f(0x189)](getTestRunIdentifier,_0x415881,_0x7c2e9c[_0x16489f(0x167)]),_0x4af6be=new Date(_0x7c2e9c[_0x16489f(0x1e1)]),_0x3eca7c=_0x7c2e9c['duration'],_0x40e04f=new Date(_0xcec8b6[_0x16489f(0x1ca)](_0x4af6be[_0x16489f(0x1f1)](),_0x3eca7c)),_0x85a287=_0x7c2e9c[_0x16489f(0x1bc)],_0x366f80=TestInfo['getTestDetails'](_0xf96d2c)[TestFrameworkConstants['KEY_CUSTOM_TAGS']]||{};let _0x312ee7=_0x85a287;if(_0xcec8b6[_0x16489f(0x146)](_0x7c2e9c['status'],_0x415881['expectedStatus']))_0x312ee7=_0xcec8b6[_0x16489f(0x146)](_0x7c2e9c[_0x16489f(0x1bc)],_0xcec8b6[_0x16489f(0x13e)])?_0xcec8b6[_0x16489f(0x13e)]:_0xcec8b6[_0x16489f(0x144)];else{(_0xcec8b6[_0x16489f(0x1de)](_0x312ee7,_0xcec8b6[_0x16489f(0x144)])||_0xcec8b6[_0x16489f(0x1a4)](_0x312ee7,_0xcec8b6['pvCCM'])||_0xcec8b6[_0x16489f(0x17d)](_0x312ee7,_0xcec8b6[_0x16489f(0x1e3)]))&&(_0x312ee7=_0xcec8b6[_0x16489f(0x1ef)]);if(_0xcec8b6[_0x16489f(0x18f)](_0x7c2e9c[_0x16489f(0x1bc)],_0xcec8b6[_0x16489f(0x144)])&&_0xcec8b6[_0x16489f(0x1bf)](_0x415881[_0x16489f(0x1e8)],_0xcec8b6[_0x16489f(0x1ef)])){const _0x5ba246={};_0x5ba246['message']=_0xcec8b6[_0x16489f(0x185)],_0x5ba246[_0x16489f(0x141)]=_0xcec8b6['VLgTC'],_0x7c2e9c[_0x16489f(0x196)]=_0x5ba246,_0x7c2e9c[_0x16489f(0x166)]=[_0x7c2e9c[_0x16489f(0x196)]];}}const {failureData:_0x5e80c6,logs:_0xa964a2}=_0xcec8b6['UxAnL'](getFailureData,_0x7c2e9c?.['errors'],{}),_0x1f737a={[TestFrameworkConstants[_0x16489f(0x142)]]:_0xcec8b6[_0x16489f(0x150)](_0x5e80c6,null),[TestFrameworkConstants['KEY_TEST_FAILURE_TYPE']]:_0x7c2e9c?.[_0x16489f(0x196)]&&_0xcec8b6['FTOvh'](getFailureType,_0x7c2e9c[_0x16489f(0x196)]['message']),[TestFrameworkConstants[_0x16489f(0x18b)]]:_0x7c2e9c?.[_0x16489f(0x196)]&&_0xcec8b6[_0x16489f(0x181)](removeAnsiColors,_0x7c2e9c[_0x16489f(0x196)][_0x16489f(0x13d)]),[TestFrameworkConstants['KEY_LOGS']]:[],[TestFrameworkConstants[_0x16489f(0x18e)]]:_0x312ee7,[TestFrameworkConstants[_0x16489f(0x1c7)]]:_0x40e04f[_0x16489f(0x1eb)](),[TestFrameworkConstants[_0x16489f(0x1ea)]]:new Date()['toISOString'](),[TestFrameworkConstants[_0x16489f(0x136)]]:_0x366f80};if(_0x7c2e9c&&_0xcec8b6['JQaLx'](_0x7c2e9c[_0x16489f(0x167)],0x0)){const _0x11adff=TestInfo['getTestUUID'](_0xcec8b6['UxAnL'](getTestRunIdentifier,_0x415881,_0xcec8b6[_0x16489f(0x16b)](_0x7c2e9c[_0x16489f(0x167)],0x1)));_0x1f737a[TestFrameworkConstants[_0x16489f(0x1f5)]]=_0x11adff;}const _0x31ce82={};_0x31ce82['test']=_0x415881;const _0x2d2a89=this[_0x16489f(0x1d1)](TestFrameworkState[_0x16489f(0x1df)],HookState[_0x16489f(0x195)],_0x31ce82),_0x1f82db=_0x2d2a89[_0x16489f(0x186)]()[_0x16489f(0x16a)](_0xf96d2c)[TestFrameworkConstants[_0x16489f(0x139)]],_0x4aa54d=[],_0xa69821=_0xcec8b6['UxAnL'](findNestedKey,_0x7c2e9c,_0xcec8b6['TbTsj']);if(_0xa69821&&_0xcec8b6['AKcEk'](validateFilePath,_0xa69821))try{_0x4aa54d[_0x16489f(0x137)]({'kind':_0xcec8b6[_0x16489f(0x158)],'timestamp':new Date()[_0x16489f(0x1eb)](),'test_run_uuid':_0x1f82db,'file_name':path['basename'](_0xa69821),'file_size':fs[_0x16489f(0x149)](_0xa69821)[_0x16489f(0x15d)],'attachment_type':PLAYWRIGHT_TRACE_LOGS});}catch(_0x3cb997){logger[_0x16489f(0x196)](_0x16489f(0x119)+_0xa69821+':\x20'+_0x3cb997[_0x16489f(0x13d)]);}const _0xa4a78f=TestInfo[_0x16489f(0x1ab)](),_0x12c0ed=_0xa4a78f[_0x16489f(0x15b)](_0x349fc7=>_0x349fc7['testUId']===_0x1f82db);_0x12c0ed[_0x16489f(0x156)](_0x19882a=>{const _0x4c2ed8=_0x16489f;if(_0x19882a[_0x4c2ed8(0x13f)]&&_0xcec8b6[_0x4c2ed8(0x180)](validateFilePath,_0x19882a[_0x4c2ed8(0x13f)])&&!_0x4aa54d[_0x4c2ed8(0x14a)](_0x25f78b=>_0x25f78b[_0x4c2ed8(0x1cc)]===path['basename'](_0x19882a[_0x4c2ed8(0x13f)])))try{_0x4aa54d[_0x4c2ed8(0x137)]({'kind':_0xcec8b6[_0x4c2ed8(0x158)],'timestamp':new Date()['toISOString'](),'test_run_uuid':_0x1f82db,'file_name':path[_0x4c2ed8(0x12e)](_0x19882a[_0x4c2ed8(0x13f)]),'file_size':fs[_0x4c2ed8(0x149)](_0x19882a['filePath'])[_0x4c2ed8(0x15d)],'attachment_type':PLAYWRIGHT_TRACE_LOGS});}catch(_0x21f9ca){logger['error'](_0x4c2ed8(0x184)+_0x19882a[_0x4c2ed8(0x13f)]+_0x4c2ed8(0x155)+_0x21f9ca[_0x4c2ed8(0x13d)]);}});if(_0xcec8b6[_0x16489f(0x134)](_0x4aa54d[_0x16489f(0x1d3)],0x0)){const _0x1d3969=_0x1f737a[TestFrameworkConstants[_0x16489f(0x1cf)]]||[];_0x1f737a[TestFrameworkConstants[_0x16489f(0x1cf)]]=[..._0x1d3969,..._0x4aa54d];}const _0x4438d2=TestInfo[_0x16489f(0x16e)](_0xf96d2c)[TestFrameworkConstants[_0x16489f(0x1cb)]]||{},_0x3bfff5=_0xcec8b6[_0x16489f(0x189)](getManualUploadLogs,_0x4438d2,_0x2d2a89[_0x16489f(0x186)]()[_0x16489f(0x16a)](_0xf96d2c)[TestFrameworkConstants[_0x16489f(0x139)]]);if(_0xcec8b6['JQaLx'](_0x3bfff5['length'],0x0)){const _0x747d7e=_0x1f737a[TestFrameworkConstants[_0x16489f(0x1cf)]]||[];_0x1f737a[TestFrameworkConstants[_0x16489f(0x1cf)]]=[..._0x747d7e,..._0x3bfff5];}const _0x405343=_0x415881[_0x16489f(0x135)]||[],_0x444954=_0x1f737a[TestFrameworkConstants[_0x16489f(0x136)]]||{};_0x405343[_0x16489f(0x156)](_0x3b60f0=>{const _0x2bb15a=_0x16489f,{type:_0x3f8431}=_0x3b60f0;let _0x58d7ee=_0x3b60f0[_0x2bb15a(0x1d2)];if(!_0x3f8431)return;(_0xcec8b6[_0x2bb15a(0x1de)](_0x58d7ee,undefined)||_0xcec8b6['ErphC'](_0x58d7ee,null)||_0xcec8b6['ErphC'](_0xcec8b6[_0x2bb15a(0x180)](String,_0x58d7ee)[_0x2bb15a(0x117)](),''))&&(_0x58d7ee=_0xcec8b6[_0x2bb15a(0x1db)]);if(!_0x444954[_0x3f8431]){const _0x1345ce={};_0x1345ce['field_type']=_0xcec8b6[_0x2bb15a(0x1c9)],_0x1345ce[_0x2bb15a(0x1e0)]=[],_0x444954[_0x3f8431]=_0x1345ce;}else!_0x444954[_0x3f8431][_0x2bb15a(0x1ce)]&&(_0x444954[_0x3f8431][_0x2bb15a(0x1ce)]=_0xcec8b6[_0x2bb15a(0x1c9)]),!Array[_0x2bb15a(0x1b5)](_0x444954[_0x3f8431][_0x2bb15a(0x1e0)])&&(_0x444954[_0x3f8431]['values']=[]);const _0x17610f=_0xcec8b6['FTOvh'](String,_0x58d7ee)[_0x2bb15a(0x157)](',')[_0x2bb15a(0x1ee)](_0x2ef209=>_0x2ef209['trim']());_0x444954[_0x3f8431]['values']=[...new Set([..._0x444954[_0x3f8431][_0x2bb15a(0x1e0)],..._0x17610f])];}),_0x1f737a[TestFrameworkConstants[_0x16489f(0x136)]]=_0x444954,TestInfo[_0x16489f(0x19b)](_0xf96d2c,_0x1f737a);const _0x1f7d21={};return _0x1f7d21[_0xf96d2c]=_0x1f737a,_0x1f7d21;}async['trackHookEvent'](_0x271620,_0x578102,_0x270466,_0x63689e){const _0x28bdaa=a67_0x2699b6,_0xba5e8b={'YaHfN':function(_0x2b8d20,_0x3797d9,_0x3e7a5){return _0x2b8d20(_0x3797d9,_0x3e7a5);},'JMSiL':function(_0x4f1a7c,_0x549b3e){return _0x4f1a7c in _0x549b3e;},'pwPFw':function(_0xb300c0,_0x3a8810){return _0xb300c0 in _0x3a8810;},'wDPLJ':function(_0x1d7809,_0x38f8f3){return _0x1d7809(_0x38f8f3);},'nOlTQ':function(_0xa3a215,_0x394b3a){return _0xa3a215===_0x394b3a;},'PEFRl':function(_0x1439f1){return _0x1439f1();},'dvYOE':function(_0x2525ae,_0x35d2c7){return _0x2525ae>_0x35d2c7;},'fGeWt':_0x28bdaa(0x1a5),'CLcZv':_0x28bdaa(0x17f),'pMPxE':_0x28bdaa(0x16d),'ffVtT':function(_0x147f02,_0x35ad8f){return _0x147f02!==_0x35ad8f;},'gJJsQ':function(_0x5622c7,_0x1fc646){return _0x5622c7+_0x1fc646;},'UZSDp':'hook'},_0x3c1e2f=_0x63689e[_0x28bdaa(0x1f4)],_0x43c56d=_0x63689e[_0x28bdaa(0x199)],_0x48770e=_0xba5e8b['YaHfN'](getTestRunIdentifier,_0x3c1e2f,_0x63689e['result'][_0x28bdaa(0x167)]),_0x33ce02=_0x578102[_0x28bdaa(0x191)]()[_0x28bdaa(0x157)]('.')[0x1];let _0x232dd7=_0x271620[_0x28bdaa(0x186)]()[_0x28bdaa(0x16a)](_0x48770e)[TestFrameworkConstants[_0x28bdaa(0x11f)]];!_0x232dd7&&(_0x232dd7={});!_0xba5e8b['JMSiL'](_0x33ce02,_0x232dd7)&&(_0x232dd7[_0x33ce02]=[]);let _0xe41021=_0x271620['getAllData']()[_0x28bdaa(0x16a)](_0x48770e)[TestFrameworkConstants['KEY_HOOKS_FINISHED']];!_0xe41021&&(_0xe41021={});!_0xba5e8b[_0x28bdaa(0x19a)](_0x33ce02,_0xe41021)&&(_0xe41021[_0x33ce02]=[]);const _0x3f214d={[TestFrameworkConstants[_0x28bdaa(0x11f)]]:_0x232dd7,[TestFrameworkConstants[_0x28bdaa(0x182)]]:_0xe41021},_0x3706a1={};_0x3706a1[_0x48770e]=_0x3f214d;const _0x873e2e=_0x3706a1,_0x5b4b79=_0xba5e8b['wDPLJ'](getPlaywrightTestFilePath,_0x3c1e2f),_0x5c2e33=_0x5b4b79+':'+_0xba5e8b[_0x28bdaa(0x1ae)](getPlaywrightTestLocation,_0x3c1e2f),_0x2d3730=TestInfo[_0x28bdaa(0x16e)](_0x48770e)[TestFrameworkConstants[_0x28bdaa(0x136)]]||{};if(_0xba5e8b[_0x28bdaa(0x1c3)](_0x270466,HookState[_0x28bdaa(0x1c2)])){const _0xae7778={'key':_0x33ce02,[TestFrameworkConstants['KEY_HOOK_ID']]:_0xba5e8b[_0x28bdaa(0x172)](uuidv4),[TestFrameworkConstants['KEY_HOOK_RESULT']]:TestFrameworkConstants[_0x28bdaa(0x1b4)],[TestFrameworkConstants[_0x28bdaa(0x1b0)]]:_0x43c56d[_0x28bdaa(0x1e1)],[TestFrameworkConstants['KEY_HOOK_LOGS']]:[],[TestFrameworkConstants[_0x28bdaa(0x1f7)]]:_0x43c56d[_0x28bdaa(0x15e)],[TestFrameworkConstants[_0x28bdaa(0x153)]]:_0x5b4b79,[TestFrameworkConstants[_0x28bdaa(0x15f)]]:_0x5c2e33,[TestFrameworkConstants[_0x28bdaa(0x136)]]:_0x2d3730};_0x232dd7[_0x33ce02]['push'](_0xae7778),_0x873e2e[_0x48770e][TestFrameworkConstants['KEY_HOOK_LAST_STARTED']]=_0x33ce02,logger[_0x28bdaa(0x1e2)](_0x28bdaa(0x1a3)+_0x33ce02+_0x28bdaa(0x19d)+_0xae7778+_0x28bdaa(0x1a7)+_0x63689e);}else{if(_0xba5e8b[_0x28bdaa(0x1c3)](_0x270466,HookState[_0x28bdaa(0x195)])){const _0x25db8d=await _0x63689e['result'],_0x3287d3=_0x232dd7[_0x33ce02]||[],_0x115d88=_0x63689e[_0x28bdaa(0x199)];logger[_0x28bdaa(0x1e2)](_0x28bdaa(0x14f)+_0x3287d3+_0x28bdaa(0x1d0)+_0x63689e);if(_0xba5e8b[_0x28bdaa(0x1e4)](_0x3287d3[_0x28bdaa(0x1d3)],0x0)){const _0x3e94d8=_0x3287d3[_0x28bdaa(0x1ba)]();if(_0x115d88['error']){const _0x22c0d3=_0xba5e8b[_0x28bdaa(0x12c)](failureData,_0x115d88[_0x28bdaa(0x196)],_0xba5e8b['fGeWt']);_0x3e94d8[TestFrameworkConstants[_0x28bdaa(0x1d6)]]=_0xba5e8b[_0x28bdaa(0x1ae)](getFailureType,_0x115d88?.[_0x28bdaa(0x196)][_0x28bdaa(0x13d)]),_0x3e94d8[TestFrameworkConstants[_0x28bdaa(0x1da)]]=_0xba5e8b[_0x28bdaa(0x1ae)](removeAnsiColors,_0x115d88?.[_0x28bdaa(0x196)]['message']),_0x3e94d8[TestFrameworkConstants[_0x28bdaa(0x190)]]=_0xba5e8b[_0x28bdaa(0x148)],_0x3e94d8[TestFrameworkConstants[_0x28bdaa(0x14c)]]=_0x22c0d3;}else _0x3e94d8[TestFrameworkConstants['KEY_HOOK_RESULT']]=_0xba5e8b[_0x28bdaa(0x187)];_0xba5e8b[_0x28bdaa(0x151)](_0x25db8d,TestFrameworkConstants[_0x28bdaa(0x1b4)])&&(_0x3e94d8[TestFrameworkConstants['KEY_HOOK_RESULT']]=!_0x115d88[_0x28bdaa(0x196)]?_0xba5e8b[_0x28bdaa(0x187)]:_0xba5e8b[_0x28bdaa(0x148)]);const _0x17e265=new Date(_0x115d88[_0x28bdaa(0x1e1)]),_0x25f658=new Date(_0xba5e8b['gJJsQ'](_0x17e265[_0x28bdaa(0x1f1)](),_0x115d88[_0x28bdaa(0x159)]));_0x3e94d8[TestFrameworkConstants[_0x28bdaa(0x1b2)]]=_0x25f658['toISOString'](),_0x3e94d8[TestFrameworkConstants['KEY_CUSTOM_TAGS']]=_0x2d3730;const _0x1c15cd=_0x3e94d8[TestFrameworkConstants[_0x28bdaa(0x15c)]];await this[_0x28bdaa(0x193)](_0x271620,_0x578102,_0x1c15cd,_0xba5e8b[_0x28bdaa(0x121)],_0x63689e),!_0xe41021[_0x33ce02]&&(_0xe41021[_0x33ce02]=[]),_0xe41021[_0x33ce02][_0x28bdaa(0x137)](_0x3e94d8),_0x873e2e[_0x48770e][TestFrameworkConstants[_0x28bdaa(0x183)]]=_0x33ce02;}}}return _0x873e2e;}async[a67_0x2699b6(0x193)](_0x4d3d86,_0x3eb653,_0x401d13,_0x28ee73,_0x4fbcc8){const _0x502635=a67_0x2699b6,_0xfa139d={'qoueS':function(_0xee14d4,_0x356054){return _0xee14d4===_0x356054;},'IZFIk':'test','fuBhR':function(_0x4f0831,_0x382251,_0x366d51){return _0x4f0831(_0x382251,_0x366d51);},'SuGlc':'attachments','cKLxh':function(_0x3d0072,_0x2ac91d,_0x5c24f1,_0x5d941f){return _0x3d0072(_0x2ac91d,_0x5c24f1,_0x5d941f);},'uZsPw':function(_0x2af9d5,_0x8fe4e9,_0x43b89a){return _0x2af9d5(_0x8fe4e9,_0x43b89a);},'NLlHR':function(_0x37f645,_0x3df8a1,_0x338a5a){return _0x37f645(_0x3df8a1,_0x338a5a);},'yWCta':function(_0x2bb611,_0x19ce1c){return _0x2bb611/_0x19ce1c;},'zkANG':function(_0x5395a0,_0x44ea69){return _0x5395a0<_0x44ea69;},'uTStd':function(_0x788ebe,_0x4fe473){return _0x788ebe*_0x4fe473;},'TTJCC':function(_0x531f92,_0x1f38db){return _0x531f92+_0x1f38db;},'rZWFf':function(_0x3a6150,_0xeb7f4,_0x2ddb8c,_0x2a5a7e,_0x56186c){return _0x3a6150(_0xeb7f4,_0x2ddb8c,_0x2a5a7e,_0x56186c);},'hlqqb':function(_0x3dd296,_0x4cb6e0){return _0x3dd296+_0x4cb6e0;},'OMNcX':'hook','UDKZG':function(_0x3d0869,_0x5ab3ec,_0x31f4ba){return _0x3d0869(_0x5ab3ec,_0x31f4ba);}};try{if(_0xfa139d[_0x502635(0x13a)](_0x28ee73,_0xfa139d[_0x502635(0x1a2)])){const _0x1e0808=await _0x4fbcc8['result'],_0x1a081f=_0xfa139d['fuBhR'](getTestRunIdentifier,_0x4fbcc8[_0x502635(0x1f4)],_0x4fbcc8[_0x502635(0x19e)]['retry']),_0x242ff4=_0x4fbcc8[_0x502635(0x1f4)];logger[_0x502635(0x1e2)](_0x502635(0x16f)+_0x1a081f+_0x502635(0x188)+util[_0x502635(0x12d)](_0x1e0808));const _0x2d72aa=_0x4d3d86[_0x502635(0x186)]()['get'](_0x1a081f)[TestFrameworkConstants[_0x502635(0x139)]];await _0xfa139d[_0x502635(0x176)](sendTraceZip,_0x1e0808,_0x2d72aa);const _0x61eaf8=TestInfo[_0x502635(0x16e)](_0x1a081f)[_0xfa139d[_0x502635(0x1cd)]],_0x3c1cb5={};if(_0x61eaf8){!_0x1e0808[_0x502635(0x1ad)]&&(_0x1e0808['attachments']=[]);_0x3c1cb5[_0x502635(0x1ad)]=_0x1e0808[_0x502635(0x1ad)]['concat'](_0x61eaf8||[]);const _0x1f97a4=TestInfo[_0x502635(0x16e)](_0x1a081f);delete _0x1f97a4[_0xfa139d[_0x502635(0x1cd)]],TestInfo['setTestDetails'](_0x1a081f,_0x1f97a4);}const {steps:_0x57ca48,logs:_0x3bd005}=_0xfa139d[_0x502635(0x160)](getStepsAndLogs,_0x1e0808[_0x502635(0x1e9)],_0x4d3d86[_0x502635(0x186)]()['get'](_0x1a081f)[TestFrameworkConstants['KEY_TEST_UUID']],_0xfa139d[_0x502635(0x1a2)]),_0x2bde8b=_0xfa139d[_0x502635(0x176)](getScreenshots,_0x3c1cb5,_0x4d3d86['getAllData']()[_0x502635(0x16a)](_0x1a081f)[TestFrameworkConstants[_0x502635(0x139)]]),_0x4f2d26=_0xfa139d[_0x502635(0x176)](getVideos,_0x1e0808,_0x4d3d86[_0x502635(0x186)]()[_0x502635(0x16a)](_0x1a081f)[TestFrameworkConstants['KEY_TEST_UUID']]),{_:_0xabeacf,logs:_0x1caa83}=_0xfa139d[_0x502635(0x1bd)](getFailureData,_0x1e0808[_0x502635(0x166)],{'test_run_uuid':_0x4d3d86[_0x502635(0x186)]()[_0x502635(0x16a)](_0x1a081f)[TestFrameworkConstants[_0x502635(0x139)]]}),_0x2f58c8=TestInfo[_0x502635(0x16e)](_0x1a081f)[TestFrameworkConstants[_0x502635(0x1cb)]]||{},_0x36bfc0=_0xfa139d[_0x502635(0x1a0)](getMediaArtifactsLogs,_0x2f58c8,_0x4d3d86[_0x502635(0x186)]()[_0x502635(0x16a)](_0x1a081f)[TestFrameworkConstants[_0x502635(0x139)]]),_0x528d66=_0x4d3d86[_0x502635(0x186)]()[_0x502635(0x16a)](_0x1a081f),{[TestFrameworkConstants['KEY_TEST_FRAMEWORK_NAME']]:_0x42c934='',[TestFrameworkConstants[_0x502635(0x17a)]]:_0x55288a=''}=_0x528d66,_0x1a8ac4=(_0x3bd005||[])[_0x502635(0x152)](_0x2bde8b||[])[_0x502635(0x152)](_0x1caa83||[])['concat'](_0x4f2d26||[])[_0x502635(0x152)](_0x36bfc0||[]),_0x5a0731=0x28,_0x41b53c=Math[_0x502635(0x1d8)](_0xfa139d[_0x502635(0x1d4)](_0x1a8ac4[_0x502635(0x1d3)],_0x5a0731));for(let _0x1a8e75=0x0;_0xfa139d['zkANG'](_0x1a8e75,_0x41b53c);_0x1a8e75++){const _0x1914c4=_0xfa139d['uTStd'](_0x1a8e75,_0x5a0731),_0x182507=_0xfa139d[_0x502635(0x1a6)](_0x1914c4,_0x5a0731),_0x3e8012=_0x1a8ac4[_0x502635(0x1a9)](_0x1914c4,_0x182507),_0x4bf8b0={'platformIndex':'0','logs':_0x3e8012,'testFrameworkName':_0x42c934,'testFrameworkVersion':_0x55288a,'testFrameworkState':_0x3eb653[_0x502635(0x191)]()[_0x502635(0x157)]('.')[0x1]};_0xfa139d[_0x502635(0x1e6)](updatePayloadForTraceLogs,_0x4bf8b0,_0x4fbcc8,_0x1a081f,_0x4d3d86),logger['debug'](_0x502635(0x164)+_0x1a081f+_0x502635(0x19f)+_0xfa139d[_0x502635(0x132)](_0x1a8e75,0x1)+'/'+_0x41b53c+_0x502635(0x1e5)+util[_0x502635(0x12d)](_0x4bf8b0));const _0x4195e1=await GrpcClient[_0x502635(0x143)]()[_0x502635(0x140)](_0x4bf8b0);logger[_0x502635(0x1e2)](_0x502635(0x164)+_0x1a081f+'\x20batch\x20'+_0xfa139d[_0x502635(0x1a6)](_0x1a8e75,0x1)+'/'+_0x41b53c+_0x502635(0x1f2)+util['inspect'](_0x4195e1));}}else{const {steps:_0x34b884,logs:_0x159d82}=_0xfa139d[_0x502635(0x160)](getStepsAndLogs,_0x4fbcc8['step'][_0x502635(0x1e9)],_0x401d13,_0xfa139d[_0x502635(0x11e)]),_0x465822=_0xfa139d['UDKZG'](getTestRunIdentifier,_0x4fbcc8[_0x502635(0x1f4)],_0x4fbcc8[_0x502635(0x19e)][_0x502635(0x167)]);logger[_0x502635(0x1e2)](_0x502635(0x16f)+_0x465822);const _0x2bedad=_0x4d3d86[_0x502635(0x186)]()[_0x502635(0x16a)](_0x465822),{[TestFrameworkConstants[_0x502635(0x154)]]:_0x3a0648='',[TestFrameworkConstants['KEY_TEST_FRAMEWORK_VERSION']]:_0x19f984=''}=_0x2bedad,_0x30cb8c={'platformIndex':'0','logs':_0x159d82,'testFrameworkName':_0x3a0648,'testFrameworkVersion':_0x19f984,'testFrameworkState':_0x3eb653[_0x502635(0x191)]()[_0x502635(0x157)]('.')[0x1]};_0xfa139d[_0x502635(0x1e6)](updatePayloadForTraceLogs,_0x30cb8c,_0x4fbcc8,_0x465822,_0x4d3d86),logger['debug'](_0x502635(0x164)+_0x465822+_0x502635(0x1e5)+util['inspect'](_0x30cb8c));const _0x219470=await GrpcClient[_0x502635(0x143)]()[_0x502635(0x140)](_0x30cb8c);}}catch(_0x4b4239){logger[_0x502635(0x196)](_0x502635(0x1d7)+util[_0x502635(0x12b)](_0x4b4239));}}}module[a67_0x2699b6(0x1f6)]=PlaywrightTestFramework;