const a58_0x27d53b=a58_0x219a;function a58_0x5127(){const _0x3bf3ec=['info','60NmNxXE','uuid','392yNpuAZ','EaADR','TestInfo','WtnLz','4874755WYrVwV','Error\x20handling\x20trace\x20file\x20paths:\x20%O','../../helpers/logger','default','setup','shutdown','appendToTracePaths','getAccessibilityPlatformValidation','format','30026664OBhupU','__projectId','FBDmT','rmSync','\x20with\x20details:\x20','.\x20Returning\x20empty\x20test\x20details.','recursive','_traceZipPaths.json','push','mkdirSync','some','env','HMjLj','getTestRunIdFromTestInfo','17794BcqNet','GUREg','testId','message','GaERb','split','values','path','../../helpers/test-observability/constants','vJHmH','string','traceZipDir','lockSync','leTPw','setAccessibilityPlatformValidation','setTestDetails','oOoFt','gRwjr','_projectId','zAshJ','dirPath','Failed\x20to\x20acquire\x20lock\x20for\x20','Error\x20while\x20getting\x20test\x20UUID\x20for\x20','stringify','AGDmn','28MPqoDj','join','getStoreDirPath','Error\x20reading\x20trace\x20file\x20paths:\x20%O','existsSync','TZCXI','mqfNU','sUgza','retry','dirname','../../helpers/helper','getStoreDirName','resolve','debug','readFileSync','writeFileSync','_platformDetails.json','filePath','utf8','KpsiR','logger','hHrqU','eioFl','toString','Setting\x20up\x20TestInfo\x20directory\x20at\x20','13810iXIWxM','MvNHY','getTraceZipDir','error','addTraceFilePath','uTmKL','readdirSync','_test','chhmw','util','sEhHL','VkfrT','endsWith','1158ZSTdZa','.browserstack','IIcVy','tests','getTestIdFromTestInfo','jPXvE','getFilePath','198954PQhsJc','getTraceFilePaths','BS_TESTOPS_BUILD_HASHED_ID','2246718JpGqLq','.json','project','traceZipPaths','winstonLogger','pid','proper-lockfile','exports','GWhYv','594YsIant','mergeDeep','8308QCwafS','processId:\x20','warn','SELkE','DnblS','getProjectIdFromTestInfo','.\x20Unable\x20to\x20set\x20test\x20details.','GyUdS','homedir','AsQVz','parse','appendFileSync','forEach','YYmFH'];a58_0x5127=function(){return _0x3bf3ec;};return a58_0x5127();}function a58_0x219a(_0x2480f5,_0x212b4d){const _0x5127b1=a58_0x5127();return a58_0x219a=function(_0x219a7f,_0x377555){_0x219a7f=_0x219a7f-0x13f;let _0x38c888=_0x5127b1[_0x219a7f];return _0x38c888;},a58_0x219a(_0x2480f5,_0x212b4d);}(function(_0x54cf0a,_0x5750b9){const _0x3316f2=a58_0x219a,_0x311304=_0x54cf0a();while(!![]){try{const _0x13fa90=-parseInt(_0x3316f2(0x1ae))/0x1*(-parseInt(_0x3316f2(0x191))/0x2)+parseInt(_0x3316f2(0x16d))/0x3*(-parseInt(_0x3316f2(0x182))/0x4)+parseInt(_0x3316f2(0x197))/0x5+-parseInt(_0x3316f2(0x177))/0x6*(-parseInt(_0x3316f2(0x147))/0x7)+parseInt(_0x3316f2(0x193))/0x8*(parseInt(_0x3316f2(0x174))/0x9)+-parseInt(_0x3316f2(0x160))/0xa*(-parseInt(_0x3316f2(0x180))/0xb)+-parseInt(_0x3316f2(0x1a0))/0xc;if(_0x13fa90===_0x5750b9)break;else _0x311304['push'](_0x311304['shift']());}catch(_0x2f25d5){_0x311304['push'](_0x311304['shift']());}}}(a58_0x5127,0xd20f7));const fs=require('fs'),path=require(a58_0x27d53b(0x1b5)),{v4:uuidv4}=require(a58_0x27d53b(0x192)),{TEMP_STORE_DIR_NAME}=require(a58_0x27d53b(0x1b6)),{nestedKeyValue}=require(a58_0x27d53b(0x151)),logger=require(a58_0x27d53b(0x199))[a58_0x27d53b(0x17b)],util=require(a58_0x27d53b(0x169)),helper=require(a58_0x27d53b(0x151)),{createClassLogger}=require('../../helpers/classLogger.js'),lockfile=require(a58_0x27d53b(0x17d));class TestInfo{static [a58_0x27d53b(0x170)]={};static [a58_0x27d53b(0x142)]=TestInfo[a58_0x27d53b(0x152)]();static [a58_0x27d53b(0x1b9)]=path[a58_0x27d53b(0x148)](TestInfo['dirPath'],a58_0x27d53b(0x17a));[a58_0x27d53b(0x15b)]=createClassLogger(a58_0x27d53b(0x195));static[a58_0x27d53b(0x19b)](){const _0x44d1c0=a58_0x27d53b,_0x1412ca={};_0x1412ca[_0x44d1c0(0x17f)]='2|4|1|5|3|0',_0x1412ca[_0x44d1c0(0x16a)]=_0x44d1c0(0x17a);const _0x51b0c1=_0x1412ca,_0x1fdbfe=_0x51b0c1['GWhYv'][_0x44d1c0(0x1b3)]('|');let _0x27d0ee=0x0;while(!![]){switch(_0x1fdbfe[_0x27d0ee++]){case'0':logger[_0x44d1c0(0x190)](_0x44d1c0(0x15f)+this[_0x44d1c0(0x142)]);continue;case'1':this[_0x44d1c0(0x19c)]();continue;case'2':this[_0x44d1c0(0x142)]=TestInfo[_0x44d1c0(0x152)]();continue;case'3':const _0x1448cb={};_0x1448cb[_0x44d1c0(0x1a6)]=!![],fs[_0x44d1c0(0x1a9)](this['traceZipDir'],_0x1448cb);continue;case'4':this[_0x44d1c0(0x1b9)]=path[_0x44d1c0(0x148)](this[_0x44d1c0(0x142)],_0x51b0c1[_0x44d1c0(0x16a)]);continue;case'5':const _0x5664d6={};_0x5664d6[_0x44d1c0(0x1a6)]=!![],fs[_0x44d1c0(0x1a9)](this[_0x44d1c0(0x142)],_0x5664d6);continue;}break;}}static[a58_0x27d53b(0x152)](){const _0x43c0c1=a58_0x27d53b,_0x959e8d={};_0x959e8d[_0x43c0c1(0x1af)]=function(_0xae4ec3,_0x59b05c){return _0xae4ec3+_0x59b05c;},_0x959e8d['AGDmn']=function(_0x3fec6b,_0x3386e5){return _0x3fec6b+_0x3386e5;};const _0x1af8d8=_0x959e8d;return _0x1af8d8[_0x43c0c1(0x1af)](_0x1af8d8[_0x43c0c1(0x146)](TEMP_STORE_DIR_NAME,'-'),process[_0x43c0c1(0x1ab)][_0x43c0c1(0x176)]);}static['getStoreDirPath'](){const _0x40f950=a58_0x27d53b,_0x31d781={};_0x31d781[_0x40f950(0x141)]=function(_0x486d03,_0x8e235){return _0x486d03+_0x8e235;},_0x31d781[_0x40f950(0x13f)]=function(_0x234ace,_0x4d3d56){return _0x234ace+_0x4d3d56;},_0x31d781[_0x40f950(0x185)]=_0x40f950(0x19a);const _0x33ef19=_0x31d781;return path['join'](_0x33ef19[_0x40f950(0x141)](_0x33ef19['gRwjr'](TEMP_STORE_DIR_NAME,'-'),process[_0x40f950(0x1ab)][_0x40f950(0x176)]||_0x33ef19[_0x40f950(0x185)]));}static['getTraceZipDir'](){const _0x39e9e0=a58_0x27d53b,_0x2ce8b5={};_0x2ce8b5[_0x39e9e0(0x1a2)]='traceZipPaths';const _0x3980d2=_0x2ce8b5;return path[_0x39e9e0(0x148)](this[_0x39e9e0(0x149)](),_0x3980d2[_0x39e9e0(0x1a2)]);}static[a58_0x27d53b(0x173)](_0x188570){const _0x503871=a58_0x27d53b,_0x2dbb82={};_0x2dbb82[_0x503871(0x15d)]=function(_0x506b4d,_0x44c7aa){return _0x506b4d+_0x44c7aa;},_0x2dbb82[_0x503871(0x186)]=_0x503871(0x178);const _0x4c5d6b=_0x2dbb82;return path['join'](this[_0x503871(0x142)],_0x4c5d6b[_0x503871(0x15d)](_0x188570,_0x4c5d6b[_0x503871(0x186)]));}static[a58_0x27d53b(0x1ad)](_0x294954){const _0x4ca383=a58_0x27d53b,_0x546bc7={};_0x546bc7[_0x4ca383(0x16b)]=function(_0x4b545b,_0x28633c){return _0x4b545b+_0x28633c;},_0x546bc7['eKLMO']=function(_0x36555b,_0x18a7a0){return _0x36555b+_0x18a7a0;},_0x546bc7[_0x4ca383(0x1be)]=function(_0x22b175,_0x1b5813){return _0x22b175+_0x1b5813;};const _0x5781c7=_0x546bc7;return _0x5781c7[_0x4ca383(0x16b)](_0x5781c7[_0x4ca383(0x16b)](_0x5781c7['eKLMO'](_0x5781c7['oOoFt'](this[_0x4ca383(0x187)](_0x294954),'-'),this[_0x4ca383(0x171)](_0x294954)),'-'),_0x294954[_0x4ca383(0x14f)]);}static[a58_0x27d53b(0x187)](_0x511ea3){const _0x2c46c3=a58_0x27d53b,_0x4570ec={'uEKpp':function(_0x88e698,_0x2da510,_0x1146be){return _0x88e698(_0x2da510,_0x1146be);},'OsPOF':_0x2c46c3(0x167),'WtnLz':_0x2c46c3(0x140),'vJHmH':function(_0x4ecdb7,_0x5831c3,_0x458f6e){return _0x4ecdb7(_0x5831c3,_0x458f6e);},'KpsiR':_0x2c46c3(0x179),'qpKSL':_0x2c46c3(0x1a1)};return _0x4570ec['uEKpp'](nestedKeyValue,_0x511ea3,[_0x4570ec['OsPOF'],_0x4570ec[_0x2c46c3(0x196)]])||_0x4570ec[_0x2c46c3(0x1b7)](nestedKeyValue,_0x511ea3,[_0x4570ec[_0x2c46c3(0x15a)],_0x4570ec['qpKSL']]);}static[a58_0x27d53b(0x171)](_0x56f2bd){const _0x4198a6=a58_0x27d53b,_0x470048={'TZCXI':function(_0x41a5ef,_0x47e1f6,_0x53216f){return _0x41a5ef(_0x47e1f6,_0x53216f);},'uTmKL':_0x4198a6(0x167)};return _0x470048[_0x4198a6(0x14c)](nestedKeyValue,_0x56f2bd,[_0x470048[_0x4198a6(0x165)],'id'])||_0x56f2bd[_0x4198a6(0x1b0)];}static['getTestIdentifierFromTestInfo'](_0x5f2b06,_0x57b0e1){const _0x3cac88=a58_0x27d53b,_0x84b4f5={};_0x84b4f5[_0x3cac88(0x161)]=function(_0x1d4dd9,_0x263ae8){return _0x1d4dd9+_0x263ae8;},_0x84b4f5[_0x3cac88(0x14d)]=function(_0x3da6a8,_0x19c1b){return _0x3da6a8+_0x19c1b;},_0x84b4f5[_0x3cac88(0x16f)]=function(_0x502ba9,_0x4c94ab){return _0x502ba9+_0x4c94ab;},_0x84b4f5[_0x3cac88(0x189)]=function(_0x28dacf,_0x98bdf5){return _0x28dacf+_0x98bdf5;};const _0x198199=_0x84b4f5;return _0x198199['MvNHY'](_0x198199[_0x3cac88(0x14d)](_0x198199['IIcVy'](_0x198199['GyUdS'](this[_0x3cac88(0x187)](_0x5f2b06),'-'),this['getTestIdFromTestInfo'](_0x5f2b06)),'-'),_0x57b0e1);}static['getTestUUID'](_0x779c0e){const _0x1fe6e6=a58_0x27d53b,_0x43d6bf={'HMjLj':function(_0x27a355,_0x48e8e1){return _0x27a355===_0x48e8e1;},'GaERb':_0x1fe6e6(0x1b8),'sUgza':function(_0x155062){return _0x155062();}};try{if(this[_0x1fe6e6(0x170)][_0x779c0e]&&_0x43d6bf[_0x1fe6e6(0x1ac)](typeof this['tests'][_0x779c0e][_0x1fe6e6(0x192)],_0x43d6bf[_0x1fe6e6(0x1b2)]))return this[_0x1fe6e6(0x170)][_0x779c0e][_0x1fe6e6(0x192)];const _0x26308e=this[_0x1fe6e6(0x173)](_0x779c0e),_0x51a904=path[_0x1fe6e6(0x153)](_0x26308e);if(fs[_0x1fe6e6(0x14b)](_0x51a904)){const _0x4a2f69=JSON['parse'](fs[_0x1fe6e6(0x155)](_0x26308e)[_0x1fe6e6(0x15e)]());return this[_0x1fe6e6(0x170)][_0x779c0e]=_0x4a2f69,this[_0x1fe6e6(0x170)][_0x779c0e]['uuid'];}return this[_0x1fe6e6(0x170)][_0x779c0e]={'uuid':_0x43d6bf[_0x1fe6e6(0x14e)](uuidv4)},fs['writeFileSync'](_0x26308e,JSON[_0x1fe6e6(0x145)](this[_0x1fe6e6(0x170)][_0x779c0e])),this['tests'][_0x779c0e][_0x1fe6e6(0x192)];}catch(_0x41d215){return logger[_0x1fe6e6(0x163)](_0x1fe6e6(0x144)+_0x779c0e+':\x20'+_0x41d215[_0x1fe6e6(0x1b1)]),null;}}static[a58_0x27d53b(0x19e)](_0x314137){const _0x1baa9c=a58_0x27d53b,_0x4b84cc=path['join'](this[_0x1baa9c(0x142)],_0x314137+'_platformDetails.json');if(fs[_0x1baa9c(0x14b)](_0x4b84cc))return fs[_0x1baa9c(0x155)](_0x4b84cc)['toString']();}static[a58_0x27d53b(0x1bc)](_0x52a21c,_0x5131db){const _0x599b04=a58_0x27d53b,_0x26685b=path['join'](this[_0x599b04(0x142)],_0x5131db+_0x599b04(0x157));fs[_0x599b04(0x156)](_0x26685b,_0x52a21c[_0x599b04(0x15e)]());}static['shutdown'](){const _0x4778d8=a58_0x27d53b,_0x4e9a54={};_0x4e9a54[_0x4778d8(0x1a6)]=!![],_0x4e9a54['force']=!![],fs[_0x4778d8(0x1a3)](this[_0x4778d8(0x142)],_0x4e9a54);}static['getTestDetails'](_0x3cc8f1){const _0x3fc2c8=a58_0x27d53b,_0x576303=this[_0x3fc2c8(0x173)](_0x3cc8f1);if(fs['existsSync'](_0x576303))try{const _0x315290=JSON[_0x3fc2c8(0x18c)](fs[_0x3fc2c8(0x155)](_0x576303)[_0x3fc2c8(0x15e)]());return this['tests'][_0x3cc8f1]=_0x315290,_0x315290;}catch(_0x2085b4){return logger['warn']('Failed\x20to\x20acquire\x20lock\x20for\x20'+_0x576303+':\x20'+util[_0x3fc2c8(0x19f)](_0x2085b4)+_0x3fc2c8(0x1a5)),{};}return{};}static[a58_0x27d53b(0x1bd)](_0x117cde,_0x2eddb2,_0x486e88=![]){const _0x27dcb3=a58_0x27d53b,_0x4825a4={'YYmFH':'setTestDetails\x20','cTMXR':function(_0x57cc8b){return _0x57cc8b();}};logger[_0x27dcb3(0x154)](_0x4825a4[_0x27dcb3(0x18f)]),logger[_0x27dcb3(0x154)](_0x27dcb3(0x183)+process[_0x27dcb3(0x17c)]+'\x20Setting\x20\x20test\x20details\x20for\x20'+_0x117cde+_0x27dcb3(0x1a4)+JSON[_0x27dcb3(0x145)](_0x2eddb2));const _0x11b766=this[_0x27dcb3(0x173)](_0x117cde);if(fs[_0x27dcb3(0x14b)](_0x11b766))try{const _0x413b43=lockfile[_0x27dcb3(0x1ba)](_0x11b766),_0x2eb933=JSON[_0x27dcb3(0x18c)](fs[_0x27dcb3(0x155)](_0x11b766)[_0x27dcb3(0x15e)]());if(_0x486e88)this['tests'][_0x117cde]=helper[_0x27dcb3(0x181)](_0x2eb933,_0x2eddb2);else{const _0xa0ed9b={..._0x2eb933,..._0x2eddb2};this[_0x27dcb3(0x170)][_0x117cde]=_0xa0ed9b;}fs[_0x27dcb3(0x156)](_0x11b766,JSON[_0x27dcb3(0x145)](this[_0x27dcb3(0x170)][_0x117cde])),_0x4825a4['cTMXR'](_0x413b43);}catch(_0x5ec164){logger[_0x27dcb3(0x184)](_0x27dcb3(0x143)+_0x11b766+':\x20'+util[_0x27dcb3(0x19f)](_0x5ec164)+_0x27dcb3(0x188));}}static[a58_0x27d53b(0x164)](_0x534b6a){const _0x1cb40c=a58_0x27d53b,_0x54100b={};_0x54100b[_0x1cb40c(0x194)]=_0x1cb40c(0x198);const _0x14fbf2=_0x54100b;try{const _0xc1cbe3=process[_0x1cb40c(0x17c)],_0x47d9bc=path[_0x1cb40c(0x148)](TestInfo[_0x1cb40c(0x162)](),_0xc1cbe3+_0x1cb40c(0x1a7));let _0x3ed8e0=[];fs['existsSync'](_0x47d9bc)&&(_0x3ed8e0=JSON[_0x1cb40c(0x18c)](fs[_0x1cb40c(0x155)](_0x47d9bc)['toString']()));if(!_0x3ed8e0[_0x1cb40c(0x1aa)](_0x2b2bb2=>_0x2b2bb2['filePath']===_0x534b6a[_0x1cb40c(0x158)])){_0x3ed8e0[_0x1cb40c(0x1a8)](_0x534b6a);const _0x46ddf5=path[_0x1cb40c(0x150)](_0x47d9bc);if(!fs['existsSync'](_0x46ddf5)){const _0xac906d={};_0xac906d[_0x1cb40c(0x1a6)]=!![],fs[_0x1cb40c(0x1a9)](_0x46ddf5,_0xac906d);}fs[_0x1cb40c(0x156)](_0x47d9bc,JSON[_0x1cb40c(0x145)](_0x3ed8e0));}}catch(_0x3048fb){logger[_0x1cb40c(0x163)](util[_0x1cb40c(0x19f)](_0x14fbf2[_0x1cb40c(0x194)],_0x3048fb));}}static[a58_0x27d53b(0x175)](){const _0xc1346=a58_0x27d53b,_0x1ccaab={};_0x1ccaab[_0xc1346(0x18b)]=_0xc1346(0x1a7),_0x1ccaab[_0xc1346(0x15c)]=_0xc1346(0x14a);const _0x13ab9b=_0x1ccaab,_0x2f7003=[];try{const _0x2779d2=TestInfo[_0xc1346(0x162)]();if(!fs[_0xc1346(0x14b)](_0x2779d2))return _0x2f7003;const _0x537a34=fs[_0xc1346(0x166)](_0x2779d2);_0x537a34[_0xc1346(0x18e)](_0x4ec5e5=>{const _0x1f1d5d=_0xc1346;if(_0x4ec5e5[_0x1f1d5d(0x16c)](_0x13ab9b[_0x1f1d5d(0x18b)])){const _0x2882b1=JSON[_0x1f1d5d(0x18c)](fs['readFileSync'](path[_0x1f1d5d(0x148)](_0x2779d2,_0x4ec5e5))[_0x1f1d5d(0x15e)]());_0x2f7003[_0x1f1d5d(0x1a8)](..._0x2882b1);}});}catch(_0x3844dd){logger[_0xc1346(0x163)](util[_0xc1346(0x19f)](_0x13ab9b[_0xc1346(0x15c)],_0x3844dd));}const _0x315207={};return _0x2f7003['forEach'](_0x9ac6e0=>{const _0x3b57a9=_0xc1346;_0x315207[_0x9ac6e0[_0x3b57a9(0x158)]]=_0x9ac6e0;}),Object[_0xc1346(0x1b4)](_0x315207);}static[a58_0x27d53b(0x19d)](_0xe4c800,_0x43b137){const _0x4eedae=a58_0x27d53b,_0x1b5742={};_0x1b5742[_0x4eedae(0x172)]=_0x4eedae(0x16e),_0x1b5742[_0x4eedae(0x1bb)]=_0x4eedae(0x159),_0x1b5742[_0x4eedae(0x168)]='Error\x20writing\x20trace\x20file:\x20%O';const _0x36fe56=_0x1b5742;try{const _0x17fa11=path['join'](helper[_0x4eedae(0x18a)](),_0x36fe56[_0x4eedae(0x172)]);if(!fs[_0x4eedae(0x14b)](_0x17fa11)){const _0x3d7325={};_0x3d7325['recursive']=!![],fs[_0x4eedae(0x1a9)](_0x17fa11,_0x3d7325);}fs[_0x4eedae(0x18d)](path[_0x4eedae(0x148)](_0x17fa11,'trace_'+_0x43b137+'.txt'),_0xe4c800+'\x0a',_0x36fe56[_0x4eedae(0x1bb)]);}catch(_0x2b3f46){logger['error'](util['format'](_0x36fe56[_0x4eedae(0x168)],_0x2b3f46));}}}module[a58_0x27d53b(0x17e)]=TestInfo;