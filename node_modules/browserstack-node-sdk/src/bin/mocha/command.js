#!/usr/bin/env node
'use strict';const a33_0x5820d9=a33_0xfe92;(function(_0x2de303,_0x495dc9){const _0x1107fe=a33_0xfe92,_0x4de302=_0x2de303();while(!![]){try{const _0x400fc3=parseInt(_0x1107fe(0x275))/0x1+parseInt(_0x1107fe(0x220))/0x2+-parseInt(_0x1107fe(0x27f))/0x3+parseInt(_0x1107fe(0x1e6))/0x4*(parseInt(_0x1107fe(0x1e9))/0x5)+parseInt(_0x1107fe(0x1d7))/0x6+parseInt(_0x1107fe(0x1ab))/0x7+-parseInt(_0x1107fe(0x218))/0x8;if(_0x400fc3===_0x495dc9)break;else _0x4de302['push'](_0x4de302['shift']());}catch(_0xb6b15){_0x4de302['push'](_0x4de302['shift']());}}}(a33_0x4402,0x7a54e));const chalk=require('chalk'),logger=require(a33_0x5820d9(0x1a6))[a33_0x5820d9(0x209)],helper=require(a33_0x5820d9(0x18a)),utilities=require(a33_0x5820d9(0x1fc)),testOpsHelper=require(a33_0x5820d9(0x1a9)),fs=require('fs'),os=require('os'),{parallelTestRun}=require('../test-runner'),{requireModule,nestedKeyValue}=require(a33_0x5820d9(0x18a)),{getPercyOptions}=require(a33_0x5820d9(0x270)),Base=requireModule(a33_0x5820d9(0x1ba),a33_0x5820d9(0x217)),collectFiles=requireModule(a33_0x5820d9(0x207),a33_0x5820d9(0x217)),constants=require(a33_0x5820d9(0x1f5)),PerformanceTester=require(a33_0x5820d9(0x19b)),PerformanceEvents=require(a33_0x5820d9(0x1e0))[a33_0x5820d9(0x190)],centralScannerConstants=require(a33_0x5820d9(0x1f7)),{FRAMEWORKS}=require('../../helpers/test-observability/constants'),TestHubHandler=require(a33_0x5820d9(0x19e));function tag(_0x33b81f,_0x2f5527,_0x21f145,_0x1c0f15){const _0x4cbf82=a33_0x5820d9,_0xf9a0ce={'LKCmU':function(_0x33b517,_0x2c4b82){return _0x33b517+_0x2c4b82;},'AUOzO':function(_0x438f70,_0x5f14a4){return _0x438f70+_0x5f14a4;},'lgmYS':function(_0x3cfc22,_0xccf52f){return _0x3cfc22(_0xccf52f);},'puNjK':function(_0x1f1cfe,_0x598770){return _0x1f1cfe+_0x598770;},'rLiEB':function(_0x4fb559,_0x3094fe){return _0x4fb559+_0x3094fe;},'jtnKL':function(_0x3fba55,_0x3366e9){return _0x3fba55+_0x3366e9;}},_0x500e2c=_0x21f145?'/>':'>',_0x454ffd=[];let _0x1836fd;for(const _0xe108b9 in _0x2f5527){Object['prototype'][_0x4cbf82(0x20a)][_0x4cbf82(0x263)](_0x2f5527,_0xe108b9)&&_0x454ffd[_0x4cbf82(0x193)](_0xf9a0ce[_0x4cbf82(0x1dc)](_0xf9a0ce['LKCmU'](_0xf9a0ce[_0x4cbf82(0x273)](_0xe108b9,'=\x22'),_0xf9a0ce[_0x4cbf82(0x231)](escape,_0x2f5527[_0xe108b9])),'\x22'));}return _0x1836fd=_0xf9a0ce[_0x4cbf82(0x18e)](_0xf9a0ce['LKCmU'](_0xf9a0ce[_0x4cbf82(0x18e)]('<',_0x33b81f),_0x454ffd[_0x4cbf82(0x277)]?_0xf9a0ce[_0x4cbf82(0x1dc)]('\x20',_0x454ffd[_0x4cbf82(0x1d0)]('\x20')):''),_0x500e2c),_0x1c0f15&&(_0x1836fd+=_0xf9a0ce[_0x4cbf82(0x182)](_0xf9a0ce[_0x4cbf82(0x1cf)](_0xf9a0ce[_0x4cbf82(0x182)](_0x1c0f15,'</'),_0x33b81f),_0x500e2c)),_0x1836fd;}function a33_0xfe92(_0x587b34,_0x13169f){const _0x4402d2=a33_0x4402();return a33_0xfe92=function(_0xfe92aa,_0x2eeab1){_0xfe92aa=_0xfe92aa-0x17e;let _0x4486b8=_0x4402d2[_0xfe92aa];return _0x4486b8;},a33_0xfe92(_0x587b34,_0x13169f);}let xunitContent='';function xunitWrite(_0x4ddfef){xunitContent+=_0x4ddfef;}function a33_0x4402(){const _0x26700f=['has','AwaUh','testSuites','cmNsY','launchBuild','results','BROWSERSTACK_TEST_OBSERVABILITY_YML','keys','fullTitle','KHyfc','recursive','output','TTPJt','Mocha\x20Tests','includeTagsInTestingScope','testsFailed','bold','kAsMB','wBQxR','\x20passed','giwJb','BROWSERSTACK_RERUN_TESTS','Couldn\x27t\x20write\x20json\x20result\x20to','No\x20output\x20file\x20given,\x20writing\x20json\x20result\x20to\x20console','parse','includeEncodedExtension','debug','wvCcY','TeyHj','vDRZq','call','testsuite','Listing\x20all\x20the\x20failures','accessibility','No\x20output\x20file\x20given,\x20writing\x20xunit\x20result\x20to\x20console','maxRetries','\x20platforms','bgBlueBright','jfNRS','titlePathV','assign','state','env','../../helpers/percy/utils','eLVDe','IaZMN','AUOzO','cgkOg','997445uRXTOx','tbZzi','length','\x20total','handleApp','xGKac','tAQVq','\x20skipped','Printing\x20stats\x20of\x20tests','FxVFH','1485486rfxmKC','writeFileSync','initialize','vPhCJ','object','stringify','framework','validPlatformsPresent','duration','rLiEB','WWQuw','accessibilityOptions','size','isUndefined','configuration','json','testcase','../../helpers/helper','error\x20removing\x20tcg\x20config\x20file','Error\x20in\x20notifying\x20update.\x20Stacktrace:\x20','extension','puNjK','BROWSERSTACK_TEST_ACCESSIBILITY_YML','EVENTS','speed','tomuV','push','retryTestsOnFailure','tjWzy','HDKaQ','test','vMLtE','getHubUrl','errorMessage','../../helpers/performance/performance-tester','FJpQG','LMeNZ','../../helpers/testhub/testhubHandler','reporter','ZEtEg','cjs','ZDgwH','EFZZz','sYaCj','IjIuM','../../helpers/logger','bgRedBright','wOaJM','../../helpers/test-observability/utils','err','3475234wSwRJc','sort','mjs','pUHDg','YTHWi','Running\x20your\x20mocha\x20tests','KGHER','Now,\x20showing\x20logs\x20from\x20mocha','setUserConfigPath','platforms','CmFiF','zfKjN','finalExecution','expected','files','mocha/lib/reporters/base.js','KHMAG','nmnmX','rerunTests','mtBOw','rootHooks','start','error','VIgIU','failure','isPending','cFyrt','currentRetry','failures','fNJIT','finally','inzir','getOwnPropertyNames','FRAMEWORKS','setupTCGAuth','isEmpty','jtnKL','join','vDAfg','parallelsPerPlatform','indexOf','SDK_CLEANUP','WSKqY','YGKzJ','3617604vhEawX','Tests:\x20\x20\x20\x20\x20\x20\x20','isNotUndefined','consoleLog','OKUoQ','LKCmU','failed','green','Writing\x20json\x20result\x20to\x20file','../../helpers/performance/constants','dgNPB','</testsuite>','DQkEg','DBrVg','KySTF','3058956SIEqjg','dxLPq','getUserWorkerCount','5nHOYUl','info','stack','qEXeS','uLvBb','forEach','xaZzs','suite','bYcvb','config','Couldn\x27t\x20write\x20xunit\x20result\x20to','njiKo','../utils/constants','MOCHA','../../helpers/central-scanner/constants','fJYMs','passed','fierR','coesy','../../helpers/utilities','testObservability','sEepj','getPlatformName','doc','reporter-option','Setting\x20non\x20exit\x20code\x20for\x20failures','unlinkSync','message','file','UdRcM','mocha/lib/cli/collect-files.js','Total\x20Platforms:\x20','winstonLogger','hasOwnProperty','spec','log','****\x20FAILURES\x20****','GjxmJ','Total\x20Suites:\x20','hgNhx','min','MAqxH','logLevel','SJjzH','TUBBw','useColors','mocha','16946728gGgWtc','reporterOptions','BROWSERSTACK_TEST_ACCESSIBILITY_CONFIGURATION_YML','add','platform','printBuildLink','dFikN','fireFunnelTestEvent','505986zsOMiq','TPGTy','proxySettings','isBrowserstackInfra','ANaNg','cliConfig','ZEZdo','rmdirSync','azmlL','isTestObservabilitySession','wNUkv','generateDiff','CHwNZ','map','WHcuk','bstack:options','EejgD','lgmYS','skipped','eYHKR','pFiyJ','VFUMd','testsPassed','mPSbq','actual','getTCGConfigFilePaths','huhdY','parseTestOrchestrationOptions','prepareCapabilities','IcUff','showDiff','yyIoQ','jICZs','HcxUb','testsPending','odmQJ','UYoKA'];a33_0x4402=function(){return _0x26700f;};return a33_0x4402();}function xunitTest(_0x17a150,_0x40ce49){const _0x1cd962=a33_0x5820d9,_0xe1ca85={'giwJb':function(_0x105951,_0x5f5d57){return _0x105951/_0x5f5d57;},'GJAxo':function(_0x25d3f8,_0x2bb363){return _0x25d3f8===_0x2bb363;},'wOaJM':_0x1cd962(0x1dd),'dgNPB':function(_0x545be0,_0x3dfc76){return _0x545be0+_0x3dfc76;},'kAsMB':function(_0x3a9708,_0x67b1c4){return _0x3a9708(_0x67b1c4);},'GjxmJ':function(_0xb577f7,_0x472b4d,_0x14d965,_0x55e399,_0x3d2496){return _0xb577f7(_0x472b4d,_0x14d965,_0x55e399,_0x3d2496);},'ZEZdo':_0x1cd962(0x189),'RlHQg':_0x1cd962(0x1c3),'cgkOg':function(_0x3a8cea,_0x4f1923){return _0x3a8cea+_0x4f1923;},'FJpQG':function(_0x273f0d,_0x504df3){return _0x273f0d(_0x504df3);},'jICZs':function(_0x113ac0,_0x4d9a0f){return _0x113ac0(_0x4d9a0f);},'ZEtEg':function(_0x57ae9d,_0x1098cf,_0x232275,_0x2e5101){return _0x57ae9d(_0x1098cf,_0x232275,_0x2e5101);},'Hdhbp':_0x1cd962(0x232),'TTPJt':function(_0x3bf39d,_0x4fe3f2){return _0x3bf39d(_0x4fe3f2);}};Base[_0x1cd962(0x216)]=![];var _0x6b68d7={'classname':_0x17a150[_0x1cd962(0x24d)],'name':_0x17a150['title'],'time':_0xe1ca85[_0x1cd962(0x259)](_0x17a150[_0x1cd962(0x181)],0x3e8)||0x0,'platform':_0x40ce49};if(_0xe1ca85['GJAxo'](_0x17a150[_0x1cd962(0x26e)],_0xe1ca85[_0x1cd962(0x1a8)])){var _0x29bcbe=_0x17a150['err'],_0x2116e8=!Base['hideDiff']&&Base[_0x1cd962(0x23e)](_0x29bcbe)?_0xe1ca85['dgNPB']('\x0a',Base[_0x1cd962(0x22b)](_0x29bcbe[_0x1cd962(0x238)],_0x29bcbe[_0x1cd962(0x1b8)])):'';_0xe1ca85[_0x1cd962(0x256)](xunitWrite,_0xe1ca85[_0x1cd962(0x20e)](tag,_0xe1ca85[_0x1cd962(0x226)],_0x6b68d7,![],_0xe1ca85[_0x1cd962(0x20e)](tag,_0xe1ca85['RlHQg'],{},![],_0xe1ca85[_0x1cd962(0x1e1)](_0xe1ca85[_0x1cd962(0x1e1)](_0xe1ca85[_0x1cd962(0x274)](_0xe1ca85[_0x1cd962(0x19c)](escape,_0x29bcbe[_0x1cd962(0x204)]),_0xe1ca85[_0x1cd962(0x19c)](escape,_0x2116e8)),'\x0a'),_0xe1ca85[_0x1cd962(0x256)](escape,_0x29bcbe['stack'])))));}else _0x17a150[_0x1cd962(0x1c4)]?_0xe1ca85[_0x1cd962(0x240)](xunitWrite,_0xe1ca85[_0x1cd962(0x20e)](tag,_0xe1ca85[_0x1cd962(0x226)],_0x6b68d7,![],_0xe1ca85[_0x1cd962(0x1a0)](tag,_0xe1ca85['Hdhbp'],{},!![]))):_0xe1ca85[_0x1cd962(0x251)](xunitWrite,_0xe1ca85[_0x1cd962(0x1a0)](tag,_0xe1ca85['ZEZdo'],_0x6b68d7,!![]));};function getStats(_0x5482fc){const _0x209971=a33_0x5820d9,_0x20dc34={};_0x20dc34[_0x209971(0x1ca)]=_0x209971(0x1f0),_0x20dc34[_0x209971(0x1fb)]=_0x209971(0x1f9),_0x20dc34[_0x209971(0x1bc)]=_0x209971(0x1dd),_0x20dc34[_0x209971(0x210)]=_0x209971(0x24a);const _0x5a9937=_0x20dc34,_0x327e8f=Object[_0x209971(0x24c)](_0x5482fc);let _0x5f0f37=0x0,_0x151671=0x0,_0x552118=0x0,_0x3244bd=0x0;const _0x70ca96=new Set();_0x327e8f[_0x209971(0x1ee)](_0x18ebc7=>{const _0xb2704c=_0x209971;_0x5482fc[_0x18ebc7][_0x5a9937[_0xb2704c(0x210)]]['forEach'](_0x1a59ed=>{const _0x3937bf=_0xb2704c;_0x70ca96[_0x3937bf(0x21b)](_0x1a59ed[_0x5a9937['inzir']]),_0x5f0f37++;switch(_0x1a59ed['state']){case _0x5a9937['coesy']:_0x552118++;break;case _0x5a9937[_0x3937bf(0x1bc)]:_0x151671++;break;default:_0x3244bd++;}});});const _0x1166c1={};return _0x1166c1[_0x209971(0x247)]=_0x70ca96[_0x209971(0x185)],_0x1166c1[_0x209971(0x1b4)]=_0x327e8f,_0x1166c1['totalTests']=_0x5f0f37,_0x1166c1[_0x209971(0x254)]=_0x151671,_0x1166c1['testsPassed']=_0x552118,_0x1166c1[_0x209971(0x242)]=_0x3244bd,_0x1166c1;}function errorJSON(_0x34bad5){const _0x31e018=a33_0x5820d9;var _0x2faf6f={};return Object[_0x31e018(0x1cb)](_0x34bad5)[_0x31e018(0x1ee)](function(_0x8fa01a){_0x2faf6f[_0x8fa01a]=_0x34bad5[_0x8fa01a];},_0x34bad5),_0x2faf6f;}function cleanCycles(_0x24ff49){const _0xcf7d8e=a33_0x5820d9,_0x5a13f={};_0x5a13f[_0xcf7d8e(0x1e3)]=function(_0x55dd93,_0x1fb616){return _0x55dd93===_0x1fb616;},_0x5a13f['tbZzi']=_0xcf7d8e(0x283),_0x5a13f['MKPNk']=function(_0xa28a0,_0x4d3373){return _0xa28a0!==_0x4d3373;},_0x5a13f[_0xcf7d8e(0x1e5)]=function(_0x6af054,_0x57be8e){return _0x6af054!==_0x57be8e;},_0x5a13f['uLvBb']=function(_0x544806,_0x166b1d){return _0x544806+_0x166b1d;};const _0x54d9b3=_0x5a13f;var _0x31157d=[];return JSON[_0xcf7d8e(0x25d)](JSON[_0xcf7d8e(0x17e)](_0x24ff49,function(_0x238b20,_0x44afb9){const _0x49cdc7=_0xcf7d8e;if(_0x54d9b3[_0x49cdc7(0x1e3)](typeof _0x44afb9,_0x54d9b3[_0x49cdc7(0x276)])&&_0x54d9b3['MKPNk'](_0x44afb9,null)){if(_0x54d9b3[_0x49cdc7(0x1e5)](_0x31157d[_0x49cdc7(0x1d3)](_0x44afb9),-0x1))return _0x54d9b3[_0x49cdc7(0x1ed)]('',_0x44afb9);_0x31157d['push'](_0x44afb9);}return _0x44afb9;}));}function clean(_0x39cab7){const _0x2cbe12=a33_0x5820d9,_0xb790ee={'eLVDe':function(_0x55a1fd,_0x5bf037){return _0x55a1fd instanceof _0x5bf037;},'sYaCj':function(_0x57c73b,_0xb9eee3){return _0x57c73b(_0xb9eee3);},'tjWzy':function(_0xda7a2c,_0x1b8b0f){return _0xda7a2c(_0x1b8b0f);}};var _0x1f4488=_0x39cab7[_0x2cbe12(0x1aa)]||{};return _0xb790ee[_0x2cbe12(0x271)](_0x1f4488,Error)&&(_0x1f4488=_0xb790ee[_0x2cbe12(0x1a4)](errorJSON,_0x1f4488)),{'title':_0x39cab7['title'],'fullTitle':_0x39cab7[_0x2cbe12(0x24d)],'file':_0x39cab7['file'],'duration':_0x39cab7['duration'],'currentRetry':_0x39cab7[_0x2cbe12(0x1c6)],'speed':_0x39cab7[_0x2cbe12(0x191)],'err':_0xb790ee[_0x2cbe12(0x195)](cleanCycles,_0x1f4488)};}function printStats(_0x42f319,_0xc3f62d='spec',_0x39a3a7={}){const _0x38d2a9=a33_0x5820d9,_0x55199e={'EFZZz':function(_0x292e4a,_0x4d5105){return _0x292e4a(_0x4d5105);},'xGKac':function(_0x533d68,_0x4c4cf9){return _0x533d68===_0x4c4cf9;},'TPGTy':_0x38d2a9(0x1f9),'RhQZp':'passes','vMLtE':function(_0xbbbf59,_0x57674c){return _0xbbbf59===_0x57674c;},'IaZMN':'failed','WSKqY':_0x38d2a9(0x1c7),'OKUoQ':'pending','sEepj':'results','ANaNg':function(_0x5041af,_0x2f41f2){return _0x5041af*_0x2f41f2;},'fJYMs':function(_0x44cc57,_0x24d98e,_0x5be604){return _0x44cc57(_0x24d98e,_0x5be604);},'tAQVq':function(_0x31dbc8,_0x102d5a){return _0x31dbc8>_0x102d5a;},'DBrVg':function(_0x2e464e){return _0x2e464e();},'fNJIT':function(_0x55b869,_0x3387d4){return _0x55b869===_0x3387d4;},'vDAfg':_0x38d2a9(0x200),'bYcvb':function(_0x108934,_0x5d2cf9){return _0x108934(_0x5d2cf9);},'qEXeS':_0x38d2a9(0x202),'nfskq':_0x38d2a9(0x27d),'VIgIU':function(_0x501664,_0x2f197c){return _0x501664+_0x2f197c;},'WWQuw':_0x38d2a9(0x208),'vDRZq':function(_0x58ad69,_0x2efad2){return _0x58ad69+_0x2efad2;},'dFikN':_0x38d2a9(0x20f),'jZrtp':function(_0x2225a2,_0x210807){return _0x2225a2+_0x210807;},'ZDgwH':_0x38d2a9(0x1d8),'TUBBw':function(_0x342471,_0x3797f8){return _0x342471+_0x3797f8;},'azmlL':function(_0x242160,_0x4833a0){return _0x242160+_0x4833a0;},'KGHER':'\x0a\x0a\x0a','IjIuM':_0x38d2a9(0x188),'CmFiF':_0x38d2a9(0x1df),'WHcuk':_0x38d2a9(0x25b),'wkWwB':_0x38d2a9(0x25c),'fFrJe':'xunit','IcUff':_0x38d2a9(0x252),'UYoKA':function(_0x36dd4a,_0x2be5d5){return _0x36dd4a||_0x2be5d5;},'SJjzH':function(_0x36c88f,_0x38d621){return _0x36c88f(_0x38d621);},'HDKaQ':function(_0x38bfd5,_0x2f26f2,_0x4f32b4,_0x3bf1d3){return _0x38bfd5(_0x2f26f2,_0x4f32b4,_0x3bf1d3);},'KHyfc':_0x38d2a9(0x264),'HcxUb':function(_0x3b394a,_0x719236){return _0x3b394a-_0x719236;},'eYHKR':function(_0x39b57a,_0x369ab9){return _0x39b57a-_0x369ab9;},'VFUMd':function(_0x27ec62,_0x6028b4){return _0x27ec62/_0x6028b4;},'pFiyJ':function(_0x5bbb73,_0xa4c44b){return _0x5bbb73(_0xa4c44b);},'rVqUF':_0x38d2a9(0x1e2),'CHwNZ':'Writing\x20xunit\x20result\x20to\x20file','wBQxR':_0x38d2a9(0x1f3),'MAqxH':_0x38d2a9(0x267),'huhdY':function(_0x349a15,_0xb27142){return _0x349a15===_0xb27142;},'dxLPq':_0x38d2a9(0x265),'AwaUh':_0x38d2a9(0x20d)};if(_0x55199e['fNJIT'](_0xc3f62d,_0x55199e[_0x38d2a9(0x1d1)]))return;const _0x2bab28=0x0,_0x3ec9e6=()=>{const _0x9f6354=_0x38d2a9;return _0x55199e[_0x9f6354(0x1a3)](Array,_0x2bab28)[_0x9f6354(0x1d0)]('\x20\x20');},{testSuites:_0x436665,platforms:_0x21a839,totalTests:_0x26e4d5,testsFailed:_0x140ffa,testsPassed:_0xb17a94,testsPending:_0x5a3188}=_0x55199e[_0x38d2a9(0x1f1)](getStats,_0x42f319);_0x55199e[_0x38d2a9(0x27b)](_0x140ffa,0x0)&&(logger[_0x38d2a9(0x25f)](_0x55199e[_0x38d2a9(0x1ec)]),process['exitCode']=Math[_0x38d2a9(0x211)](_0x140ffa,0xff));logger[_0x38d2a9(0x25f)](_0x55199e['nfskq']);const _0x36b87f=''+_0x55199e['VIgIU'](chalk['bold'](_0x55199e[_0x38d2a9(0x183)]),_0x21a839['length']),_0x216cf2=''+_0x55199e[_0x38d2a9(0x262)](chalk[_0x38d2a9(0x255)](_0x55199e[_0x38d2a9(0x21e)]),_0x436665),_0x1afba8=''+_0x55199e['jZrtp'](_0x55199e[_0x38d2a9(0x1c2)](_0x55199e[_0x38d2a9(0x1c2)](chalk[_0x38d2a9(0x255)](_0x55199e[_0x38d2a9(0x1a2)]),_0x55199e[_0x38d2a9(0x27b)](_0x140ffa,0x0)?chalk[_0x38d2a9(0x255)]['red'](_0x140ffa+'\x20failed')+',\x20':''),_0x55199e['tAQVq'](_0x5a3188,0x0)?chalk[_0x38d2a9(0x255)]['yellow'](_0x5a3188+_0x38d2a9(0x27c))+',\x20':''),_0x55199e[_0x38d2a9(0x27b)](_0xb17a94,0x0)?chalk[_0x38d2a9(0x255)][_0x38d2a9(0x1de)](_0xb17a94+_0x38d2a9(0x258))+',\x20':'')+_0x26e4d5+_0x38d2a9(0x278);console[_0x38d2a9(0x20c)](_0x55199e[_0x38d2a9(0x1c2)](_0x55199e[_0x38d2a9(0x1c2)](_0x55199e[_0x38d2a9(0x215)](_0x55199e[_0x38d2a9(0x228)](_0x55199e[_0x38d2a9(0x215)](_0x55199e[_0x38d2a9(0x1b1)],_0x36b87f),'\x0a'),_0x216cf2),'\x0a'),_0x1afba8));if(_0x55199e[_0x38d2a9(0x1c8)](_0xc3f62d,_0x55199e[_0x38d2a9(0x1a5)])){const _0x2ccb1e={},_0x555b44={};_0x555b44[_0x38d2a9(0x247)]=_0x436665,_0x555b44[_0x38d2a9(0x1b4)]=_0x21a839,_0x555b44[_0x38d2a9(0x254)]=_0x140ffa,_0x555b44[_0x38d2a9(0x236)]=_0xb17a94,_0x555b44[_0x38d2a9(0x242)]=_0x5a3188,_0x2ccb1e['stats']=_0x555b44,_0x21a839[_0x38d2a9(0x1ee)](_0x3f1cb0=>{const _0x21f8fa=_0x38d2a9;_0x2ccb1e[_0x3f1cb0]={'pending':[],'failures':[],'passes':[],'tests':_0x42f319[_0x3f1cb0][_0x55199e['sEepj']][_0x21f8fa(0x22d)](clean)},_0x42f319[_0x3f1cb0][_0x55199e[_0x21f8fa(0x1fe)]][_0x21f8fa(0x1ee)](_0x15840a=>{const _0x5b1669=_0x21f8fa;if(_0x55199e[_0x5b1669(0x27a)](_0x15840a[_0x5b1669(0x26e)],_0x55199e[_0x5b1669(0x221)]))_0x2ccb1e[_0x3f1cb0][_0x55199e['RhQZp']][_0x5b1669(0x193)](_0x55199e[_0x5b1669(0x1a3)](clean,_0x15840a));else _0x55199e[_0x5b1669(0x198)](_0x15840a[_0x5b1669(0x26e)],_0x55199e[_0x5b1669(0x272)])?_0x2ccb1e[_0x3f1cb0][_0x55199e[_0x5b1669(0x1d5)]][_0x5b1669(0x193)](_0x55199e['EFZZz'](clean,_0x15840a)):_0x2ccb1e[_0x3f1cb0][_0x55199e[_0x5b1669(0x1db)]][_0x5b1669(0x193)](_0x55199e[_0x5b1669(0x1a3)](clean,_0x15840a));});});if(_0x39a3a7[_0x38d2a9(0x250)])try{logger['debug'](_0x55199e[_0x38d2a9(0x1b5)],_0x39a3a7['output']),fs[_0x38d2a9(0x280)](_0x39a3a7[_0x38d2a9(0x250)],JSON[_0x38d2a9(0x17e)](_0x2ccb1e,null,0x3));}catch(_0x45ab7b){logger[_0x38d2a9(0x1c1)](_0x55199e[_0x38d2a9(0x22e)],_0x39a3a7[_0x38d2a9(0x250)]),logger[_0x38d2a9(0x25f)](_0x45ab7b);}else logger[_0x38d2a9(0x25f)](_0x55199e['wkWwB']),console[_0x38d2a9(0x20c)](JSON[_0x38d2a9(0x17e)](_0x2ccb1e,null,0x3));}else{if(_0x55199e['fNJIT'](_0xc3f62d,_0x55199e['fFrJe'])){let _0x232157;const _0x4adf76=_0x55199e[_0x38d2a9(0x23d)];_0x39a3a7&&(_0x232157=_0x39a3a7['suiteName']);_0x232157=_0x55199e[_0x38d2a9(0x244)](_0x232157,_0x4adf76);let _0x3d9369=0x0,_0x5be288=0x0,_0x25c486=0x0,_0x3d4ee1=0x0;_0x21a839['forEach'](_0xe7295d=>{const _0x1567b6=_0x38d2a9,_0x14e559={'yyIoQ':function(_0x902dbc,_0x2b8c9d){const _0x3f8c59=a33_0xfe92;return _0x55199e[_0x3f8c59(0x198)](_0x902dbc,_0x2b8c9d);},'tOEap':_0x55199e[_0x1567b6(0x221)],'jfNRS':function(_0x355b3,_0x4e245e){return _0x55199e['xGKac'](_0x355b3,_0x4e245e);},'pUHDg':_0x55199e[_0x1567b6(0x272)],'zfKjN':function(_0x7c4a55,_0x44dc2d){const _0x461642=_0x1567b6;return _0x55199e[_0x461642(0x224)](_0x7c4a55,_0x44dc2d);}};_0x42f319[_0xe7295d][_0x55199e[_0x1567b6(0x1fe)]][_0x1567b6(0x1ee)](_0xfc5563=>{const _0x1b7831=_0x1567b6;if(_0x14e559[_0x1b7831(0x23f)](_0xfc5563[_0x1b7831(0x26e)],_0x14e559['tOEap']))_0x3d9369++;else _0x14e559[_0x1b7831(0x26b)](_0xfc5563[_0x1b7831(0x26e)],_0x14e559[_0x1b7831(0x1ae)])&&_0x5be288++;_0x25c486++,_0x3d4ee1+=_0x14e559[_0x1b7831(0x1b6)](_0xfc5563[_0x1b7831(0x181)],0x1);});}),_0x55199e[_0x38d2a9(0x214)](xunitWrite,_0x55199e[_0x38d2a9(0x196)](tag,_0x55199e[_0x38d2a9(0x24e)],{'name':_0x232157,'tests':_0x25c486,'failures':0x0,'errors':_0x5be288,'skipped':_0x55199e[_0x38d2a9(0x241)](_0x55199e[_0x38d2a9(0x233)](_0x25c486,_0x5be288),_0x3d9369),'timestamp':new Date()['toUTCString'](),'time':_0x55199e[_0x38d2a9(0x235)](_0x3d4ee1,0x3e8)||0x0},![])),_0x21a839['forEach'](_0x5a1f4e=>{const _0x5e6a79=_0x38d2a9;_0x42f319[_0x5a1f4e][_0x55199e[_0x5e6a79(0x1fe)]]['forEach'](_0x3a9574=>{const _0x5ea703=_0x5e6a79;_0x55199e[_0x5ea703(0x1f8)](xunitTest,_0x3a9574,_0x5a1f4e);});}),_0x55199e[_0x38d2a9(0x234)](xunitWrite,_0x55199e['rVqUF']);if(_0x39a3a7[_0x38d2a9(0x250)])try{logger[_0x38d2a9(0x25f)](_0x55199e[_0x38d2a9(0x22c)],_0x39a3a7[_0x38d2a9(0x250)]),fs[_0x38d2a9(0x280)](_0x39a3a7[_0x38d2a9(0x250)],xunitContent);}catch(_0xd99936){logger[_0x38d2a9(0x1c1)](_0x55199e[_0x38d2a9(0x257)],_0x39a3a7['output']),logger[_0x38d2a9(0x25f)](_0xd99936);}else logger['debug'](_0x55199e[_0x38d2a9(0x212)]),console[_0x38d2a9(0x20c)](xunitContent);}else{if(_0x55199e[_0x38d2a9(0x23a)](_0x140ffa,0x0))return;console['log'](),logger[_0x38d2a9(0x25f)](_0x55199e[_0x38d2a9(0x1e7)]),console[_0x38d2a9(0x20c)](chalk['bold'][_0x38d2a9(0x1a7)](_0x55199e[_0x38d2a9(0x246)])),_0x21a839['forEach'](_0x4d62a3=>{const _0x21ae1b=_0x38d2a9,_0x4e44a5=[];_0x42f319[_0x4d62a3][_0x55199e[_0x21ae1b(0x1fe)]][_0x21ae1b(0x1ee)](_0x2a9099=>{const _0x417029=_0x21ae1b;_0x55199e[_0x417029(0x27a)](_0x2a9099['state'],_0x55199e['IaZMN'])&&(_0x2a9099['titlePath']=()=>_0x2a9099[_0x417029(0x26c)],_0x4e44a5[_0x417029(0x193)](_0x2a9099));}),_0x55199e[_0x21ae1b(0x27b)](_0x4e44a5[_0x21ae1b(0x277)],0x0)&&(Base[_0x21ae1b(0x1da)](),Base[_0x21ae1b(0x1da)](_0x55199e[_0x21ae1b(0x1e4)](_0x3ec9e6),chalk[_0x21ae1b(0x255)][_0x21ae1b(0x26a)](_0x4d62a3)),Base['list'](_0x4e44a5));});}}}async function run(_0x224d16,_0x35a008,_0x40325e){const _0xd32e67=a33_0x5820d9,_0x45d79c={'ChNoR':function(_0x488fe7,_0x3226f2,_0x369cd2,_0x28b1e4){return _0x488fe7(_0x3226f2,_0x369cd2,_0x28b1e4);},'njiKo':_0xd32e67(0x201),'UdRcM':_0xd32e67(0x18b),'tomuV':'SDKTestSuccessful','xaZzs':function(_0x2f9287,_0x3d0274,_0x3459bd,_0x1d684a){return _0x2f9287(_0x3d0274,_0x3459bd,_0x1d684a);},'YTHWi':'mocha','mtBOw':function(_0x40a7b5,_0x132dc5){return _0x40a7b5!=_0x132dc5;},'fierR':_0xd32e67(0x1a1),'wNUkv':_0xd32e67(0x1ad),'cmNsY':_0xd32e67(0x197),'EejgD':_0xd32e67(0x1bd),'vPhCJ':function(_0x2f1753,_0x576fc4){return _0x2f1753(_0x576fc4);},'mPSbq':function(_0x3ec8d5,_0x3df69e,_0x4394f2){return _0x3ec8d5(_0x3df69e,_0x4394f2);},'iABWm':'files','FxVFH':function(_0x4e056d,_0x3f5bb2){return _0x4e056d!=_0x3f5bb2;},'wvCcY':_0xd32e67(0x253),'TeyHj':'excludeTagsInTestingScope','KHMAG':_0xd32e67(0x25e),'odmQJ':_0xd32e67(0x1b0),'YGKzJ':_0xd32e67(0x1b2),'LMeNZ':function(_0x502255,_0x4b59bd){return _0x502255*_0x4b59bd;},'cFyrt':function(_0x1a7c81,_0x245e34){return _0x1a7c81!==_0x245e34;}};helper[_0xd32e67(0x1b3)](_0x40325e[_0xd32e67(0x17f)],_0x224d16),await _0x40325e[_0xd32e67(0x281)](_0x224d16);helper['isBrowserstackInfra']()?await helper[_0xd32e67(0x279)](_0x40325e[_0xd32e67(0x1f2)]):await _0x40325e[_0xd32e67(0x1cd)]();const _0x3b4d31=[];let _0x4b12ac=[];if(!_0x40325e[_0xd32e67(0x1f2)])return;!helper['isUndefined'](_0x40325e['config'][_0xd32e67(0x184)])&&(process[_0xd32e67(0x26f)][_0xd32e67(0x21a)]=JSON['stringify'](_0x40325e[_0xd32e67(0x1f2)][_0xd32e67(0x184)]));const _0x2a29d7=await TestHubHandler[_0xd32e67(0x249)](FRAMEWORKS[_0xd32e67(0x1f6)],_0x40325e);_0x45d79c[_0xd32e67(0x1be)](_0x40325e['config'][_0xd32e67(0x1fd)],null)&&(process[_0xd32e67(0x26f)][_0xd32e67(0x24b)]=_0x40325e[_0xd32e67(0x1f2)]['testObservability']);!helper[_0xd32e67(0x186)](_0x40325e[_0xd32e67(0x1f2)][_0xd32e67(0x266)])&&(process['env'][_0xd32e67(0x18f)]=_0x40325e[_0xd32e67(0x1f2)][_0xd32e67(0x266)]);const {extension:extension=['js',_0x45d79c[_0xd32e67(0x1fa)],_0x45d79c[_0xd32e67(0x22a)]],ignore:ignore=[],file:file=[],recursive:recursive=![],sort:sort=![],spec:spec=[_0x45d79c[_0xd32e67(0x248)]]}=_0x224d16,_0x376018={..._0x224d16};_0x376018[_0xd32e67(0x1bf)]=null;const _0x3d6a89=_0x376018;let _0x4838c0;if(testOpsHelper[_0xd32e67(0x229)]()&&testOpsHelper['shouldReRunObservabilityTests']()){let _0x185145=process[_0xd32e67(0x26f)][_0xd32e67(0x25a)];!helper['isUndefined'](_0x40325e['cliConfig'])&&_0x40325e[_0xd32e67(0x225)][_0xd32e67(0x245)](_0x45d79c[_0xd32e67(0x230)])&&(_0x185145=_0x40325e[_0xd32e67(0x225)]['get'](_0x45d79c[_0xd32e67(0x230)])),_0x4838c0=testOpsHelper['parseFileNames'](_0x185145);}if(helper[_0xd32e67(0x186)](_0x4838c0)){const _0x533301={};_0x533301['ignore']=ignore,_0x533301[_0xd32e67(0x18d)]=extension,_0x533301[_0xd32e67(0x205)]=file,_0x533301[_0xd32e67(0x24f)]=recursive,_0x533301[_0xd32e67(0x1ac)]=sort,_0x533301[_0xd32e67(0x20b)]=spec,_0x4838c0=_0x45d79c[_0xd32e67(0x282)](collectFiles,_0x533301),_0x45d79c[_0xd32e67(0x237)](nestedKeyValue,_0x4838c0,[_0x45d79c['iABWm']])&&(_0x4838c0=_0x4838c0[_0xd32e67(0x1b9)]);}const _0x330312=helper[_0xd32e67(0x23b)](_0x40325e[_0xd32e67(0x1f2)]);!helper[_0xd32e67(0x1ce)](_0x330312)&&helper[_0xd32e67(0x1d9)](_0x330312[_0xd32e67(0x194)])&&(_0x3d6a89['retries']=_0x330312[_0xd32e67(0x194)][_0xd32e67(0x268)]);if(!helper[_0xd32e67(0x223)]()){const _0x34ab2c=0x1,_0x266181={..._0x3d6a89};_0x266181[_0xd32e67(0x20b)]=[..._0x4838c0],_0x3b4d31[_0xd32e67(0x193)]({'mochaOpts':_0x266181,'configuration':{'platform':os[_0xd32e67(0x21c)]()}});if(_0x40325e[_0xd32e67(0x1f2)][_0xd32e67(0x266)]){const _0x1d8407={};_0x1d8407[_0xd32e67(0x266)]=!![];const _0x2338d5=_0x1d8407;_0x45d79c[_0xd32e67(0x27e)](_0x40325e[_0xd32e67(0x1f2)]['accessibilityOptions'],null)&&(_0x2338d5[_0xd32e67(0x184)]=_0x40325e[_0xd32e67(0x1f2)][_0xd32e67(0x184)],delete _0x2338d5[_0xd32e67(0x184)][_0x45d79c[_0xd32e67(0x260)]],delete _0x2338d5[_0xd32e67(0x184)][_0x45d79c[_0xd32e67(0x261)]],delete _0x2338d5['accessibilityOptions'][_0x45d79c[_0xd32e67(0x1bb)]]);const _0x1d9847={};_0x1d9847[_0xd32e67(0x22f)]=_0x2338d5,_0x3b4d31[0x0][_0xd32e67(0x187)]['capability']=_0x1d9847;}logger[_0xd32e67(0x1ea)](_0x45d79c[_0xd32e67(0x243)]),logger[_0xd32e67(0x1ea)](_0x45d79c[_0xd32e67(0x1d6)]),_0x45d79c[_0xd32e67(0x1ef)](parallelTestRun,_0x3b4d31,_0x34ab2c,_0x40325e)['then'](_0xff3304=>{const _0x599820=_0xd32e67;PerformanceTester[_0x599820(0x1c0)](PerformanceEvents[_0x599820(0x1d4)]),_0x45d79c['ChNoR'](printStats,_0xff3304,_0x224d16[_0x599820(0x19f)],_0x224d16[_0x599820(0x219)]||_0x224d16[_0x45d79c[_0x599820(0x1f4)]]);})[_0xd32e67(0x1c9)](()=>{const _0x3e3e9e=_0xd32e67;PerformanceTester[_0x3e3e9e(0x1c0)](PerformanceEvents['SDK_CLEANUP']);try{const {browserstackFolderPath:_0xdbe7f8,tcgConfigPath:_0x182fd8}=helper[_0x3e3e9e(0x239)]();fs[_0x3e3e9e(0x203)](_0x182fd8),fs[_0x3e3e9e(0x227)](_0xdbe7f8);}catch(_0x2a3a6){logger['debug'](_0x45d79c[_0x3e3e9e(0x206)],_0x2a3a6);}try{utilities[_0x3e3e9e(0x21f)](_0x45d79c[_0x3e3e9e(0x192)],{},_0x40325e[_0x3e3e9e(0x1f2)],_0x40325e[_0x3e3e9e(0x17f)]);}catch(_0x1ee1d5){logger[_0x3e3e9e(0x25f)]('Error\x20in\x20Fire\x20SDKTestSuccessful.\x20Stacktrace:\x20'+_0x1ee1d5[_0x3e3e9e(0x1eb)]);}try{helper['notifyUpdate']();}catch(_0x23360b){logger[_0x3e3e9e(0x25f)](_0x3e3e9e(0x18c)+_0x23360b);}testOpsHelper[_0x3e3e9e(0x21d)]();});}else{const _0x44b010=helper['useW3C'](_0x40325e['config']);let _0x3999b9=helper[_0xd32e67(0x199)](_0x40325e[_0xd32e67(0x1f2)]);_0x4b12ac=helper[_0xd32e67(0x23c)](_0x40325e['config'],_0x44b010,constants[_0xd32e67(0x1cc)]['MOCHA']);helper['getCentralUser']()['central_scanner']&&(_0x3999b9=centralScannerConstants['BROWSERSTACK_GRR_US_HUB_URL']);let _0x3dcdd7;const _0x6d8e6d=_0x40325e[_0xd32e67(0x1f2)][_0xd32e67(0x1d2)]||helper[_0xd32e67(0x1e8)](_0x224d16,_0x35a008,_0x40325e[_0xd32e67(0x1f2)],constants[_0xd32e67(0x1cc)][_0xd32e67(0x1f6)])||0x1;helper[_0xd32e67(0x180)](_0x40325e[_0xd32e67(0x1f2)])?_0x3dcdd7=_0x45d79c[_0xd32e67(0x19d)](_0x40325e[_0xd32e67(0x1f2)]['platforms'][_0xd32e67(0x277)],_0x6d8e6d):_0x3dcdd7=_0x6d8e6d;const _0x2ba8df=_0x45d79c[_0xd32e67(0x282)](getPercyOptions,_0x40325e[_0xd32e67(0x1f2)]);if(_0x45d79c[_0xd32e67(0x1c5)](_0x40325e[_0xd32e67(0x1f2)][_0xd32e67(0x1d2)],0x1))_0x4838c0[_0xd32e67(0x1ee)](_0x456151=>{const _0x463fcf=_0xd32e67,_0x29bb09=[];_0x4b12ac['forEach']((_0x4b39c4,_0x40caac)=>{const _0xdd0701=a33_0xfe92,_0x2b35b9={};_0x2b35b9[_0xdd0701(0x20b)]=[_0x456151],_0x29bb09[_0xdd0701(0x193)]({'mochaOpts':Object[_0xdd0701(0x26d)]({},_0x3d6a89,_0x2b35b9),'configuration':{'server':_0x3999b9,'capability':_0x4b39c4,'proxySettings':_0x40325e[_0xdd0701(0x1f2)][_0xdd0701(0x222)],'platform':helper[_0xdd0701(0x1ff)](_0x4b39c4),'browserStackLogLevel':_0x40325e[_0xdd0701(0x1f2)][_0xdd0701(0x213)],'platformIndex':_0x40caac,'browserStackPercyOptions':_0x2ba8df,'platformCaps':Object[_0xdd0701(0x26d)]({'index':_0x40caac},_0x40325e[_0xdd0701(0x1f2)][_0xdd0701(0x1b4)][_0x40caac])}});}),_0x3b4d31[_0x463fcf(0x193)](..._0x29bb09);});else{const _0x1d578a=[];_0x4b12ac[_0xd32e67(0x1ee)]((_0x4de149,_0x3d18fa)=>{const _0x34e02e=_0xd32e67;let _0x33256f=Object[_0x34e02e(0x26d)]({},_0x3d6a89);testOpsHelper[_0x34e02e(0x229)]()&&testOpsHelper['shouldReRunObservabilityTests']()&&(_0x33256f={..._0x33256f,'spec':[..._0x4838c0]}),_0x1d578a[_0x34e02e(0x193)]({'mochaOpts':_0x33256f,'configuration':{'server':_0x3999b9,'capability':_0x4de149,'proxySettings':_0x40325e[_0x34e02e(0x1f2)][_0x34e02e(0x222)],'platform':helper[_0x34e02e(0x1ff)](_0x4de149),'browserStackLogLevel':_0x40325e[_0x34e02e(0x1f2)][_0x34e02e(0x213)],'platformIndex':_0x3d18fa,'browserStackPercyOptions':_0x2ba8df,'platformCaps':Object['assign']({'index':_0x3d18fa},_0x40325e[_0x34e02e(0x1f2)][_0x34e02e(0x1b4)][_0x3d18fa])}});}),_0x3b4d31[_0xd32e67(0x193)](..._0x1d578a);}logger[_0xd32e67(0x1ea)]('Running\x20your\x20mocha\x20tests\x20across\x20'+_0x40325e['config'][_0xd32e67(0x1b4)]['length']+_0xd32e67(0x269)),logger[_0xd32e67(0x1ea)](_0x45d79c[_0xd32e67(0x1d6)]);let _0x41c8b0;_0x45d79c['ChNoR'](parallelTestRun,_0x3b4d31,_0x3dcdd7,_0x40325e)['then'](_0x4cb04e=>{const _0x3e0109=_0xd32e67;PerformanceTester['start'](PerformanceEvents[_0x3e0109(0x1d4)]),_0x41c8b0=_0x4cb04e,_0x45d79c['xaZzs'](printStats,_0x4cb04e,_0x224d16[_0x3e0109(0x19f)],_0x224d16[_0x3e0109(0x219)]||_0x224d16[_0x45d79c[_0x3e0109(0x1f4)]]);})[_0xd32e67(0x1c9)](async()=>{const _0x23f915=_0xd32e67;PerformanceTester[_0x23f915(0x1c0)](PerformanceEvents['SDK_CLEANUP']),_0x40325e[_0x23f915(0x19a)]=helper['getErrorMessageFromResults'](_0x41c8b0,_0x45d79c[_0x23f915(0x1af)]),await utilities[_0x23f915(0x1b7)](_0x40325e),testOpsHelper[_0x23f915(0x21d)]();});}}module['exports']=run;