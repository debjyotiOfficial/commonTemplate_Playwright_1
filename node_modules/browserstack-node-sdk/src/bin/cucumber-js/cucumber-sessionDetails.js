const a6_0x5a2740=a6_0x17ba;(function(_0x112404,_0x427d40){const _0x9ef0ec=a6_0x17ba,_0x363a8c=_0x112404();while(!![]){try{const _0x1e0be6=-parseInt(_0x9ef0ec(0x1a4))/0x1+parseInt(_0x9ef0ec(0x14e))/0x2*(parseInt(_0x9ef0ec(0x1ee))/0x3)+parseInt(_0x9ef0ec(0x187))/0x4*(parseInt(_0x9ef0ec(0x158))/0x5)+-parseInt(_0x9ef0ec(0x1e1))/0x6+-parseInt(_0x9ef0ec(0x1a8))/0x7+-parseInt(_0x9ef0ec(0x1e5))/0x8+parseInt(_0x9ef0ec(0x1e9))/0x9;if(_0x1e0be6===_0x427d40)break;else _0x363a8c['push'](_0x363a8c['shift']());}catch(_0x5de45e){_0x363a8c['push'](_0x363a8c['shift']());}}}(a6_0x1265,0x24193));const path=require('path'),url=require(a6_0x5a2740(0x1a9)),util=require('util'),{nestedKeyValue,isFalse,importFileFromPWCore,requireModule}=require(a6_0x5a2740(0x183)),{o11yErrorHandler}=require(a6_0x5a2740(0x1c0)),{debug,getPlatformDetails}=require(a6_0x5a2740(0x156)),logger=require(a6_0x5a2740(0x175))[a6_0x5a2740(0x1dd)],constants=require('../utils/constants'),AutomationFramework=require(a6_0x5a2740(0x1cb)),BrowserstackCLI=require('../v2/browserstackCLI'),AutomationFrameworkState=require(a6_0x5a2740(0x1a0)),HookState=require(a6_0x5a2740(0x171)),{platform}=require('os'),getBrowserNameFromChannel=_0x3d9a9f=>{const _0x4683ca=a6_0x5a2740,_0x5e424a={};_0x5e424a['NbnkL']='chrome',_0x5e424a['TmtnY']=_0x4683ca(0x1be),_0x5e424a[_0x4683ca(0x14c)]='firefox',_0x5e424a[_0x4683ca(0x197)]=_0x4683ca(0x174);const _0x3b0cd6=_0x5e424a;if(_0x3d9a9f[_0x4683ca(0x163)](_0x3b0cd6[_0x4683ca(0x13d)]))return _0x3b0cd6[_0x4683ca(0x13d)];if(_0x3d9a9f[_0x4683ca(0x163)](_0x3b0cd6[_0x4683ca(0x1ad)]))return _0x3b0cd6['TmtnY'];if(_0x3d9a9f[_0x4683ca(0x163)](_0x3b0cd6[_0x4683ca(0x14c)]))return _0x3b0cd6[_0x4683ca(0x14c)];if(_0x3d9a9f['includes'](_0x3b0cd6[_0x4683ca(0x197)]))return _0x3b0cd6[_0x4683ca(0x197)];},getBrowserFromWSEndpoint=_0x45bb4e=>{const _0x42c41f=a6_0x5a2740,_0x2aaa17={'ljUHt':'bstack:options','KeZuU':function(_0x1c16b3,_0x5391e1){return _0x1c16b3(_0x5391e1);},'Gmfuv':'edge','MMfzE':_0x42c41f(0x190),'cDLEf':_0x42c41f(0x1c4),'OAnUV':_0x42c41f(0x1e8),'yWhoN':_0x42c41f(0x174),'xoznO':'webkit','skOGZ':_0x42c41f(0x15a)};try{const _0x5c9cd2=url[_0x42c41f(0x18a)](_0x45bb4e),_0x51c946=new URLSearchParams(_0x5c9cd2[_0x42c41f(0x1d5)]),_0x2bb01f=Object['fromEntries'](_0x51c946[_0x42c41f(0x153)]()),_0x159dd6=[_0x2bb01f[_0x42c41f(0x1f8)],_0x2bb01f[_0x42c41f(0x1c1)],_0x2bb01f[_0x42c41f(0x1f6)],_0x2bb01f[_0x42c41f(0x1c8)]];for(const _0xc7669 of _0x159dd6){if(_0xc7669)try{const _0x4abe41=JSON[_0x42c41f(0x18a)](_0xc7669),_0x22eb9a=_0x4abe41[_0x42c41f(0x165)]||_0x4abe41[_0x42c41f(0x1f5)]||_0x4abe41[_0x2aaa17[_0x42c41f(0x14d)]]?.['browserName'];if(_0x22eb9a)return _0x2aaa17[_0x42c41f(0x1ba)](debug,_0x42c41f(0x1b1)+_0x22eb9a),_0x22eb9a[_0x42c41f(0x1ca)]();}catch(_0x3b7834){_0x2aaa17[_0x42c41f(0x1ba)](debug,_0x42c41f(0x1e7)+_0x3b7834[_0x42c41f(0x182)]);}}if(_0x45bb4e[_0x42c41f(0x163)](_0x2aaa17[_0x42c41f(0x1ef)])||_0x45bb4e[_0x42c41f(0x163)](_0x2aaa17['MMfzE']))return _0x2aaa17[_0x42c41f(0x1ef)];if(_0x45bb4e['includes'](_0x2aaa17[_0x42c41f(0x1b4)])||_0x45bb4e[_0x42c41f(0x163)](_0x2aaa17[_0x42c41f(0x1ae)]))return _0x2aaa17[_0x42c41f(0x1b4)];if(_0x45bb4e['includes'](_0x2aaa17[_0x42c41f(0x149)])||_0x45bb4e[_0x42c41f(0x163)](_0x2aaa17[_0x42c41f(0x1c6)]))return _0x2aaa17[_0x42c41f(0x149)];return _0x2aaa17['skOGZ'];}catch(_0xb0ef1d){return _0x2aaa17[_0x42c41f(0x1ba)](debug,_0x42c41f(0x1c3)+_0xb0ef1d['toString']()),_0x2aaa17['skOGZ'];}},getCloudProviderFromWsEndpoint=_0xbe5593=>{const _0x3ae64b=a6_0x5a2740,_0x44a2d4={};_0x44a2d4[_0x3ae64b(0x185)]='browserstack',_0x44a2d4[_0x3ae64b(0x181)]='unknown_grid';const _0x54a1e5=_0x44a2d4;if(_0xbe5593['includes'](constants['BSTACK_URL'])||_0xbe5593[_0x3ae64b(0x163)](constants[_0x3ae64b(0x1c7)]))return _0x54a1e5[_0x3ae64b(0x185)];return _0x54a1e5['gqRNG'];},a6_0x2eb077={};function a6_0x17ba(_0x57b5e6,_0x504523){const _0x126598=a6_0x1265();return a6_0x17ba=function(_0x17badf,_0x2dd840){_0x17badf=_0x17badf-0x137;let _0x99a9e8=_0x126598[_0x17badf];return _0x99a9e8;},a6_0x17ba(_0x57b5e6,_0x504523);}a6_0x2eb077['cloudProvider']=undefined,a6_0x2eb077['bsSessionId']=undefined,a6_0x2eb077[a6_0x5a2740(0x1f5)]=undefined,a6_0x2eb077[a6_0x5a2740(0x16b)]=undefined,a6_0x2eb077[a6_0x5a2740(0x19b)]=undefined,a6_0x2eb077[a6_0x5a2740(0x14f)]=undefined,a6_0x2eb077[a6_0x5a2740(0x139)]=undefined,a6_0x2eb077[a6_0x5a2740(0x1c1)]={};function a6_0x1265(){const _0x58734c=['function','safari','../../helpers/logger','_onMessage','lib','SJUKI','instance','_connection','getAutomationFramework','osVersion','EvXJv','tSagX','qthYU','connectOptions','gqRNG','message','../../helpers/helper','vpfMs','JpUaw','__platformCaps','563132epymgZ','assign','deviceModel','parse','patchCRConnection','platformName','Using\x20browser\x20name\x20from\x20browser\x20object:\x20','Successfully\x20patched\x20Connection.dispatch\x20for\x20Cucumber.js','ZdSyp','msedge','platformVersion','version','_browserType','ATS_WSS_URL_REGEX','PfkPo','bstack:options','gBvpx','os_version','hYhOL','automate','platform','channel','MOqCa','cRaSX','Triggering\x20PLAYWRIGHT_DISPATCH\x20event\x20for\x20Cucumber.js','../v2/state/automationFrameworkState.js','bsParams','IHdQF','server','9448jXXvJQ','BROWSERSTACK_TEST_OBSERVABILITY','Setting\x20session\x20id\x20received\x20from\x20browserstack\x20','isRunning','1030421IRXeSj','url','bsSessionId','tAcAA','apply','TmtnY','OAnUV','use','ctskc','Browser\x20found\x20in\x20WebSocket\x20caps:\x20','project','IjUgL','cDLEf','Connection\x20dispatch\x20already\x20patched\x20for\x20Cucumber.js','_name','aLhRs','turboscale','aEhYr','KeZuU','connection.js','vcEfA','Setting\x20session\x20id\x20received\x20from\x20BS\x20','edge','sVSlt','../../helpers/test-observability/error-handler','capabilities','params','Error\x20in\x20getting\x20browser\x20from\x20WebSocket\x20endpoint:\x20','firefox','string','xoznO','BSTACK_ATS_URL','browserstack_capabilities','DdYSI','toLowerCase','../v2/framework/automationFramework','env','patchConnection','CRConnection\x20already\x20patched\x20for\x20Cucumber.js','capabilties','Session\x20details\x20setup\x20complete:\x20','Found\x20Connection\x20class\x20at:\x20','playwright-','setupBrowserDetails','fSeMb','query','browserVersion','TLffq','trackEvent','Failed\x20to\x20import\x20connection\x20from\x20','Device\x20Model\x20is\x20not\x20available','uanNM','Error\x20extracting\x20BrowserStack\x20parameters:\x20','winstonLogger','PLAYWRIGHT_DISPATCH','GGdip','Failed\x20to\x20parse\x20capabilities\x20from\x20WebSocket:\x20','1448868EvoHyq','simFS','chromium','BRONE','126872GzNOJA','tkzGf','Failed\x20to\x20parse\x20caps\x20from\x20WebSocket:\x20','gecko','3564963jjGkNH','prototype','Error\x20in\x20getting\x20applying\x20CRConnection\x20patch\x20','wsEndpoint','getDetails','1269ygmNZM','Gmfuv','_cucumberCRPatched','LUqrn','format','Browser\x20is\x20not\x20defined\x20or\x20not\x20available','getInstance','browser','desiredCapabilities','getTrackedInstance','caps','client','Wzqpm','SgfRp','currentSessionDetails','uLUlN','buPvG','cBaMr','product','platformDetails','local_grid','pgjlo','NbnkL','dispatch','Error\x20in\x20importing\x20connection\x20','BaMRP','_cucumberDispatchPatched','cloudProvider','debug','gSbFQ','Browser\x20name\x20overridden\x20from\x20WebSocket\x20endpoint:\x20','sessionError','JvNIr','bStackParams','yWhoN','model','bCZWf','RmNBm','ljUHt','118vQLxIg','platform_version','sessionId','accessibilityPlatform','test','entries','toString','GObrx','../../helpers/test-observability/utils','otZVK','5aWkSeu','triggerPlaywrightDispatchEvent','chrome','crConnection.js','ECdBd','Error\x20parsing\x20WebSocket\x20endpoint:\x20','yzGxk','QbNWb','vZHhh','Setting\x20platform\x20details\x20received\x20from\x20BS:\x20','join','includes','POST','browserName','patch','Error\x20in\x20importing\x20crConnection','gjSXn','Invalid\x20constructor,\x20please\x20use\x20static\x20methods','bUZox','browser_version','EUDDO','TSakL','stringify','Connection','CRConnection','../v2/state/hookState.js','defineProperty'];a6_0x1265=function(){return _0x58734c;};return a6_0x1265();}class CucumberSessionDetails{static [a6_0x5a2740(0x1fc)]=a6_0x2eb077;constructor(){const _0x2ae509=a6_0x5a2740,_0x281afa={};_0x281afa[_0x2ae509(0x137)]=_0x2ae509(0x169);const _0xeddf1=_0x281afa;throw new Error(_0xeddf1[_0x2ae509(0x137)]);}static ['sessionError']=null;static[a6_0x5a2740(0x1d3)](_0x1243f8,_0x3fd167,_0xc3b92d=null){const _0x146800=a6_0x5a2740,_0x192688={'IjUgL':function(_0x5298ff,_0xef27a3){return _0x5298ff===_0xef27a3;},'uLUlN':_0x146800(0x173),'aEhYr':_0x146800(0x1f3),'pgjlo':function(_0x402d3,_0x5009aa){return _0x402d3===_0x5009aa;},'sVSlt':_0x146800(0x1da),'EUDDO':_0x146800(0x13b),'SgfRp':function(_0x4c3aa3,_0x5bffdf,_0x2bae5b){return _0x4c3aa3(_0x5bffdf,_0x2bae5b);},'bUZox':'_browserType','IermN':'_defaultConnectOptions','vcuxE':function(_0x3fbd79,_0x12dfbc,_0x4db708){return _0x3fbd79(_0x12dfbc,_0x4db708);},'AbCaL':_0x146800(0x1b2),'EvXJv':'use','vpfMs':_0x146800(0x180),'TSakL':function(_0x4dc32c,_0x159540){return _0x4dc32c(_0x159540);},'vZHhh':'browserstack','QbNWb':_0x146800(0x1b8),'wWQva':_0x146800(0x19a),'SJUKI':function(_0x3098cd,_0x2031f2){return _0x3098cd(_0x2031f2);},'StKbj':function(_0x51dc24,_0x7880ea){return _0x51dc24===_0x7880ea;},'yzGxk':_0x146800(0x1e3),'cRaSX':function(_0x1ecab1,_0x1a47c0){return _0x1ecab1+_0x1a47c0;},'simFS':_0x146800(0x1d2),'hYhOL':function(_0x38c204){return _0x38c204();},'GMuFI':function(_0x57b2ea,_0x3e36f7,_0x4c3bad){return _0x57b2ea(_0x3e36f7,_0x4c3bad);},'Wzqpm':_0x146800(0x1d3)},_0x2f2977=this;return _0x192688['GMuFI'](o11yErrorHandler,async function _0x5617d3(_0x3ed76d,_0x42d896,_0x41582c=null){const _0x1d1fd6=_0x146800;let _0x119ca4=_0x3ed76d[_0x1d1fd6(0x1b6)],_0x2c2aac=null;_0x3ed76d&&_0x192688[_0x1d1fd6(0x1b3)](typeof _0x3ed76d[_0x1d1fd6(0x192)],_0x192688[_0x1d1fd6(0x1fd)])?_0x2c2aac=_0x3ed76d[_0x1d1fd6(0x192)]():logger['debug'](_0x192688[_0x1d1fd6(0x1b9)]);let _0x3e3f38=null;_0x3ed76d&&_0x192688[_0x1d1fd6(0x13c)](typeof _0x3ed76d[_0x1d1fd6(0x14a)],_0x192688[_0x1d1fd6(0x1fd)])?_0x3e3f38=_0x3ed76d[_0x1d1fd6(0x14a)]():logger[_0x1d1fd6(0x143)](_0x192688[_0x1d1fd6(0x1bf)]);let _0x41c0cc=null,_0x57ad3e=null,_0x4dceed=null,_0x2b23ff=_0x192688[_0x1d1fd6(0x16c)];if(_0x3ed76d[_0x1d1fd6(0x17a)]['isRemote']()||global[_0x1d1fd6(0x151)]){let _0x3cece0=null;_0x192688[_0x1d1fd6(0x1fb)](nestedKeyValue,_0x3ed76d,[_0x192688[_0x1d1fd6(0x16a)],_0x192688['IermN']])?_0x3cece0=_0x3ed76d[_0x1d1fd6(0x193)]['_defaultConnectOptions']:_0x3cece0=_0x192688['vcuxE'](nestedKeyValue,_0x42d896,[_0x192688['AbCaL'],_0x192688[_0x1d1fd6(0x17d)],_0x192688[_0x1d1fd6(0x184)]]);const _0x305fde=_0x41582c||_0x3cece0&&_0x3cece0[_0x1d1fd6(0x1ec)];if(_0x305fde){_0x2b23ff=_0x192688['TSakL'](getCloudProviderFromWsEndpoint,_0x305fde);if(_0x192688[_0x1d1fd6(0x1b3)](_0x2b23ff,_0x192688[_0x1d1fd6(0x160)])){_0x4dceed=constants[_0x1d1fd6(0x194)][_0x1d1fd6(0x152)](_0x305fde)?_0x192688[_0x1d1fd6(0x15f)]:_0x192688['wWQva'];const _0x77b131=_0x192688[_0x1d1fd6(0x178)](getBrowserFromWSEndpoint,_0x305fde);if(_0x77b131&&(!_0x119ca4||_0x192688['StKbj'](_0x119ca4,_0x192688[_0x1d1fd6(0x15e)])))_0x119ca4=_0x77b131,logger['debug'](_0x1d1fd6(0x145)+_0x119ca4);else _0x119ca4&&logger[_0x1d1fd6(0x143)](_0x1d1fd6(0x18d)+_0x119ca4);_0x41c0cc=_0x2f2977['currentSessionDetails']['platform'],_0x57ad3e=_0x2f2977[_0x1d1fd6(0x1fc)][_0x1d1fd6(0x14f)];}}}else{_0x42d896&&_0x42d896['project'][_0x1d1fd6(0x1af)][_0x1d1fd6(0x19c)]?_0x119ca4=_0x192688[_0x1d1fd6(0x16d)](getBrowserNameFromChannel,_0x42d896[_0x1d1fd6(0x1b2)][_0x1d1fd6(0x1af)][_0x1d1fd6(0x19c)]):_0x119ca4=_0x192688[_0x1d1fd6(0x19e)](_0x192688[_0x1d1fd6(0x1e2)],_0x119ca4['toLowerCase']());const _0x319723=await _0x192688[_0x1d1fd6(0x199)](getPlatformDetails);_0x41c0cc=_0x319723[_0x1d1fd6(0x18c)],_0x57ad3e=_0x319723['platformVersion'];}const _0x214aa1={};_0x214aa1[_0x1d1fd6(0x1f5)]=_0x119ca4,_0x214aa1[_0x1d1fd6(0x16b)]=_0x2c2aac,_0x214aa1[_0x1d1fd6(0x1c1)]={},_0x214aa1['platform']=_0x41c0cc,_0x214aa1[_0x1d1fd6(0x14f)]=_0x57ad3e,_0x214aa1[_0x1d1fd6(0x139)]=_0x4dceed;const _0xead54c=_0x214aa1;_0x3e3f38&&(_0xead54c[_0x1d1fd6(0x1c1)][_0x1d1fd6(0x189)]=_0x3e3f38);const _0x50a7a5={};_0x50a7a5[_0x1d1fd6(0x142)]=_0x2b23ff,_0x2f2977[_0x1d1fd6(0x1fc)]=Object[_0x1d1fd6(0x188)]({},_0x2f2977[_0x1d1fd6(0x1fc)],_0x50a7a5,_0xead54c);const _0x19ffed={};_0x19ffed[_0x1d1fd6(0x1f5)]=_0x2f2977[_0x1d1fd6(0x1fc)][_0x1d1fd6(0x1f5)],_0x19ffed[_0x1d1fd6(0x1d6)]=_0x2f2977[_0x1d1fd6(0x1fc)]['browser_version'],_0x19ffed[_0x1d1fd6(0x19b)]=_0x2f2977[_0x1d1fd6(0x1fc)]['platform'],_0x19ffed['platformVersion']=_0x2f2977[_0x1d1fd6(0x1fc)]['platform_version'],_0x19ffed[_0x1d1fd6(0x142)]=_0x2f2977[_0x1d1fd6(0x1fc)][_0x1d1fd6(0x142)],_0x19ffed[_0x1d1fd6(0x139)]=_0x2f2977[_0x1d1fd6(0x1fc)][_0x1d1fd6(0x139)],logger[_0x1d1fd6(0x143)](_0x1d1fd6(0x1d0)+JSON[_0x1d1fd6(0x16e)](_0x19ffed));},_0x192688[_0x146800(0x1fa)])(_0x1243f8,_0x3fd167,_0xc3b92d);}static[a6_0x5a2740(0x166)](){const _0x3dd0eb=a6_0x5a2740;this[_0x3dd0eb(0x1cd)](),this[_0x3dd0eb(0x18b)]();}static[a6_0x5a2740(0x1cd)](){const _0x58eae9=a6_0x5a2740,_0x501f87={'JvNIr':function(_0xfbd510,_0x28542b){return _0xfbd510(_0x28542b);},'QkNOu':function(_0x80bb68,_0x1034cf){return _0x80bb68(_0x1034cf);},'uanNM':'lib','ctskc':_0x58eae9(0x1f9),'TLffq':_0x58eae9(0x1bb),'MOqCa':function(_0x4890b4,_0x155f54){return _0x4890b4(_0x155f54);},'BRONE':'Not\x20able\x20to\x20import\x20Connection\x20class\x20from\x20any\x20path','IlVDD':function(_0x2ee3de,_0x30150e){return _0x2ee3de!=_0x30150e;},'gjSXn':_0x58eae9(0x1b5),'tkzGf':'dispatch','jnOsN':_0x58eae9(0x18e),'bCZWf':function(_0x5bbae3,_0x5b49dc){return _0x5bbae3(_0x5b49dc);}},_0x3fcc27=this;if(!this[_0x58eae9(0x16f)])try{const _0x484f58=[path['join'](_0x501f87[_0x58eae9(0x1db)],_0x501f87['ctskc'],_0x501f87[_0x58eae9(0x1d7)]),path[_0x58eae9(0x162)](_0x501f87[_0x58eae9(0x1db)],_0x501f87[_0x58eae9(0x1d7)]),path[_0x58eae9(0x162)](_0x501f87[_0x58eae9(0x1b0)],_0x501f87['TLffq'])];for(const _0xd0da8f of _0x484f58){try{const _0x2e43e0=_0x501f87[_0x58eae9(0x19d)](importFileFromPWCore,_0xd0da8f);if(_0x2e43e0&&_0x2e43e0[_0x58eae9(0x16f)]){this[_0x58eae9(0x16f)]=_0x2e43e0[_0x58eae9(0x16f)],logger[_0x58eae9(0x143)](_0x58eae9(0x1d1)+_0xd0da8f);break;}}catch(_0x2bf93b){_0x501f87[_0x58eae9(0x19d)](debug,_0x58eae9(0x1d9)+_0xd0da8f+':\x20'+_0x2bf93b[_0x58eae9(0x154)]());}}if(!this[_0x58eae9(0x16f)]){_0x501f87[_0x58eae9(0x147)](debug,_0x501f87[_0x58eae9(0x1e4)]);return;}}catch(_0x4f6e39){_0x501f87[_0x58eae9(0x19d)](debug,_0x58eae9(0x13f)+_0x4f6e39[_0x58eae9(0x154)]());return;}const _0x401efc=this[_0x58eae9(0x16f)];try{if(_0x501f87['IlVDD'](_0x401efc,null)){const _0x5e9b82=_0x401efc[_0x58eae9(0x1ea)][_0x58eae9(0x13e)];if(!_0x501f87['QkNOu'](isFalse,process[_0x58eae9(0x1cc)][_0x58eae9(0x1a5)])){if(_0x401efc[_0x58eae9(0x1ea)][_0x58eae9(0x141)]){logger[_0x58eae9(0x143)](_0x501f87[_0x58eae9(0x168)]);return;}Object[_0x58eae9(0x172)](_0x401efc[_0x58eae9(0x1ea)],_0x501f87[_0x58eae9(0x1e6)],{'get':function(){const _0x875ce9={'ZdSyp':function(_0x1e7f45,_0x58f739){const _0x56b311=a6_0x17ba;return _0x501f87[_0x56b311(0x147)](_0x1e7f45,_0x58f739);},'ECdBd':function(_0x56693d,_0x1d0ffe){return _0x501f87['QkNOu'](_0x56693d,_0x1d0ffe);}};return async function _0x15a9de(_0x4c3b21){const _0x406288=a6_0x17ba;if(BrowserstackCLI[_0x406288(0x1f4)]()[_0x406288(0x1a7)]()){const _0x398f86={};_0x398f86[_0x406288(0x182)]=_0x4c3b21,await BrowserstackCLI[_0x406288(0x1f4)]()[_0x406288(0x17b)]()[_0x406288(0x1d8)](AutomationFrameworkState['PLAYWRIGHT_DISPATCH'],HookState[_0x406288(0x164)],_0x398f86);}else{const _0x327e84=_0x4c3b21&&_0x4c3b21[_0x406288(0x1c2)]&&_0x4c3b21['params'][_0x406288(0x1a1)];if(_0x327e84){const _0xdc342f=_0x327e84[_0x406288(0x150)],_0xe785f=_0x327e84[_0x406288(0x13a)];_0xe785f&&(_0x875ce9[_0x406288(0x18f)](debug,_0x406288(0x161)+_0xe785f[_0x406288(0x154)]()),_0x3fcc27[_0x406288(0x1fc)][_0x406288(0x19b)]=_0xe785f['platformName'],_0x3fcc27[_0x406288(0x1fc)]['platform_version']=_0xe785f['platformVersion']),_0xdc342f&&(_0x875ce9[_0x406288(0x15c)](debug,_0x406288(0x1bd)+_0xdc342f),_0x3fcc27[_0x406288(0x1fc)][_0x406288(0x1aa)]=_0xdc342f);}}return _0x5e9b82[_0x406288(0x1ac)](this,arguments);};}}),_0x401efc[_0x58eae9(0x1ea)][_0x58eae9(0x141)]=!![],logger[_0x58eae9(0x143)](_0x501f87['jnOsN']);}}}catch(_0x4ea56c){_0x501f87[_0x58eae9(0x14b)](debug,'Error\x20in\x20applying\x20Connection\x20patch\x20'+_0x4ea56c),_0x3fcc27[_0x58eae9(0x146)]=_0x4ea56c[_0x58eae9(0x154)]();}}static[a6_0x5a2740(0x18b)](){const _0x5cef9e=a6_0x5a2740,_0xaa630a={'otZVK':function(_0x277c62,_0x461aea){return _0x277c62(_0x461aea);},'tSagX':_0x5cef9e(0x177),'emfei':_0x5cef9e(0x1a3),'aLhRs':_0x5cef9e(0x1e3),'fSeMb':_0x5cef9e(0x15b),'BaMRP':function(_0xb156d8,_0x35f12c){return _0xb156d8(_0x35f12c);},'cBaMr':'Not\x20able\x20to\x20import\x20crConnection','SQnWI':_0x5cef9e(0x167),'PfkPo':function(_0x4d7cdb,_0x4f936d){return _0x4d7cdb!=_0x4f936d;},'GGdip':_0x5cef9e(0x1ce),'tAcAA':_0x5cef9e(0x176),'gSbFQ':'Successfully\x20patched\x20CRConnection._onMessage\x20for\x20Cucumber.js'},_0x1007b0=this;let _0x22212a=null;try{const _0x2b3e37=path['join'](_0xaa630a[_0x5cef9e(0x17e)],_0xaa630a['emfei'],_0xaa630a[_0x5cef9e(0x1b7)],_0xaa630a[_0x5cef9e(0x1d4)]),_0x24c8c0=_0xaa630a[_0x5cef9e(0x157)](importFileFromPWCore,_0x2b3e37);!_0x24c8c0?_0xaa630a[_0x5cef9e(0x140)](debug,_0xaa630a[_0x5cef9e(0x138)]):_0x22212a=_0x24c8c0[_0x5cef9e(0x170)];}catch(_0x369735){_0xaa630a[_0x5cef9e(0x140)](debug,_0xaa630a['SQnWI']);}try{if(_0xaa630a[_0x5cef9e(0x195)](_0x22212a,null)){const _0x310b47=_0x22212a[_0x5cef9e(0x1ea)]['_onMessage'];if(_0x22212a[_0x5cef9e(0x1ea)][_0x5cef9e(0x1f0)]){logger['debug'](_0xaa630a[_0x5cef9e(0x1df)]);return;}Object[_0x5cef9e(0x172)](_0x22212a['prototype'],_0xaa630a[_0x5cef9e(0x1ab)],{'get':function(){return async function _0x21ab58(_0x55469b){const _0x302ec2=a6_0x17ba;try{if(BrowserstackCLI[_0x302ec2(0x1f4)]()[_0x302ec2(0x1a7)]()){const _0x543d39={};_0x543d39[_0x302ec2(0x182)]=_0x55469b,await BrowserstackCLI['getInstance']()[_0x302ec2(0x17b)]()[_0x302ec2(0x1d8)](AutomationFrameworkState[_0x302ec2(0x1de)],HookState[_0x302ec2(0x164)],_0x543d39),delete _0x55469b['bStackParams'];}else{const _0x5282dd=_0x55469b['bStackParams'];if(_0x5282dd){delete _0x55469b[_0x302ec2(0x148)];const _0x128773=_0x5282dd['sessionId'],_0x2e801a=_0x5282dd[_0x302ec2(0x13a)];_0x2e801a&&(_0xaa630a['otZVK'](debug,'Setting\x20platform\x20details\x20received\x20from\x20browserstack:\x20'+_0x2e801a['toString']()),_0x1007b0[_0x302ec2(0x1fc)][_0x302ec2(0x19b)]=_0x2e801a[_0x302ec2(0x18c)],_0x1007b0[_0x302ec2(0x1fc)][_0x302ec2(0x14f)]=_0x2e801a['platformVersion']),_0x128773&&(_0xaa630a[_0x302ec2(0x157)](debug,_0x302ec2(0x1a6)+_0x128773),_0x1007b0[_0x302ec2(0x1fc)][_0x302ec2(0x1aa)]=_0x128773);}}}catch(_0x40c1b3){_0xaa630a[_0x302ec2(0x157)](debug,'Error\x20in\x20finding\x20platform\x20details\x20'+_0x40c1b3[_0x302ec2(0x154)]());}return _0x310b47[_0x302ec2(0x1ac)](this,arguments);};}}),_0x22212a['prototype'][_0x5cef9e(0x1f0)]=!![],logger['debug'](_0xaa630a[_0x5cef9e(0x144)]);}}catch(_0x6c5e8b){_0xaa630a[_0x5cef9e(0x157)](debug,_0x5cef9e(0x1eb)+_0x6c5e8b),_0x1007b0[_0x5cef9e(0x146)]=_0x6c5e8b[_0x5cef9e(0x154)]();}}static['extractBrowserStackParams'](_0x1b15f0,_0x2ea2cf){const _0xf5849d=a6_0x5a2740,_0x4c6762={'vcEfA':_0xf5849d(0x196),'YNcLl':function(_0xdb563f,_0x412531){return _0xdb563f||_0x412531;},'qthYU':function(_0x3442bf,_0x2927a3){return _0x3442bf===_0x2927a3;},'DdYSI':_0xf5849d(0x1c5),'cYDYI':'BrowserStack\x20params\x20extracted\x20from\x20WebSocket\x20endpoint','IHdQF':function(_0x1b42c1,_0x344a52){return _0x1b42c1(_0x344a52);},'IvuIK':function(_0x453d18,_0x44521e){return _0x453d18(_0x44521e);}};let _0x46e262=null,_0x5f0d58=null;try{const _0xb1674e=[_0x2ea2cf,global[_0xf5849d(0x186)],global[_0xf5849d(0x1cf)]];for(const _0x26ace8 of _0xb1674e){if(_0x26ace8&&(!_0x5f0d58||!_0x5f0d58['sessionId'])){const _0x1b04be=_0x26ace8[_0xf5849d(0x150)]||_0x26ace8[_0x4c6762[_0xf5849d(0x1bc)]]?.[_0xf5849d(0x150)],_0x4ca448=_0x26ace8['browserName']||_0x26ace8['browser']||_0x26ace8[_0x4c6762[_0xf5849d(0x1bc)]]?.[_0xf5849d(0x165)],_0x3d8fb6=_0x26ace8[_0xf5849d(0x1d6)]||_0x26ace8[_0xf5849d(0x16b)]||_0x26ace8[_0x4c6762[_0xf5849d(0x1bc)]]?.[_0xf5849d(0x1d6)],_0x595b8e=_0x26ace8['os']||_0x26ace8['platform']||_0x26ace8[_0x4c6762['vcEfA']]?.['os'],_0x3ea643=_0x26ace8[_0xf5849d(0x17c)]||_0x26ace8[_0xf5849d(0x198)]||_0x26ace8[_0x4c6762[_0xf5849d(0x1bc)]]?.[_0xf5849d(0x17c)];if(_0x4c6762['YNcLl'](_0x1b04be,_0x4ca448)||_0x595b8e){const _0x41858c={};_0x41858c[_0xf5849d(0x165)]=_0x4ca448,_0x41858c[_0xf5849d(0x1d6)]=_0x3d8fb6,_0x41858c['os']=_0x595b8e,_0x41858c[_0xf5849d(0x17c)]=_0x3ea643,_0x41858c[_0xf5849d(0x18c)]=_0x26ace8['platformName']||_0x595b8e,_0x41858c[_0xf5849d(0x191)]=_0x26ace8[_0xf5849d(0x191)]||_0x3ea643;const _0x9ce6a0={};_0x9ce6a0[_0xf5849d(0x150)]=_0x1b04be,_0x9ce6a0['platformDetails']=_0x41858c,_0x5f0d58=_0x9ce6a0;if(_0x4c6762['YNcLl'](_0x1b04be,_0x4ca448)){logger['debug']('BrowserStack\x20params\x20extracted\x20from\x20capabilities:\x20browser='+_0x4ca448+',\x20os='+_0x595b8e);break;}}}}if(_0x1b15f0&&_0x4c6762[_0xf5849d(0x17f)](typeof _0x1b15f0,_0x4c6762[_0xf5849d(0x1c9)]))try{const _0x442fb5=url[_0xf5849d(0x18a)](_0x1b15f0),_0x51671b=new URLSearchParams(_0x442fb5[_0xf5849d(0x1d5)]),_0x48a39b=Object['fromEntries'](_0x51671b[_0xf5849d(0x153)]()),_0x55eabf=[_0x48a39b[_0xf5849d(0x1f8)],_0x48a39b[_0xf5849d(0x1c1)],_0x48a39b[_0xf5849d(0x1f6)]];for(const _0x3fe3e3 of _0x55eabf){if(_0x3fe3e3&&(!_0x46e262||!_0x46e262[_0xf5849d(0x150)]))try{const _0x2b105b=JSON[_0xf5849d(0x18a)](_0x3fe3e3),_0x527fdc={};_0x527fdc[_0xf5849d(0x150)]=_0x2b105b[_0xf5849d(0x150)]||_0x2b105b[_0x4c6762['vcEfA']]?.[_0xf5849d(0x150)],_0x527fdc[_0xf5849d(0x13a)]={},_0x527fdc[_0xf5849d(0x13a)][_0xf5849d(0x165)]=_0x2b105b[_0xf5849d(0x165)]||_0x2b105b[_0xf5849d(0x1f5)],_0x527fdc[_0xf5849d(0x13a)]['browserVersion']=_0x2b105b[_0xf5849d(0x1d6)]||_0x2b105b[_0xf5849d(0x16b)],_0x527fdc[_0xf5849d(0x13a)]['os']=_0x2b105b['os']||_0x2b105b['platform'],_0x527fdc[_0xf5849d(0x13a)][_0xf5849d(0x17c)]=_0x2b105b[_0xf5849d(0x17c)]||_0x2b105b[_0xf5849d(0x198)],_0x527fdc[_0xf5849d(0x13a)]['platformName']=_0x2b105b[_0xf5849d(0x18c)]||_0x2b105b['os']||_0x2b105b[_0xf5849d(0x19b)],_0x527fdc[_0xf5849d(0x13a)][_0xf5849d(0x191)]=_0x2b105b[_0xf5849d(0x191)]||_0x2b105b['osVersion']||_0x2b105b[_0xf5849d(0x198)],_0x46e262=_0x527fdc;if(_0x46e262[_0xf5849d(0x150)]||_0x46e262[_0xf5849d(0x13a)][_0xf5849d(0x165)]){logger[_0xf5849d(0x143)](_0x4c6762['cYDYI']);break;}}catch(_0x2fd948){_0x4c6762[_0xf5849d(0x1a2)](debug,_0xf5849d(0x1e0)+_0x2fd948[_0xf5849d(0x154)]());}}}catch(_0x405305){_0x4c6762['IvuIK'](debug,_0xf5849d(0x15d)+_0x405305['toString']());}}catch(_0x3dcdcb){_0x4c6762[_0xf5849d(0x1a2)](debug,_0xf5849d(0x1dc)+util[_0xf5849d(0x1f2)](_0x3dcdcb));}const _0x54b50c={};return _0x54b50c[_0xf5849d(0x1a1)]=_0x46e262,_0x54b50c[_0xf5849d(0x148)]=_0x5f0d58,_0x54b50c;}static async[a6_0x5a2740(0x159)](_0x4fa450,_0x25a77c){const _0x487392=a6_0x5a2740,_0x447d8f={'LUqrn':function(_0x5cd032,_0x289914){return _0x5cd032||_0x289914;},'bMLNU':_0x487392(0x19f),'GObrx':function(_0x4eef31,_0xf30e7b){return _0x4eef31(_0xf30e7b);}};try{if(!BrowserstackCLI[_0x487392(0x1f4)]()[_0x487392(0x1a7)]())return;if(_0x447d8f[_0x487392(0x1f1)](_0x4fa450,_0x25a77c)){logger[_0x487392(0x143)](_0x447d8f['bMLNU']);const _0x11838a={'params':_0x4fa450?{'bsParams':_0x4fa450}:null,'bStackParams':_0x447d8f[_0x487392(0x1f1)](_0x25a77c,null)},_0x3c4af0=AutomationFramework[_0x487392(0x1f7)](),_0x1856e2={};_0x1856e2[_0x487392(0x182)]=_0x11838a,_0x1856e2[_0x487392(0x179)]=_0x3c4af0,await BrowserstackCLI[_0x487392(0x1f4)]()['getAutomationFramework']()[_0x487392(0x1d8)](AutomationFrameworkState[_0x487392(0x1de)],HookState['POST'],_0x1856e2);}}catch(_0x620b61){_0x447d8f[_0x487392(0x155)](debug,'Error\x20triggering\x20PLAYWRIGHT_DISPATCH\x20event:\x20'+util['format'](_0x620b61));}}static[a6_0x5a2740(0x1ed)](){const _0x431b44=a6_0x5a2740;return this[_0x431b44(0x1fc)];}}module['exports']=CucumberSessionDetails;