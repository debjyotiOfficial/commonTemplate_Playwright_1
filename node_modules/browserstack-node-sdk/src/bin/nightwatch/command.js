#!/usr/bin/env node
'use strict';const a38_0x2eee70=a38_0x1fe6;(function(_0x13e1a7,_0x34aa0b){const _0x6b201c=a38_0x1fe6,_0x51d324=_0x13e1a7();while(!![]){try{const _0x4a6a71=-parseInt(_0x6b201c(0x199))/0x1+-parseInt(_0x6b201c(0x1ad))/0x2+parseInt(_0x6b201c(0x1c9))/0x3+-parseInt(_0x6b201c(0x1bc))/0x4*(-parseInt(_0x6b201c(0x1a5))/0x5)+parseInt(_0x6b201c(0x1c7))/0x6+-parseInt(_0x6b201c(0x1d1))/0x7*(-parseInt(_0x6b201c(0x195))/0x8)+parseInt(_0x6b201c(0x1be))/0x9*(parseInt(_0x6b201c(0x1c0))/0xa);if(_0x4a6a71===_0x34aa0b)break;else _0x51d324['push'](_0x51d324['shift']());}catch(_0x160a19){_0x51d324['push'](_0x51d324['shift']());}}}(a38_0x183d,0xe270c));function a38_0x1fe6(_0x225f46,_0x57622e){const _0x183d88=a38_0x183d();return a38_0x1fe6=function(_0x1fe6e9,_0x86ab8){_0x1fe6e9=_0x1fe6e9-0x194;let _0x5f5df7=_0x183d88[_0x1fe6e9];return _0x5f5df7;},a38_0x1fe6(_0x225f46,_0x57622e);}const fs=require('fs'),path=require(a38_0x2eee70(0x1a1)),{spawn}=require(a38_0x2eee70(0x1cc)),logger=require('../../helpers/logger')[a38_0x2eee70(0x1bb)],{default:BrowserStackSetup}=require(a38_0x2eee70(0x1ce)),helper=require(a38_0x2eee70(0x1d9)),constants=require(a38_0x2eee70(0x1b5)),getUserNightwatchConfigs=(_0xe0537d,_0x24625e)=>{const _0x5971e2=a38_0x2eee70,_0x1ad4ab={'NXeiI':_0x5971e2(0x1d6),'oJxXw':_0x5971e2(0x1ac),'Fgnyo':function(_0x36fa61,_0x4c0d8c){return _0x36fa61(_0x4c0d8c);},'EMzBo':'Couldn\x27t\x20find\x20any\x20config\x20file.\x20Generating\x20new\x20config\x20file'};let _0x318703=null,_0x166344={};const _0x25cb44=_0x24625e[_0x5971e2(0x1b4)](_0x332501=>_0x332501===_0x5971e2(0x1b9));if(!helper[_0x5971e2(0x1bf)](_0xe0537d[_0x5971e2(0x1a7)])&&fs['existsSync'](path[_0x5971e2(0x1db)](process[_0x5971e2(0x196)](),_0xe0537d['config'])))_0x318703=path['join'](process[_0x5971e2(0x196)](),_0xe0537d[_0x5971e2(0x1a7)]),_0x24625e[_0x5971e2(0x1c4)](_0x25cb44,0x2);else{if(fs[_0x5971e2(0x1da)](path[_0x5971e2(0x1db)](process[_0x5971e2(0x196)](),_0x1ad4ab['NXeiI'])))_0x318703=path['join'](process['cwd'](),_0x1ad4ab[_0x5971e2(0x1d4)]);else fs[_0x5971e2(0x1da)](path['join'](process['cwd'](),_0x1ad4ab[_0x5971e2(0x1b2)]))&&(_0x318703=path[_0x5971e2(0x1db)](process['cwd'](),_0x1ad4ab[_0x5971e2(0x1b2)]));}return _0x318703?(logger['info']('Getting\x20your\x20nightwatch\x20configs\x20from\x20'+_0x318703),_0x166344=_0x1ad4ab['Fgnyo'](require,_0x318703)):logger[_0x5971e2(0x1af)](_0x1ad4ab['EMzBo']),_0x166344;},removeExistingEnvs=_0x1712f=>{const _0x3862a3=a38_0x2eee70,_0x48813c={};_0x48813c[_0x3862a3(0x1d2)]=function(_0x3257e7,_0x371fd0){return _0x3257e7>_0x371fd0;};const _0x570133=_0x48813c;let _0x56d20c=_0x1712f[_0x3862a3(0x1b4)](_0x26a855=>_0x26a855===_0x3862a3(0x19e));_0x570133['LeWAe'](_0x56d20c,-0x1)&&_0x1712f[_0x3862a3(0x1c4)](_0x56d20c,0x2),_0x56d20c=_0x1712f['findIndex'](_0x5d3355=>_0x5d3355==='-e'),_0x570133[_0x3862a3(0x1d2)](_0x56d20c,-0x1)&&_0x1712f[_0x3862a3(0x1c4)](_0x56d20c,0x2);};function run(_0x2e2869,_0x5410c2,_0x1a91d8){const _0x2dc644=a38_0x2eee70,_0x5a7558={'QpqiR':_0x2dc644(0x19d),'lsODy':function(_0x4112cc,_0x3c49b7){return _0x4112cc+_0x3c49b7;},'xEBhz':_0x2dc644(0x1b1),'EgwgA':function(_0x4cedd8,_0x57a146,_0x405c4f){return _0x4cedd8(_0x57a146,_0x405c4f);},'MfiFU':_0x2dc644(0x1cf),'cMkOD':_0x2dc644(0x1bd),'gKgfb':function(_0x4fc14f,_0x3b0c33){return _0x4fc14f===_0x3b0c33;},'zxmyV':_0x2dc644(0x1ab),'XFEos':function(_0x47b599,_0x1ced0d){return _0x47b599(_0x1ced0d);},'ZqwiV':function(_0x2961d9,_0x8bafc3,_0x3bff35,_0x23283f){return _0x2961d9(_0x8bafc3,_0x3bff35,_0x23283f);},'wqUBl':_0x2dc644(0x1b0),'PYULK':_0x2dc644(0x1b9),'SHovc':'--env','WinQc':'inherit','SwwQV':_0x2dc644(0x1cd)};if(!_0x1a91d8[_0x2dc644(0x1a7)])return;const _0x5c01f5=_0x5a7558['EgwgA'](getUserNightwatchConfigs,_0x2e2869,_0x5410c2),_0x2f29c2={};_0x2f29c2[_0x2dc644(0x1c5)]=![];const _0x5be892={};_0x5be892[_0x2dc644(0x1a4)]=_0x5a7558[_0x2dc644(0x1c8)],_0x5be892[_0x2dc644(0x1c6)]=0x1bb;const _0x58860c={};_0x58860c[_0x2dc644(0x1b6)]=_0x2f29c2,_0x58860c[_0x2dc644(0x19b)]=_0x5be892;const _0x43d6cc=_0x58860c;logger['info'](_0x5a7558[_0x2dc644(0x1c1)]);const _0x7b015d={..._0x5c01f5},_0x483940=_0x7b015d,_0x33272b=helper[_0x2dc644(0x1d7)](_0x1a91d8['config']),_0x40ade0=[];_0x1a91d8['config']['platforms']['forEach']((_0x1d3a8b,_0x1c21fb)=>{const _0x763b70=_0x2dc644;_0x33272b?_0x40ade0[_0x763b70(0x1aa)](helper[_0x763b70(0x197)](_0x1a91d8[_0x763b70(0x1a7)],_0x5a7558[_0x763b70(0x1b7)],_0x1c21fb)):_0x40ade0['push'](helper[_0x763b70(0x19f)](_0x1a91d8['config'],_0x5a7558['QpqiR'],_0x1c21fb));});const _0x228ae8={},_0x157c28=[];_0x2e2869[_0x2dc644(0x19c)]=_0x2e2869['env']||_0x2e2869['e'];const _0x43c9d3=_0x2e2869[_0x2dc644(0x19c)]?_0x2e2869[_0x2dc644(0x19c)][_0x2dc644(0x1a3)]()[_0x2dc644(0x1ae)](',')[_0x2dc644(0x1a9)](_0x129447=>_0x129447[_0x2dc644(0x1a3)]())[_0x2dc644(0x1c2)](_0x1f9503=>_0x1f9503!==''):[''];_0x5a7558[_0x2dc644(0x1c3)](_0x43c9d3['length'],0x0)&&_0x43c9d3[_0x2dc644(0x1aa)]('');_0x43c9d3[_0x2dc644(0x1a2)](_0x13cd89=>{const _0x58eb5e=_0x2dc644,_0x5a4b93={'vCkeN':function(_0x2083b1,_0x3e0e0b){return _0x5a7558['lsODy'](_0x2083b1,_0x3e0e0b);},'JYfKK':_0x5a7558[_0x58eb5e(0x194)]};_0x40ade0[_0x58eb5e(0x1a2)](_0xee8675=>{const _0x1be268=_0x58eb5e;let _0x1f46e5=_0x5a4b93[_0x1be268(0x1a8)](helper[_0x1be268(0x1d5)](_0xee8675,'_'),'_'+Date['now']());_0x13cd89&&(_0x1f46e5+='_'+_0x13cd89);if(_0x13cd89&&(!_0x5c01f5[_0x5a4b93[_0x1be268(0x1b3)]]||!_0x5c01f5[_0x5a4b93['JYfKK']][_0x13cd89]))return;const _0x4ea162={..._0x43d6cc};_0x4ea162[_0x1be268(0x1ca)]=_0xee8675;const _0x536244=_0x4ea162;_0x228ae8[_0x1f46e5]=_0x13cd89?helper['mergeDeep'](_0x5c01f5[_0x5a4b93[_0x1be268(0x1b3)]][_0x13cd89],_0x536244):_0x536244,_0x157c28[_0x1be268(0x1aa)](_0x1f46e5);});});!_0x483940[_0x2dc644(0x1b1)]&&(_0x483940[_0x2dc644(0x1b1)]={});_0x483940[_0x2dc644(0x1b1)]={..._0x483940['test_settings'],..._0x228ae8};const _0x330d00=path[_0x2dc644(0x1db)](__dirname,_0x5a7558[_0x2dc644(0x198)]);fs['writeFileSync'](_0x330d00,JSON[_0x2dc644(0x1a0)](_0x483940)),_0x5a7558[_0x2dc644(0x1d8)](removeExistingEnvs,_0x5410c2);const _0x5cb2bb=_0x5a7558['ZqwiV'](spawn,/^win/['test'](process[_0x2dc644(0x19a)])?_0x5a7558['wqUBl']:_0x5a7558[_0x2dc644(0x1b7)],[_0x5a7558[_0x2dc644(0x1d3)],_0x330d00,..._0x5410c2[_0x2dc644(0x1d0)](0x1),_0x5a7558[_0x2dc644(0x1a6)],_0x157c28[_0x2dc644(0x1db)](',')],{'stdio':_0x5a7558['WinQc']});_0x5cb2bb['on'](_0x5a7558[_0x2dc644(0x1ba)],async _0x3ba13c=>{const _0x4392cc=_0x2dc644;logger['debug']('child\x20process\x20exited\x20with\x20code\x20'+_0x3ba13c),logger['info']('Deleting\x20'+_0x330d00),fs[_0x4392cc(0x1cb)](_0x330d00);});}module[a38_0x2eee70(0x1b8)]=run;function a38_0x183d(){const _0x49927a=['test_settings','oJxXw','JYfKK','findIndex','../utils/constants','webdriver','QpqiR','exports','--config','SwwQV','winstonLogger','1164OpAHAQ','Adding\x20browserstack\x20configs\x20to\x20run\x20tests\x20on\x20BrowserStack','171goBuEh','isUndefined','778220YjsZUh','cMkOD','filter','gKgfb','splice','start_process','port','7174440HCsVZw','MfiFU','1417788TPnSvG','desiredCapabilities','unlinkSync','child_process','close','../../helpers/BrowserStackSetup','hub.browserstack.com','slice','3402uzIAtF','LeWAe','PYULK','NXeiI','getPlatformName','nightwatch.conf.js','useW3C','XFEos','../../helpers/helper','existsSync','join','xEBhz','1632QbnzfF','cwd','modifyBrowserStackW3CCaps','zxmyV','1369540LwMjmy','platform','selenium','env','nightwatch','--env','modifyBrowserStackCaps','stringify','path','forEach','trim','host','8855jkZuZu','SHovc','config','vCkeN','map','push','nightwatch-browserstack.json','nightwatch.json','2928838jhvijX','split','info','nightwatch.cmd'];a38_0x183d=function(){return _0x49927a;};return a38_0x183d();}