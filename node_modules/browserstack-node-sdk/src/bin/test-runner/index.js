const a51_0x1369a7=a51_0xe526;function a51_0x2408(){const _0x35633a=['zXirO','ggvLe','exit','pipe','map','Workers\x20failed\x20to\x20exit\x20gracefully','87556jlDgHX','vanillaWorker','\x20for','getWorkers','getStdout','62236kHsnfB','12067119BsOYbb','YBuOQ','then','19068vYVzgW','UNSTABLE_onCustomMessage','parallelCucumberRun','winstonLogger','platform','parallelTestRun','test-file-success','wfVQt','IlZCo','config','cQCEC','../../helpers/performance/constants','sXGDL','QpzVp','platforms','wcGug','platform-run-failure','Running\x20','../../helpers/testhub/testhubHandler','length','error','format','results','emit','gTllp','NwyvT','UJcDG','../../helpers/test-observability/utils','platformCaps','546HREOqY','BNzuQ','p-limit','nUsQi','worker','15kYkEkb','parallelVanillaRun','PRXxw','mcOFO','MgtXB','waitForExit','Exception\x20in\x20adding\x20custom\x20message\x20channel\x20','HuTzR','XsDmS','getStderr','xkCKl','resolve','../../helpers/performance/performance-tester','EpGjI','postMessage','BUplJ','util','JrUeU','795843wCRQAe','push','cucumberWorker','exitCode','FQknO','stderr','EVENTS','gvvAF','configuration','./testWorker.js','stdout','zWNxZ','json','debug','etYsG','HOlHi','test-file-failure','all','Exception\x20in\x20sending\x20worker\x20message\x20','worker_threads','DoZco','Exception\x20in\x20stop\x20build\x20request\x20to\x20Testhub\x20:\x20','_child','log','end','failureCount','file','1318024Kwtqoq','info','79806VdeMSw','send'];a51_0x2408=function(){return _0x35633a;};return a51_0x2408();}(function(_0x164a44,_0x14eb46){const _0x238220=a51_0xe526,_0x2c9fb7=_0x164a44();while(!![]){try{const _0x4f9220=-parseInt(_0x238220(0x178))/0x1+-parseInt(_0x238220(0x180))/0x2+-parseInt(_0x238220(0x15b))/0x3+parseInt(_0x238220(0x123))/0x4*(-parseInt(_0x238220(0x149))/0x5)+parseInt(_0x238220(0x127))/0x6*(-parseInt(_0x238220(0x144))/0x7)+-parseInt(_0x238220(0x176))/0x8+parseInt(_0x238220(0x124))/0x9;if(_0x4f9220===_0x14eb46)break;else _0x2c9fb7['push'](_0x2c9fb7['shift']());}catch(_0x37cf24){_0x2c9fb7['push'](_0x2c9fb7['shift']());}}}(a51_0x2408,0x78444));function a51_0xe526(_0x12353c,_0x219347){const _0x240875=a51_0x2408();return a51_0xe526=function(_0xe52617,_0xbd94fa){_0xe52617=_0xe52617-0x122;let _0x29d059=_0x240875[_0xe52617];return _0x29d059;},a51_0xe526(_0x12353c,_0x219347);}const Worker=require('jest-worker')['Worker'],Emittery=require('emittery'),pLimit=require(a51_0x1369a7(0x146)),{parentPort}=require(a51_0x1369a7(0x16e)),util=require(a51_0x1369a7(0x159)),logger=require('../../helpers/logger')[a51_0x1369a7(0x12a)],PerformanceTester=require(a51_0x1369a7(0x155)),PerformanceEvents=require(a51_0x1369a7(0x132))[a51_0x1369a7(0x161)],{debug}=require(a51_0x1369a7(0x142)),TestHubHandler=require(a51_0x1369a7(0x139));exports[a51_0x1369a7(0x12c)]=(_0x46d203,_0xc8e516,_0x39cd07)=>new Promise(async _0x2f9ef0=>{const _0x19b3cd=a51_0x1369a7,_0x156041={'wfVQt':_0x19b3cd(0x174),'EpGjI':function(_0x2374c8,_0x511b08){return _0x2374c8+_0x511b08;},'gvvAF':_0x19b3cd(0x13d),'RURou':_0x19b3cd(0x17f),'MgtXB':function(_0x27a54e,_0x14e02a){return _0x27a54e(_0x14e02a);},'BnsKD':'test-file-start','EGcwY':_0x19b3cd(0x164),'FQknO':'worker','UJcDG':_0x19b3cd(0x167),'qlhVp':_0x19b3cd(0x17d),'QWrOR':function(_0x50eac8,_0xec7467){return _0x50eac8*_0xec7467;},'cQCEC':_0x19b3cd(0x12d),'nUsQi':_0x19b3cd(0x16b),'QpzVp':function(_0x1bc7cc,_0x40fb50){return _0x1bc7cc(_0x40fb50);}},_0x3a4529=_0x39cd07[_0x19b3cd(0x130)],_0x4a5c9c={},_0x5bad04=new Worker(require[_0x19b3cd(0x154)](_0x156041['EGcwY']),{'exposedMethods':[_0x156041[_0x19b3cd(0x15f)]],'forkOptions':{'serialization':_0x156041[_0x19b3cd(0x141)],'stdio':_0x156041['qlhVp']},'idleMemoryLimit':undefined,'maxRetries':0x1,'numWorkers':_0x156041['QWrOR'](_0xc8e516,0x1),'enableWorkerThreads':!![]}),_0x4045ae=new Emittery();_0x4045ae['on'](_0x156041[_0x19b3cd(0x131)],_0x438f5b=>{const _0x5f619f=_0x19b3cd;_0x4a5c9c[_0x438f5b[0x0]]?(_0x4a5c9c[_0x438f5b[0x0]][_0x156041[_0x5f619f(0x12e)]]=_0x156041[_0x5f619f(0x156)](_0x4a5c9c[_0x438f5b[0x0]][_0x156041[_0x5f619f(0x12e)]],_0x438f5b[0x1][_0x156041[_0x5f619f(0x12e)]]),_0x4a5c9c[_0x438f5b[0x0]][_0x156041[_0x5f619f(0x162)]]=[..._0x4a5c9c[_0x438f5b[0x0]][_0x156041['gvvAF']],..._0x438f5b[0x1][_0x156041[_0x5f619f(0x162)]]]):_0x4a5c9c[_0x438f5b[0x0]]={'failureCount':_0x438f5b[0x1][_0x156041[_0x5f619f(0x12e)]],'results':[..._0x438f5b[0x1][_0x156041['gvvAF']]]};}),_0x4045ae['on'](_0x156041[_0x19b3cd(0x147)],_0xfd210=>console[_0x19b3cd(0x172)](_0xfd210[0x1]));_0x5bad04[_0x19b3cd(0x122)]()&&_0x5bad04[_0x19b3cd(0x122)]()['pipe'](process[_0x19b3cd(0x165)]);_0x5bad04[_0x19b3cd(0x152)]()&&_0x5bad04[_0x19b3cd(0x152)]()['pipe'](process[_0x19b3cd(0x160)]);const _0x4f113f=async()=>{const _0x3ffc62=_0x19b3cd,{forceExited:_0x16b289}=await _0x5bad04[_0x3ffc62(0x173)]();_0x16b289&&console[_0x3ffc62(0x13b)](_0x156041['RURou']);try{await TestHubHandler['stop']();}catch(_0x1e8d5a){_0x156041[_0x3ffc62(0x14d)](debug,_0x3ffc62(0x170)+_0x1e8d5a);}_0x156041[_0x3ffc62(0x14d)](_0x2f9ef0,_0x4a5c9c);},_0x67e376=_0x156041[_0x19b3cd(0x134)](pLimit,_0x156041['QWrOR'](_0xc8e516,0x1)),_0x263143=_0x3e1b3d=>_0x67e376(async()=>{const _0x547081=_0x19b3cd;await _0x4045ae[_0x547081(0x13e)](_0x156041['BnsKD'],_0x3e1b3d);const _0x48fedc=_0x5bad04[_0x547081(0x148)](_0x3e1b3d,_0x3a4529);try{parentPort&&_0x48fedc[_0x547081(0x128)](_0x179884=>{const _0x3338db=_0x547081;try{parentPort[_0x3338db(0x157)](_0x179884);}catch(_0x4aa8f3){logger[_0x3338db(0x168)](_0x3338db(0x16d)+util[_0x3338db(0x13c)](_0x4aa8f3));}});}catch(_0x2706d3){logger[_0x547081(0x168)](_0x547081(0x14f)+util[_0x547081(0x13c)](_0x2706d3));}return _0x48fedc;});PerformanceTester[_0x19b3cd(0x173)](PerformanceEvents['SDK_SETUP']),Promise[_0x19b3cd(0x16c)](_0x46d203[_0x19b3cd(0x17e)](_0x2fd534=>_0x263143(_0x2fd534)[_0x19b3cd(0x126)](_0x483a4a=>_0x4045ae[_0x19b3cd(0x13e)](_0x19b3cd(0x12d),[_0x2fd534[_0x19b3cd(0x163)][_0x19b3cd(0x12b)],_0x483a4a]),_0x51b8bc=>_0x4045ae[_0x19b3cd(0x13e)](_0x19b3cd(0x16b),[_0x2fd534,_0x51b8bc]))))['then'](_0x4f113f,_0x4f113f);}),exports[a51_0x1369a7(0x129)]=(_0x124870,_0x1ee964,_0x3374b7,_0x195629,_0x2931cc)=>{const _0x22df44=a51_0x1369a7,_0x1a78b5={'zWNxZ':'platform-run-start','FEaoZ':_0x22df44(0x17f),'DoZco':function(_0x65537b,_0x5e7fa3){return _0x65537b(_0x5e7fa3);},'wcGug':'./testWorker.js','HuTzR':_0x22df44(0x15d),'etYsG':_0x22df44(0x167),'YBuOQ':_0x22df44(0x17d),'mcOFO':'platform-run-success','IlZCo':_0x22df44(0x137),'BNzuQ':function(_0x377aee,_0x210b03){return _0x377aee(_0x210b03);}};return new Promise(_0x484731=>{const _0x45ee14=_0x22df44,_0x219004={'HOlHi':_0x1a78b5['FEaoZ'],'zGyvx':function(_0x1aefc0,_0x2761a5){const _0x44a83b=a51_0xe526;return _0x1a78b5[_0x44a83b(0x16f)](_0x1aefc0,_0x2761a5);}},_0x1014ad=[],_0xedbeb5=new Worker(require[_0x45ee14(0x154)](_0x1a78b5[_0x45ee14(0x136)]),{'exposedMethods':[_0x1a78b5[_0x45ee14(0x150)]],'forkOptions':{'serialization':_0x1a78b5[_0x45ee14(0x169)],'stdio':_0x1a78b5[_0x45ee14(0x125)]},'numWorkers':_0x124870[_0x45ee14(0x13a)]||0x1,'enableWorkerThreads':!![],'idleMemoryLimit':undefined,'maxRetries':0x1}),_0x33a93b=new Emittery();_0x33a93b['on'](_0x1a78b5[_0x45ee14(0x14c)],_0x781470=>{const _0x1499a2=_0x45ee14;_0x1014ad[_0x1499a2(0x15c)]([_0x781470[0x0],_0x781470[0x1]]);}),_0x33a93b['on'](_0x1a78b5[_0x45ee14(0x12f)],_0x589925=>console[_0x45ee14(0x172)](_0x589925[0x1]));_0xedbeb5[_0x45ee14(0x122)]()&&_0xedbeb5[_0x45ee14(0x122)]()['pipe'](process[_0x45ee14(0x165)]);_0xedbeb5['getStderr']()&&_0xedbeb5[_0x45ee14(0x152)]()[_0x45ee14(0x17d)](process[_0x45ee14(0x160)]);const _0x27cc36=async()=>{const _0x700648=_0x45ee14,{forceExited:_0x483bab}=await _0xedbeb5[_0x700648(0x173)]();_0x483bab&&console[_0x700648(0x13b)](_0x219004[_0x700648(0x16a)]),_0x219004['zGyvx'](_0x484731,_0x1014ad);},_0x46ca27=_0x1a78b5[_0x45ee14(0x145)](pLimit,_0x124870['length']||0x1),_0x4e3591=(_0x1be354,_0x51c7ef)=>_0x46ca27(async()=>{const _0x219a1e=_0x45ee14;return await _0x33a93b[_0x219a1e(0x13e)](_0x1a78b5[_0x219a1e(0x166)],_0x1be354),_0x1ee964[_0x219a1e(0x143)]=_0x3374b7[_0x219a1e(0x135)][_0x51c7ef],_0xedbeb5[_0x219a1e(0x15d)](_0x1be354,_0x1ee964,_0x3374b7,_0x195629,_0x2931cc);});Promise[_0x45ee14(0x16c)](_0x124870['map']((_0x595a2d,_0x3a4b38)=>_0x4e3591(_0x595a2d,_0x3a4b38)[_0x45ee14(0x126)](_0x386fab=>_0x33a93b[_0x45ee14(0x13e)]('platform-run-success',[_0x595a2d,_0x386fab]),_0x352030=>_0x33a93b[_0x45ee14(0x13e)](_0x45ee14(0x137),[_0x595a2d,_0x352030]))))['then'](_0x27cc36,_0x27cc36);});},exports[a51_0x1369a7(0x14a)]=(_0x2248ee,_0x5ae5eb)=>new Promise(_0xda28cb=>{const _0x249f38=a51_0x1369a7,_0x304ad9={'BUplJ':function(_0x2ee6f1,_0x52a52b){return _0x2ee6f1===_0x52a52b;},'JrUeU':function(_0x215a9e,_0x485907){return _0x215a9e!==_0x485907;},'ehvzC':_0x249f38(0x17c),'zXirO':'Workers\x20failed\x20to\x20exit\x20gracefully','XsDmS':function(_0x288b8f,_0x215c6e){return _0x288b8f(_0x215c6e);},'TJRSS':_0x249f38(0x164),'PRXxw':_0x249f38(0x181),'xkCKl':'json','gTllp':'pipe','sXGDL':'test-file-success','NwyvT':_0x249f38(0x16b),'DjxhP':function(_0x54f754,_0x404cf3){return _0x54f754(_0x404cf3);}},_0x4f1715={},_0x39d6e0=new Worker(require[_0x249f38(0x154)](_0x304ad9['TJRSS']),{'exposedMethods':[_0x304ad9[_0x249f38(0x14b)]],'forkOptions':{'serialization':_0x304ad9[_0x249f38(0x153)],'stdio':_0x304ad9[_0x249f38(0x13f)]},'numWorkers':_0x5ae5eb,'enableWorkerThreads':![],'maxRetries':0x1,'idleMemoryLimit':undefined}),_0x4fd713=new Emittery();_0x4fd713['on'](_0x304ad9[_0x249f38(0x133)],_0x164404=>{const _0x3122ac=_0x249f38;_0x164404[0x0]&&logger[_0x3122ac(0x177)](_0x3122ac(0x138)+_0x164404[0x1]+_0x3122ac(0x182),_0x164404[0x0]);}),_0x4fd713['on'](_0x304ad9[_0x249f38(0x140)],_0x319094=>{const _0x4fd388=_0x249f38;process[_0x4fd388(0x15e)]=0x1;});_0x39d6e0[_0x249f38(0x122)]()&&_0x39d6e0['getStdout']()[_0x249f38(0x17d)](process[_0x249f38(0x165)]);_0x39d6e0[_0x249f38(0x152)]()&&_0x39d6e0[_0x249f38(0x152)]()[_0x249f38(0x17d)](process['stderr']);const _0x1815f9=async()=>{const _0x48625b=_0x249f38,_0x49c681={'XUNAH':function(_0x47b9bc,_0x1226c1){const _0x462101=a51_0xe526;return _0x304ad9[_0x462101(0x158)](_0x47b9bc,_0x1226c1);},'ggvLe':function(_0xe2c563,_0x44afea){const _0x2f7f70=a51_0xe526;return _0x304ad9[_0x2f7f70(0x15a)](_0xe2c563,_0x44afea);},'OOcCs':_0x304ad9['ehvzC']};let _0x32c878=0x0;const _0x3550d4=_0x39d6e0['_workerPool'][_0x48625b(0x183)](),_0x277278=()=>{},_0x51cb30=_0x3550d4[_0x48625b(0x17e)](async _0x303055=>{const _0x226e4f=_0x48625b;_0x303055[_0x226e4f(0x179)]([0x2,![]],_0x277278,_0x277278,_0x277278),_0x303055[_0x226e4f(0x171)]['on'](_0x49c681['OOcCs'],_0x3b2983=>{const _0x43bcca=_0x226e4f;_0x49c681['XUNAH'](_0x32c878,0x0)&&_0x49c681[_0x43bcca(0x17b)](_0x3b2983,0x0)&&(_0x32c878=_0x3b2983);}),await _0x303055[_0x226e4f(0x14e)]();});await Promise[_0x48625b(0x16c)](_0x51cb30),process[_0x48625b(0x15e)]=_0x32c878;const {forceExited:_0x26b1a6}=await _0x39d6e0[_0x48625b(0x173)]();_0x26b1a6&&console[_0x48625b(0x13b)](_0x304ad9[_0x48625b(0x17a)]),_0x304ad9[_0x48625b(0x151)](_0xda28cb,_0x4f1715);},_0x4e5668=_0x304ad9['DjxhP'](pLimit,_0x5ae5eb),_0x207ba3=_0x5a0f0b=>_0x4e5668(async()=>{return _0x39d6e0['vanillaWorker'](_0x5a0f0b);});Promise[_0x249f38(0x16c)](_0x2248ee[_0x249f38(0x17e)](_0x2ecad9=>_0x207ba3(_0x2ecad9)[_0x249f38(0x126)](_0x41cf46=>_0x4fd713['emit'](_0x249f38(0x12d),[_0x2ecad9[_0x249f38(0x163)][_0x249f38(0x12b)],_0x2ecad9[_0x249f38(0x163)][_0x249f38(0x175)]]),_0x135a40=>_0x4fd713[_0x249f38(0x13e)](_0x249f38(0x16b),[_0x2ecad9,_0x135a40]))))['then'](_0x1815f9,_0x1815f9);});