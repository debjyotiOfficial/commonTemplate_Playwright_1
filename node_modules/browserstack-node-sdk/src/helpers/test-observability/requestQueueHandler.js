const a119_0x21d67c=a119_0x1cab;(function(_0xa81aa,_0x5713d1){const _0x208cb8=a119_0x1cab,_0x20f77d=_0xa81aa();while(!![]){try{const _0x2885fb=-parseInt(_0x208cb8(0xfe))/0x1+-parseInt(_0x208cb8(0x11f))/0x2*(parseInt(_0x208cb8(0x113))/0x3)+parseInt(_0x208cb8(0x101))/0x4+parseInt(_0x208cb8(0x10d))/0x5*(-parseInt(_0x208cb8(0xde))/0x6)+-parseInt(_0x208cb8(0x126))/0x7+-parseInt(_0x208cb8(0x141))/0x8+parseInt(_0x208cb8(0x128))/0x9*(parseInt(_0x208cb8(0xfb))/0xa);if(_0x2885fb===_0x5713d1)break;else _0x20f77d['push'](_0x20f77d['shift']());}catch(_0x53f66a){_0x20f77d['push'](_0x20f77d['shift']());}}}(a119_0x26d7,0xe1084));const {BATCH_SIZE,BATCH_INTERVAL,DEFAULT_WAIT_TIMEOUT_FOR_PENDING_UPLOADS,DEFAULT_WAIT_INTERVAL_FOR_PENDING_UPLOADS}=require('./constants'),{nodeRequest,debug,trace,sleep,getDefaultHeaders}=require(a119_0x21d67c(0x11a)),{nestedKeyValue}=require(a119_0x21d67c(0x11d)),util=require(a119_0x21d67c(0xed)),constants=require(a119_0x21d67c(0x11e));function a119_0x1cab(_0x3eb0f1,_0x4f3981){const _0x26d72c=a119_0x26d7();return a119_0x1cab=function(_0x1cab35,_0x2226dc){_0x1cab35=_0x1cab35-0xcc;let _0x3f563f=_0x26d72c[_0x1cab35];return _0x3f563f;},a119_0x1cab(_0x3eb0f1,_0x4f3981);}class RequestQueueHandler{static [a119_0x21d67c(0x119)];['pendingUploads']=0x0;constructor(){const _0x519223=a119_0x21d67c,_0x1dec31={};_0x1dec31[_0x519223(0xfa)]=_0x519223(0xf2),_0x1dec31[_0x519223(0xff)]=_0x519223(0xe6),_0x1dec31['XIvOl']=_0x519223(0x10f),_0x1dec31[_0x519223(0xee)]=_0x519223(0x13f),_0x1dec31[_0x519223(0x131)]=_0x519223(0x134),_0x1dec31[_0x519223(0x137)]=_0x519223(0x10b),_0x1dec31[_0x519223(0x105)]=_0x519223(0x108),_0x1dec31['uOFuG']=_0x519223(0x121),_0x1dec31[_0x519223(0x130)]=_0x519223(0xeb),_0x1dec31[_0x519223(0x13a)]=_0x519223(0x109),_0x1dec31[_0x519223(0x114)]=_0x519223(0xf4);const _0x22c034=_0x1dec31,_0x8fd447=_0x22c034['BMNqG'][_0x519223(0x11c)]('|');let _0x3c65b2=0x0;while(!![]){switch(_0x8fd447[_0x3c65b2++]){case'0':this['BATCH_EVENT_TYPES']=[_0x22c034[_0x519223(0xff)],_0x22c034[_0x519223(0x13b)],_0x22c034[_0x519223(0xee)],_0x22c034[_0x519223(0x131)],_0x22c034[_0x519223(0x137)],_0x22c034[_0x519223(0x105)],_0x22c034[_0x519223(0x106)]];continue;case'1':this['started']=![];continue;case'2':this[_0x519223(0x132)]=null;continue;case'3':this[_0x519223(0xdf)]=_0x22c034[_0x519223(0x130)];continue;case'4':this[_0x519223(0x100)]=_0x22c034[_0x519223(0x13a)];continue;case'5':this[_0x519223(0x123)]=[];continue;case'6':this[_0x519223(0xe4)]=_0x22c034[_0x519223(0x114)];continue;}break;}}static['getInstance'](){const _0x57ac5e=a119_0x21d67c;return!RequestQueueHandler['instance']&&(RequestQueueHandler[_0x57ac5e(0x119)]=new RequestQueueHandler()),RequestQueueHandler[_0x57ac5e(0x119)];}[a119_0x21d67c(0x124)]=()=>{const _0x13cb71=a119_0x21d67c;!this[_0x13cb71(0x129)]&&(this['started']=!![],this[_0x13cb71(0x13c)]());};[a119_0x21d67c(0xef)]=_0x4c2cb6=>{const _0x455b11=a119_0x21d67c,_0x29bb0a={'rasTO':function(_0x3c01a8,_0x561176){return _0x3c01a8===_0x561176;},'KizlU':_0x455b11(0x12a),'zDHzD':function(_0x3b083d,_0x2caece){return _0x3b083d>_0x2caece;},'sJznH':function(_0x57a924,_0x56f8a6){return _0x57a924===_0x56f8a6;},'fgcJZ':'TEST_ATTACHMENT','OfmoV':function(_0x3b5c5a,_0x4058cd){return _0x3b5c5a!==_0x4058cd;},'NMfyb':_0x455b11(0x13f),'xasjD':function(_0x5f54dc,_0x458600){return _0x5f54dc(_0x458600);},'Jwejj':_0x455b11(0xf8)};if(this[_0x455b11(0x117)][_0x455b11(0xec)](_0x4c2cb6['event_type'])){if(_0x4c2cb6['logs']&&_0x4c2cb6[_0x455b11(0x135)][0x0]&&_0x29bb0a[_0x455b11(0xce)](_0x4c2cb6['logs'][0x0][_0x455b11(0x139)],_0x29bb0a['KizlU'])){const _0x1826be={};return _0x1826be['shouldProceed']=!![],_0x1826be[_0x455b11(0xd1)]=[_0x4c2cb6],_0x1826be[_0x455b11(0xf9)]=this['screenshotEventUrl'],_0x1826be;}if(_0x4c2cb6[_0x455b11(0x135)]&&_0x29bb0a[_0x455b11(0xd2)](_0x4c2cb6[_0x455b11(0x135)][_0x455b11(0x11b)],0x0)&&_0x29bb0a[_0x455b11(0x115)](_0x4c2cb6['logs'][0x0]['kind'],_0x29bb0a['fgcJZ'])&&_0x29bb0a[_0x455b11(0xe3)](_0x4c2cb6[_0x455b11(0xf5)],_0x29bb0a['NMfyb'])){const _0xa13295={};return _0xa13295['shouldProceed']=!![],_0xa13295[_0x455b11(0xd1)]=[_0x4c2cb6],_0xa13295[_0x455b11(0xf9)]=this[_0x455b11(0x100)],_0xa13295;}this[_0x455b11(0x123)]['push'](_0x4c2cb6);let _0x1139fd=null;const _0x4631b5=this[_0x455b11(0x12f)]();_0x4631b5&&(_0x29bb0a[_0x455b11(0xe5)](trace,_0x29bb0a[_0x455b11(0xd0)]),_0x1139fd=this[_0x455b11(0x123)]['slice'](0x0,BATCH_SIZE),this[_0x455b11(0x123)]['splice'](0x0,BATCH_SIZE),this['resetEventBatchPolling']());const _0x4c2fab={};return _0x4c2fab[_0x455b11(0x12f)]=_0x4631b5,_0x4c2fab[_0x455b11(0xd1)]=_0x1139fd,_0x4c2fab['proceedWithUrl']=this['eventUrl'],_0x4c2fab;}const _0x47b4d4={};return _0x47b4d4[_0x455b11(0x12f)]=!![],_0x47b4d4;};['shutdown']=async()=>{const _0x2939b4=a119_0x21d67c,_0x4a0106={'kZMuD':'REMOVING','qoWzP':function(_0x1aab63,_0xaae161){return _0x1aab63>_0xaae161;},'VlRfb':_0x2939b4(0xd6),'AsCDT':function(_0x26da19,_0x264932){return _0x26da19>_0x264932;},'IPTna':function(_0x2b1c68,_0x43a6cc){return _0x2b1c68(_0x43a6cc);}};await this[_0x2939b4(0x120)](),this[_0x2939b4(0xe8)](_0x4a0106[_0x2939b4(0xd9)]);while(_0x4a0106['qoWzP'](this[_0x2939b4(0x123)][_0x2939b4(0x11b)],0x0)){const _0x218634=this['queue'][_0x2939b4(0xf6)](0x0,BATCH_SIZE);this['queue'][_0x2939b4(0xf7)](0x0,BATCH_SIZE),await this[_0x2939b4(0x112)](this[_0x2939b4(0xe4)],_0x4a0106[_0x2939b4(0xf0)],_0x218634);}_0x4a0106[_0x2939b4(0x125)](this[_0x2939b4(0xd3)],0x0)&&_0x4a0106[_0x2939b4(0x102)](debug,_0x2939b4(0x10a)+this[_0x2939b4(0xd3)]);};[a119_0x21d67c(0x112)]=async(_0x2906d6,_0x33fdaf,_0x502873)=>{const _0x172f8d=a119_0x21d67c,_0x419167={'xWyWu':function(_0x2a638c,_0x26355a){return _0x2a638c(_0x26355a);},'TYZmJ':'utf8','cpEit':function(_0x4bb48f){return _0x4bb48f();},'GlbvP':function(_0x15c69b,_0x4bb06c,_0x2eaca6,_0x453e8e,_0x46993e){return _0x15c69b(_0x4bb06c,_0x2eaca6,_0x453e8e,_0x46993e);},'kEDWz':'POST','WdUSF':function(_0x531b70,_0x58a6b0){return _0x531b70(_0x58a6b0);},'wPIVC':function(_0x14f303,_0x594a45){return _0x14f303-_0x594a45;},'GQIln':function(_0x417bd1,_0x167f43){return _0x417bd1(_0x167f43);},'lpHAR':function(_0x3ad0f6,_0x5c7f22){return _0x3ad0f6(_0x5c7f22);},'WayTM':function(_0xc2d8c,_0xd15950){return _0xc2d8c-_0xd15950;}};let _0x1dec9e='';try{_0x1dec9e=_0x502873[_0x172f8d(0xcd)](_0x3fe3e3=>'\x27'+_0x3fe3e3[_0x172f8d(0xf5)]+'\x27:'+(nestedKeyValue(_0x3fe3e3,['test_run','uuid'])||nestedKeyValue(_0x3fe3e3,[_0x172f8d(0xe9),'uuid'])))['join'](','),_0x419167['xWyWu'](debug,_0x172f8d(0x12c)+_0x33fdaf+_0x172f8d(0x127)+Buffer['byteLength'](util[_0x172f8d(0xdd)]('%j',_0x502873),_0x419167[_0x172f8d(0x140)])+_0x172f8d(0x107)+_0x1dec9e);}catch(_0x167030){_0x419167['xWyWu'](debug,_0x172f8d(0xcc)+util[_0x172f8d(0xdd)](_0x167030)+'}');}const _0x2b8192={'headers':_0x419167[_0x172f8d(0x10c)](getDefaultHeaders)};try{const _0x5f0d0f=await _0x419167[_0x172f8d(0x12e)](nodeRequest,_0x419167[_0x172f8d(0x122)],_0x2906d6,_0x502873,_0x2b8192);if(_0x5f0d0f[_0x172f8d(0xf1)]['error']){const _0x4732aa={};_0x4732aa[_0x172f8d(0x13d)]=_0x5f0d0f[_0x172f8d(0xf1)]['error'];throw _0x4732aa;}else _0x419167[_0x172f8d(0xf3)](debug,_0x33fdaf+_0x172f8d(0xd7)+_0x1dec9e+_0x172f8d(0x104)+util['format']('%j',_0x5f0d0f[_0x172f8d(0xf1)])),this['pendingUploads']=Math[_0x172f8d(0xda)](0x0,_0x419167['wPIVC'](this[_0x172f8d(0xd3)],_0x502873[_0x172f8d(0x11b)]));}catch(_0x26b6ac){_0x26b6ac[_0x172f8d(0x10e)]?_0x419167[_0x172f8d(0xe7)](debug,_0x172f8d(0xd4)+_0x33fdaf+_0x172f8d(0x103)+constants[_0x172f8d(0xe1)]+_0x172f8d(0xe2)+_0x26b6ac[_0x172f8d(0x10e)][_0x172f8d(0xdc)]+'\x20'+_0x26b6ac[_0x172f8d(0x10e)][_0x172f8d(0x116)]+'\x20'+util['format']('%j',_0x26b6ac[_0x172f8d(0x10e)])):_0x419167[_0x172f8d(0x111)](debug,'EXCEPTION\x20IN\x20'+_0x33fdaf+'\x20REQUEST\x20TO\x20'+constants[_0x172f8d(0xe1)]+_0x172f8d(0xe2)+(_0x26b6ac['message']||_0x26b6ac)),this[_0x172f8d(0xd3)]=Math[_0x172f8d(0xda)](0x0,_0x419167[_0x172f8d(0xd8)](this['pendingUploads'],_0x502873[_0x172f8d(0x11b)]));}};[a119_0x21d67c(0x13c)]=()=>{const _0x4630e1=a119_0x21d67c,_0x305a47={'JTyki':function(_0x616fb8,_0x505927){return _0x616fb8>_0x505927;},'Hiuop':function(_0x5d9d80,_0x1d62ef){return _0x5d9d80(_0x1d62ef);},'YCtqr':_0x4630e1(0x142),'NtxEC':function(_0x1ef282,_0x4ef37e){return _0x1ef282(_0x4ef37e);},'SVcRL':function(_0x27723c,_0xd5e994,_0x4057b2){return _0x27723c(_0xd5e994,_0x4057b2);}};this[_0x4630e1(0x132)]=_0x305a47[_0x4630e1(0xfd)](setInterval,async()=>{const _0x30ef01=_0x4630e1;if(_0x305a47['JTyki'](this[_0x30ef01(0x123)][_0x30ef01(0x11b)],0x0)){_0x305a47[_0x30ef01(0x110)](trace,_0x30ef01(0xd5)+this[_0x30ef01(0x123)][_0x30ef01(0x11b)]);const _0x55a599=this['queue']['slice'](0x0,BATCH_SIZE);this[_0x30ef01(0x123)][_0x30ef01(0xf7)](0x0,BATCH_SIZE),await this[_0x30ef01(0x112)](this[_0x30ef01(0xe4)],_0x305a47[_0x30ef01(0x12b)],_0x55a599),_0x305a47['NtxEC'](trace,_0x30ef01(0xe0)+this['queue'][_0x30ef01(0x11b)]);}},BATCH_INTERVAL);};[a119_0x21d67c(0x136)]=()=>{const _0xe88af5=a119_0x21d67c,_0x5a6587={};_0x5a6587['CyFvy']=_0xe88af5(0x118);const _0x4ed6f0=_0x5a6587;this['removeEventBatchPolling'](_0x4ed6f0[_0xe88af5(0x13e)]),this[_0xe88af5(0x13c)]();};['removeEventBatchPolling']=_0x526c76=>{const _0x7631e3=a119_0x21d67c,_0x3bb0ce={'peDSc':function(_0x24a104,_0x49c9be){return _0x24a104(_0x49c9be);},'ifvyI':function(_0x28da13,_0x1ae322){return _0x28da13===_0x1ae322;},'PAvPL':_0x7631e3(0x138)};this[_0x7631e3(0x132)]&&(_0x3bb0ce['peDSc'](clearInterval,this[_0x7631e3(0x132)]),this[_0x7631e3(0x132)]=null,_0x3bb0ce['ifvyI'](_0x526c76,_0x3bb0ce[_0x7631e3(0xdb)])&&(this[_0x7631e3(0x129)]=![]));};[a119_0x21d67c(0x12f)]=()=>{const _0x59ba88=a119_0x21d67c,_0x406c0a={};_0x406c0a[_0x59ba88(0x12d)]=function(_0x559724,_0x3eeeb8){return _0x559724>=_0x3eeeb8;};const _0xdec15a=_0x406c0a;return _0xdec15a['gizSD'](this['queue'][_0x59ba88(0x11b)],BATCH_SIZE);};async[a119_0x21d67c(0x120)](_0x3f6fae=DEFAULT_WAIT_TIMEOUT_FOR_PENDING_UPLOADS,_0x376b6d=DEFAULT_WAIT_INTERVAL_FOR_PENDING_UPLOADS){const _0x5492b5=a119_0x21d67c,_0x287d4a={'YZzGo':function(_0x67aabb,_0x3a0c20){return _0x67aabb<=_0x3a0c20;},'Eotfb':function(_0x40f88d,_0x44cf6d){return _0x40f88d<=_0x44cf6d;},'acCDv':function(_0x2eede9,_0x69fd31){return _0x2eede9(_0x69fd31);},'jEkgO':function(_0x4d8ac7,_0x578b21){return _0x4d8ac7-_0x578b21;}};if(_0x287d4a[_0x5492b5(0xea)](this[_0x5492b5(0xd3)],0x0)||_0x287d4a[_0x5492b5(0xfc)](_0x3f6fae,0x0))return;return await _0x287d4a['acCDv'](sleep,_0x376b6d),this['uploadPending'](_0x287d4a[_0x5492b5(0xcf)](_0x3f6fae,_0x376b6d));}}module[a119_0x21d67c(0x133)]=RequestQueueHandler;function a119_0x26d7(){const _0x4daafa=['Eotfb','SVcRL','712831YySvYa','RQNZQ','uploadAttachmentUrl','2770028owtrmM','IPTna','\x20REQUEST\x20TO\x20','\x20--\x20','oKStR','uOFuG','\x20bytes.\x20Events\x20are\x20','TestRunStarted','upload-attachments','Shutting\x20down\x20request\x20batcher\x20with\x20pending\x20uploads\x20still\x20in\x20queue.\x20Remaining\x20uploads\x20','HookRunFinished','cpEit','25IAoDqQ','response','CBTSessionCreated','Hiuop','lpHAR','batchAndPostEvents','2116149dIZQEM','uNPxh','sJznH','statusText','BATCH_EVENT_TYPES','RESETTING','instance','./utils','length','split','../helper','../../bin/utils/constants','4zuammK','uploadPending','HookRunStarted','kEDWz','queue','start','AsCDT','5548046iGSAQN','.\x20Request\x20Size\x20-\x20','4734FmJqIh','started','TEST_SCREENSHOT','YCtqr','Processing\x20batch\x20events\x20for\x20','gizSD','GlbvP','shouldProceed','cmPrh','Lwrky','pollEventBatchInterval','exports','TestRunSkipped','logs','resetEventBatchPolling','WONYT','REMOVING','kind','qMkbN','XIvOl','startEventBatchPolling','message','CyFvy','TestRunFinished','TYZmJ','4538920RQlJfp','Interval-Queue','Exception\x20in\x20logging\x20batch\x20events\x20--\x20','map','rasTO','jEkgO','Jwejj','proceedWithData','zDHzD','pendingUploads','EXCEPTION\x20IN\x20','Processing\x20events.\x20Queue\x20Length\x20-\x20','Shutdown-Queue','\x20event\x20successful\x20for\x20events\x20','WayTM','kZMuD','max','PAvPL','status','format','2001858ARuKps','screenshotEventUrl','Remaining\x20Queue\x20Length\x20-\x20','TEST_REPORTING_ANALYTICS','\x20:\x20','OfmoV','eventUrl','xasjD','LogCreated','GQIln','removeEventBatchPolling','hook_run','YZzGo','api/v1/screenshots','includes','util','qXONJ','add','VlRfb','data','5|1|6|3|4|0|2','WdUSF','api/v1/batch','event_type','slice','splice','Batch\x20event\x20length\x20has\x20increased\x20maximum\x20batch\x20size.\x20Sending\x20events..','proceedWithUrl','BMNqG','102300eVwTJv'];a119_0x26d7=function(){return _0x4daafa;};return a119_0x26d7();}