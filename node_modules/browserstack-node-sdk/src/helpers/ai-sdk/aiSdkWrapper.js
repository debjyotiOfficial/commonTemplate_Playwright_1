const a90_0x19f5e1=a90_0x1f02;(function(_0x5e4cd9,_0x126acd){const _0x12bb8d=a90_0x1f02,_0xc52afc=_0x5e4cd9();while(!![]){try{const _0x12a85d=-parseInt(_0x12bb8d(0xde))/0x1+parseInt(_0x12bb8d(0xf8))/0x2+parseInt(_0x12bb8d(0x106))/0x3*(-parseInt(_0x12bb8d(0x11b))/0x4)+-parseInt(_0x12bb8d(0xfd))/0x5*(parseInt(_0x12bb8d(0xe0))/0x6)+-parseInt(_0x12bb8d(0x119))/0x7*(-parseInt(_0x12bb8d(0x11e))/0x8)+parseInt(_0x12bb8d(0x100))/0x9+-parseInt(_0x12bb8d(0x10c))/0xa*(parseInt(_0x12bb8d(0x118))/0xb);if(_0x12a85d===_0x126acd)break;else _0xc52afc['push'](_0xc52afc['shift']());}catch(_0x10bad8){_0xc52afc['push'](_0xc52afc['shift']());}}}(a90_0x5bfb,0x4acef));function a90_0x1f02(_0x3b355a,_0x15397a){const _0x5bfbb1=a90_0x5bfb();return a90_0x1f02=function(_0x1f0272,_0x2015ce){_0x1f0272=_0x1f0272-0xd2;let _0x1ba344=_0x5bfbb1[_0x1f0272];return _0x1ba344;},a90_0x1f02(_0x3b355a,_0x15397a);}const path=require('path'),{commandRepository}=require(a90_0x19f5e1(0x124)),constants=require('../../bin/utils/constants'),logger=require(a90_0x19f5e1(0x107))['winstonLogger'],globals=require(a90_0x19f5e1(0xdb)),timeoutPromise=require(a90_0x19f5e1(0x101)),isUndefinedOrNull=_0x50bbc2=>_0x50bbc2===undefined||_0x50bbc2===null||_0x50bbc2==='',isNotUndefinedOrNull=_0x336a07=>!isUndefinedOrNull(_0x336a07),isString=_0x233e7e=>isNotUndefinedOrNull(_0x233e7e)&&typeof _0x233e7e===a90_0x19f5e1(0xf7);class AiSdkWrapper{constructor(){const _0x26081c=a90_0x19f5e1,_0x23564f={'arttj':function(_0x1ef2b8,_0x2eaf27){return _0x1ef2b8(_0x2eaf27);},'EWJhO':'../../ai-sdk-node/bundle'};this[_0x26081c(0x149)]=undefined;try{this[_0x26081c(0x149)]=_0x23564f[_0x26081c(0xf0)](require,path[_0x26081c(0xf5)](__dirname,_0x23564f[_0x26081c(0x125)]));}catch(_0x2a6329){logger[_0x26081c(0x148)](_0x26081c(0x12b)+(_0x2a6329&&_0x2a6329[_0x26081c(0x110)]?_0x2a6329['message']:''));}}[a90_0x19f5e1(0xf3)](_0x4e8a76){const _0x1854d2=a90_0x19f5e1,_0x6b2998={};_0x6b2998[_0x1854d2(0x13b)]='newCapabilities',_0x6b2998['IWGOM']=function(_0x5c8448,_0x4e271e){return _0x5c8448===_0x4e271e;},_0x6b2998['znWCU']=_0x1854d2(0x12a),_0x6b2998[_0x1854d2(0x13d)]=_0x1854d2(0x128),_0x6b2998[_0x1854d2(0x11a)]=_0x1854d2(0x14a),_0x6b2998[_0x1854d2(0xe1)]=function(_0x19b33a,_0xebe5da){return _0x19b33a===_0xebe5da;},_0x6b2998[_0x1854d2(0xe8)]=_0x1854d2(0x131),_0x6b2998[_0x1854d2(0xea)]=_0x1854d2(0x145);const _0x2affbc=_0x6b2998;try{const _0x44c560=this[_0x1854d2(0x149)]['initializeCapabilities'](Object[_0x1854d2(0xef)](_0x4e8a76[_0x1854d2(0x11f)]()['map_']));console[_0x1854d2(0xd9)](_0x2affbc[_0x1854d2(0x13b)],_0x44c560);if(_0x2affbc[_0x1854d2(0xd2)](_0x44c560?.[_0x1854d2(0xd4)]?.['toLowerCase'](),_0x2affbc['znWCU']))_0x4e8a76[_0x1854d2(0xd5)]=_0x44c560;else{if(_0x2affbc[_0x1854d2(0xd2)](_0x44c560?.[_0x1854d2(0xd4)]?.[_0x1854d2(0x147)](),_0x2affbc['XzwxR']))_0x4e8a76['firefoxOptions_']=_0x44c560;else{if(_0x2affbc[_0x1854d2(0xd2)](_0x44c560?.[_0x1854d2(0xd4)]?.[_0x1854d2(0x147)](),_0x2affbc[_0x1854d2(0x11a)]))_0x4e8a76[_0x1854d2(0x11c)]=_0x44c560;else{if(_0x2affbc[_0x1854d2(0xe1)](_0x44c560?.['browserName']?.[_0x1854d2(0x147)](),_0x2affbc[_0x1854d2(0xe8)])||_0x2affbc[_0x1854d2(0xd2)](_0x44c560?.[_0x1854d2(0xd4)]?.['toLowerCase'](),_0x2affbc[_0x1854d2(0xea)]))_0x4e8a76[_0x1854d2(0x132)]=_0x44c560;else _0x2affbc[_0x1854d2(0xe1)](_0x44c560?.[_0x1854d2(0xd4)]?.[_0x1854d2(0x147)](),'ie')&&(_0x4e8a76[_0x1854d2(0xfa)]=_0x44c560);}}}Object[_0x1854d2(0x13a)](_0x44c560)[_0x1854d2(0x14b)](_0x281ca5=>{const _0x97752c=_0x1854d2,_0x17deb3=_0x4e8a76[_0x97752c(0xd7)][_0x97752c(0xe2)](_0x281ca5);_0x4e8a76['capabilities_'][_0x97752c(0xf1)](_0x281ca5,_0x44c560[_0x281ca5]);});}catch(_0x1e8952){logger[_0x1854d2(0x148)](_0x1854d2(0xfe)+(_0x1e8952&&_0x1e8952[_0x1854d2(0x110)]?_0x1e8952[_0x1854d2(0x110)]:''));}}async[a90_0x19f5e1(0xed)](_0x2d427f){const _0x8c33e6=a90_0x19f5e1,_0x4e480b={'NHaCf':function(_0x5ac20c,_0x34cb7d,_0x3bbf24,_0x58ed16,_0x4dbe47,_0x41d8ec,_0x547f32){return _0x5ac20c(_0x34cb7d,_0x3bbf24,_0x58ed16,_0x4dbe47,_0x41d8ec,_0x547f32);},'shhlS':_0x8c33e6(0x10d),'zQApw':_0x8c33e6(0xfc),'pqmYi':'aiHeal_sessionToken'},_0x407ebf=new Date(),_0x9f5648=_0x4e480b['NHaCf'](timeoutPromise,constants['SET_TCG_TOKEN_TIMEOUT'],_0x4e480b['shhlS'],_0x4e480b[_0x8c33e6(0xee)],_0x407ebf,this[_0x8c33e6(0x10e)],this[_0x8c33e6(0x133)]);await Promise[_0x8c33e6(0xf2)]([this[_0x8c33e6(0x149)]['setToken'](_0x2d427f,globals['getGlobal'](_0x4e480b[_0x8c33e6(0x134)]),constants['TCG_URL'])[_0x8c33e6(0x138)](()=>{const _0x14adfa=_0x8c33e6;_0x9f5648[_0x14adfa(0xfb)]();}),_0x9f5648]);}async[a90_0x19f5e1(0x143)](_0xc2a74d,_0x1991de,_0x13ffd4,_0xf9d07b){const _0x5a74e1=a90_0x19f5e1,_0x226aab={'GZxJm':function(_0x52575d,_0x6b2ca2){return _0x52575d===_0x6b2ca2;},'iCXYU':function(_0x5223f8,_0x243a47){return _0x5223f8(_0x243a47);},'Wocfo':function(_0x276c96,_0x14ac57){return _0x276c96(_0x14ac57);},'HOGaF':function(_0x2b0350,_0x183a16){return _0x2b0350(_0x183a16);},'IDnTi':function(_0x3a2fdf,_0x22621d){return _0x3a2fdf(_0x22621d);},'ZdjQn':function(_0x25fc21,_0x12761b){return _0x25fc21(_0x12761b);},'ZInFX':function(_0x3ddef9,_0x1b0cde){return _0x3ddef9(_0x1b0cde);},'HYXdL':_0x5a74e1(0x105),'oBvec':function(_0x114676,_0x43ca48){return _0x114676(_0x43ca48);},'GEVZz':function(_0x1c36b2,_0x187a3c){return _0x1c36b2(_0x187a3c);},'sXVZz':_0x5a74e1(0xf4),'xwrQW':_0x5a74e1(0x120),'POdXu':_0x5a74e1(0x126),'bantA':function(_0xb3b1a3,_0x2e0ce2,_0x4783f8,_0x223ae4,_0x201609,_0x4a7f92,_0x29336f){return _0xb3b1a3(_0x2e0ce2,_0x4783f8,_0x223ae4,_0x201609,_0x4a7f92,_0x29336f);},'NxRtP':_0x5a74e1(0x129),'BraGh':_0x5a74e1(0x13e),'KzMBZ':function(_0x2bf11f,_0x12c7e3,_0x2e2bcf,_0x2705a5,_0x5b4c7e,_0x4648ac,_0x16b97e){return _0x2bf11f(_0x12c7e3,_0x2e2bcf,_0x2705a5,_0x5b4c7e,_0x4648ac,_0x16b97e);},'dsJXX':_0x5a74e1(0xeb),'wbpIH':_0x5a74e1(0x113)},_0x252720=(await _0x1991de[_0x5a74e1(0x103)]())['getId']();let _0x568cdb='';if(commandRepository[_0x5a74e1(0x12c)]()&&_0x226aab[_0x5a74e1(0x13c)](_0xf9d07b,![])||_0x226aab[_0x5a74e1(0x13c)](_0xf9d07b,!![])){const _0x160815=_0x226aab[_0x5a74e1(0x142)](isNotUndefinedOrNull,_0x13ffd4['parameters_'][_0x5a74e1(0x13f)])&&_0x226aab[_0x5a74e1(0x142)](isString,_0x13ffd4[_0x5a74e1(0x135)][_0x5a74e1(0x13f)])?_0x13ffd4['parameters_']['using'][_0x5a74e1(0x104)](/'/g,'\x5c\x27')[_0x5a74e1(0x104)](/"/g,'\x5c\x22'):'',_0x4c200f=_0x226aab['Wocfo'](isNotUndefinedOrNull,_0x13ffd4[_0x5a74e1(0x135)][_0x5a74e1(0x13f)])&&_0x226aab['HOGaF'](isString,_0x13ffd4[_0x5a74e1(0x135)]['value'])?_0x13ffd4[_0x5a74e1(0x135)][_0x5a74e1(0xda)]['replace'](/'/g,'\x5c\x27')[_0x5a74e1(0x104)](/"/g,'\x5c\x22'):'',_0x13d702=_0x226aab[_0x5a74e1(0x116)](isNotUndefinedOrNull,commandRepository[_0x5a74e1(0x10f)]())&&_0x226aab['IDnTi'](isString,commandRepository[_0x5a74e1(0x10f)]())?commandRepository[_0x5a74e1(0x10f)]()[_0x5a74e1(0x104)](/'/g,'\x5c\x27')['replace'](/"/g,'\x5c\x22'):'';let _0x5e79bb=_0x226aab[_0x5a74e1(0x111)](isNotUndefinedOrNull,global['browserstackSessionName'])&&_0x226aab['Wocfo'](isString,global['browserstackSessionName'])?global[_0x5a74e1(0x141)]['replace'](/'/g,'\x5c\x27')[_0x5a74e1(0x104)](/"/g,'\x5c\x22'):'';!_0x5e79bb&&(_0x5e79bb=_0x226aab[_0x5a74e1(0xdc)](isNotUndefinedOrNull,commandRepository['getTestName']())&&_0x226aab['ZInFX'](isString,commandRepository[_0x5a74e1(0xd3)]())?commandRepository[_0x5a74e1(0xd3)]()[_0x5a74e1(0x104)](/'/g,'\x5c\x27')['replace'](/"/g,'\x5c\x22'):'');let _0xf62277=_0x5a74e1(0x123)+constants[_0x5a74e1(0x127)]+_0x5a74e1(0x109)+constants['TCG_REGION']+_0x5a74e1(0xf6)+constants[_0x5a74e1(0xe4)][_0x5a74e1(0xe6)](_0x226aab['HYXdL'])[0x1]+_0x5a74e1(0xd6);_0xf62277=_0x226aab[_0x5a74e1(0x115)](isNotUndefinedOrNull,_0xf62277)&&_0x226aab[_0x5a74e1(0xd8)](isString,_0xf62277)?_0xf62277[_0x5a74e1(0x104)](/'/g,'\x5c\x27')[_0x5a74e1(0x104)](/"/g,'\x5c\x22'):'';const _0x4fd306=commandRepository[_0x5a74e1(0x144)](_0x252720),_0x2bca50=globals[_0x5a74e1(0x12f)](_0x226aab[_0x5a74e1(0x12e)]),_0x8ccc70=globals[_0x5a74e1(0x12f)](_0x226aab['xwrQW']),_0x59a271=globals[_0x5a74e1(0x12f)](_0x226aab[_0x5a74e1(0xec)]),_0x3babc0=![],_0x1c8632=new Date();if(_0xf9d07b){const _0x5d22f1=_0x226aab[_0x5a74e1(0x140)](timeoutPromise,constants[_0x5a74e1(0x130)],_0x226aab[_0x5a74e1(0x14c)],_0x226aab[_0x5a74e1(0xe3)],_0x1c8632,this[_0x5a74e1(0x10e)],this[_0x5a74e1(0x133)]);_0x568cdb=await Promise[_0x5a74e1(0xf2)]([this['BrowserstackHealing'][_0x5a74e1(0xe7)](_0x160815,_0x4c200f,_0x13d702,_0x5e79bb,_0x8ccc70,_0x252720,_0x4fd306,_0xf62277)['then'](_0x1a5cea=>{const _0x586b8b=_0x5a74e1;return _0x5d22f1[_0x586b8b(0xfb)](),_0x1a5cea;}),_0x5d22f1]);}else{if(commandRepository[_0x5a74e1(0x12c)]()){const _0x5b5b9b=_0x226aab['KzMBZ'](timeoutPromise,constants[_0x5a74e1(0x137)],_0x226aab[_0x5a74e1(0x139)],_0x226aab['wbpIH'],_0x1c8632,this['config'],this['framework']);_0x568cdb=await Promise[_0x5a74e1(0xf2)]([this[_0x5a74e1(0x149)]['healFailure'](_0x160815,_0x4c200f,_0x13d702,_0x5e79bb,_0x2bca50,_0x8ccc70,_0x252720,_0x4fd306,_0x3babc0,_0x59a271,_0xf62277)[_0x5a74e1(0x138)](_0x5d776a=>{return _0x5b5b9b['cancel'](),_0x5d776a;}),_0x5b5b9b]);}}_0x568cdb&&await _0x1991de['executeScript'](_0x568cdb);}}async[a90_0x19f5e1(0x102)](_0x70fc74,_0x50f658,_0x418786){const _0xba28a6=a90_0x19f5e1;try{await this[_0xba28a6(0x143)](_0x70fc74,_0x50f658,_0x418786,!![]);}catch(_0x22da6d){return logger[_0xba28a6(0x148)](_0xba28a6(0x112)+(_0x22da6d&&_0x22da6d[_0xba28a6(0x110)]?_0x22da6d[_0xba28a6(0x110)]:'')),![];}return!![];}async[a90_0x19f5e1(0x122)](_0x21905a,_0x157339,_0x38c02b){const _0x397337=a90_0x19f5e1,_0x552d29={'aisdd':function(_0x2af02c,_0x581efa,_0x3e0a05,_0x538b7a,_0x1dc313,_0x50e8b4,_0x2605c6){return _0x2af02c(_0x581efa,_0x3e0a05,_0x538b7a,_0x1dc313,_0x50e8b4,_0x2605c6);},'HaEdL':_0x397337(0x114),'wfMzz':_0x397337(0x11d),'WYPzg':_0x397337(0xe9)};try{await this[_0x397337(0x143)](_0x21905a,_0x157339,_0x38c02b,![]);const _0x3aed63=(await _0x157339[_0x397337(0x103)]())[_0x397337(0x10a)](),_0x5672cd=new Date(),_0x141fe6=_0x552d29[_0x397337(0x136)](timeoutPromise,constants[_0x397337(0x146)],_0x552d29[_0x397337(0x10b)],_0x552d29['wfMzz'],_0x5672cd,this['config'],this[_0x397337(0x133)]),_0x4223c7=await Promise[_0x397337(0xf2)]([this[_0x397337(0x149)][_0x397337(0xe5)](constants['TCG_URL'],_0x3aed63,globals['getGlobal'](_0x552d29[_0x397337(0x117)]))[_0x397337(0x138)](_0x2575d5=>{const _0x39a158=_0x397337;return _0x141fe6[_0x39a158(0xfb)](),_0x2575d5;}),_0x141fe6]);if(_0x4223c7&&_0x4223c7[_0x397337(0xdf)]&&_0x4223c7['value']){const _0xeb0e90={};return _0xeb0e90['locatorType']=_0x4223c7[_0x397337(0xdf)],_0xeb0e90['locatorValue']=_0x4223c7['value'],_0xeb0e90[_0x397337(0x121)]=!![],_0xeb0e90;}const _0x50beb1={};return _0x50beb1['locatorType']=_0x38c02b[_0x397337(0x135)][_0x397337(0x13f)],_0x50beb1[_0x397337(0xff)]=_0x4223c7['value'],_0x50beb1[_0x397337(0x121)]=!![],_0x50beb1;}catch(_0x4e68a4){return logger[_0x397337(0x108)]('Error\x20in\x20(healing)\x20handling\x20failure\x20event.\x20ERROR:\x20'+(_0x4e68a4&&_0x4e68a4[_0x397337(0x110)]?_0x4e68a4[_0x397337(0x110)]:'')),logger[_0x397337(0xf9)]('Healing\x20Failed,\x20Browserstack\x20AI\x20could\x20not\x20heal\x20the\x20'+_0x38c02b['name_']+'\x20command'),_0x38c02b;}}}function a90_0x5bfb(){const _0x5304a3=['ezVfA','GZxJm','XzwxR','BrowserstackHealingLogDataFailed','using','bantA','browserstackSessionName','iCXYU','_handleEvent','getCommands','microsoftedge','POLL_HEALING_RESULT_TIMEOUT','toLowerCase','error','BrowserstackHealing','safari','forEach','NxRtP','IWGOM','getTestName','browserName','chromeOptions_','\x22}}}','capabilities_','GEVZz','log','value','../globals','ZInFX','aiSdkWrapper','215422KYEtDD','selector','23484MUWyHV','rwahj','get','BraGh','TCG_URL','pollResult','split','logData','DbqUE','aiHeal_sessionToken','gsNrb','BrowserstackHealing.healFailure\x20method\x20timed\x20out','POdXu','setTcgToken','zQApw','fromEntries','arttj','set','race','initializeHealingCapabilities','aiHeal_userId','join','\x22:\x20{\x22endpoint\x22:\x20\x22','string','654128qlTgbJ','info','ieOptions_','cancel','BrowserstackHealingSetTcgTokenFailed','145oXNzMX','Error\x20in\x20initialising\x20healing\x20capabilities\x20,\x20error:\x20','locatorValue','4550832VhpeIf','../../helpers/timeoutPromise','handleSuccess','getSession','replace','s://','389307iQwtFs','../logger','debug','\x22,\x20\x22tcgUrls\x22:\x20{\x22','getId','HaEdL','1616620EfiOmJ','BrowserstackHealing.setToken\x20method\x20timed\x20out','config','getProjectName','message','ZdjQn','Error\x20in\x20(healing)\x20success\x20event.\x20ERROR:\x20','BrowserstackHealingHealFailureFailed','BrowserstackHealing.pollResult\x20method\x20timed\x20out','oBvec','Wocfo','WYPzg','44YszHag','88116MXRasJ','yNxXl','4jWWnJX','safariOptions_','BrowserstackHealingPollResultFailed','368wbnffw','getCapabilities','aiHeal_groupId','aiHealing','handleFailure','{\x22region\x22:\x20\x22','./autoHealHelper','EWJhO','aiHeal_isGroupAIEnabled','TCG_REGION','firefox','BrowserstackHealing.logData\x20method\x20timed\x20out','chrome','Unable\x20to\x20load\x20healing\x20module,\x20error:\x20','isSelfHealEnabled','freeze','sXVZz','getGlobal','HEALING_LOG_DATA_TIMEOUT','edge','edgeOptions_','framework','pqmYi','parameters_','aisdd','HEALING_FAILURE_TIMEOUT','then','dsJXX','keys'];a90_0x5bfb=function(){return _0x5304a3;};return a90_0x5bfb();}exports[a90_0x19f5e1(0xdd)]=Object[a90_0x19f5e1(0x12d)](new AiSdkWrapper());