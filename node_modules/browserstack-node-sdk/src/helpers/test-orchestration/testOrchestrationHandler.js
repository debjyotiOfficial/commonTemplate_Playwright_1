const a127_0x49436f=a127_0x5c0d;function a127_0x5e89(){const _0x27d8bf=['exports','_initializeTestOrdering','isTestOrchestrationEnabled','addToOrderingInstrumentationData','testMatch','BROWSERSTACK_NODE_INDEX','Found\x20test\x20files:\x20','--config','kRlSV','nQByM','Filterted\x20to\x20test\x20files:\x20','104fWEdOP','_shouldLogTestOrderingChecks','vZYGR','jQptL','KphtM','stack','testOrderingServerHandler','rootDir','lQlHe','iVdgp','reorderTestFiles','length','updateBuildIdentifier','../helper','ZgSVm','\x20files','IgoPE','AWMna','[orchestrate]\x20Setting\x20buildIdentifier\x20to\x20buildRunIdentifier:\x20','QYBJk','zoKLn','WXWaK','map','Test\x20Reordering\x20is\x20unavailable\x20because\x20buildName\x20or\x20projectName\x20is\x20null.\x20Please\x20set\x20a\x20non-null\x20value.','debug','230JAgSqD','NQoxa','jest-util','7DdmFIo','path','sybPU','stringify','JQwlr','split','ZpKbs','config','setTestOrderingApplied','3|0|1|4|5|2','3242022QSNtzi','qPXDG','lKASc','winstonLogger','Error\x20finding\x20test\x20files:\x20','orderingInstrumentationData','testObservability','HmjbR','downloadedTestFilesCount','getSplitTestsAPICallCount','VEsQB','183OiLZLI','info','rKNVj','toString','501238dLmOtQ','PzKwI','--listTests','isTestOrderingApplied','orchestrationUtils','uploadedTestFilesCount','BROWSERSTACK_TOTAL_NODE_COUNT','[reorderTestFiles]\x20Test\x20ordering\x20is\x20not\x20supported\x20or\x20enabled','stdout','projectName','buildIdentifier','**/__tests__/**/*.[jt]s?(x)','nodeIndex','YjibJ','jest','TNCWJ','splitTests','1559300dNXYIo','153639tRKHpQ','121396bAoAGV','krxoZ','glob','hsAco','buildName','testOrderingApplied','boNlK','testOrderingEnabled','nkZmJ','../logger','testPathIgnorePatterns','Test\x20orchestration\x20without\x20test\x20ordering','JkzpF','5108pPsboA','isArray','AcAnq','logTestOrderingChecks','DYDns','1800180TOjeMH','jzXNb','./orchestrationUtils','gvZuf','getTestOrderingName','env','XtaqZ','XUjLS'];a127_0x5e89=function(){return _0x27d8bf;};return a127_0x5e89();}(function(_0x57ed51,_0x266b71){const _0x2e29b5=a127_0x5c0d,_0x584bbf=_0x57ed51();while(!![]){try{const _0x4b59ff=parseInt(_0x2e29b5(0x1da))/0x1+-parseInt(_0x2e29b5(0x1fa))/0x2*(parseInt(_0x2e29b5(0x1d6))/0x3)+-parseInt(_0x2e29b5(0x1ff))/0x4+parseInt(_0x2e29b5(0x1eb))/0x5+parseInt(_0x2e29b5(0x1cb))/0x6*(parseInt(_0x2e29b5(0x1c1))/0x7)+-parseInt(_0x2e29b5(0x212))/0x8*(parseInt(_0x2e29b5(0x1ec))/0x9)+parseInt(_0x2e29b5(0x22b))/0xa*(-parseInt(_0x2e29b5(0x1ed))/0xb);if(_0x4b59ff===_0x266b71)break;else _0x584bbf['push'](_0x584bbf['shift']());}catch(_0x3fd06a){_0x584bbf['push'](_0x584bbf['shift']());}}}(a127_0x5e89,0x425e5));function a127_0x5c0d(_0x483240,_0x4d0c03){const _0x5e8902=a127_0x5e89();return a127_0x5c0d=function(_0x5c0dda,_0x591a3a){_0x5c0dda=_0x5c0dda-0x1c1;let _0x4b1e00=_0x5e8902[_0x5c0dda];return _0x4b1e00;},a127_0x5c0d(_0x483240,_0x4d0c03);}const logger=require(a127_0x49436f(0x1f6))[a127_0x49436f(0x1ce)],{isUndefined,isNotUndefined,isTrueString,sanitizedFilePath}=require(a127_0x49436f(0x21f)),TestOrderingServerHandler=require('./testOrderingServerHandler'),OrchestrationUtils=require(a127_0x49436f(0x201)),path=require(a127_0x49436f(0x1c2)),{spawnSync}=require('child_process'),micromatch=require('micromatch'),fs=require('fs');class TestOrchestrationHandler{constructor(_0xf67ce2){const _0x3f725e=a127_0x49436f,_0x504e6e={};_0x504e6e[_0x3f725e(0x216)]=_0x3f725e(0x1ca);const _0x337d19=_0x504e6e,_0x530764=_0x337d19['KphtM'][_0x3f725e(0x1c6)]('|');let _0x309f0c=0x0;while(!![]){switch(_0x530764[_0x309f0c++]){case'0':this[_0x3f725e(0x1d0)]={};continue;case'1':this['testOrderingApplied']=![];continue;case'2':this[_0x3f725e(0x208)]();continue;case'3':this['config']=_0xf67ce2;continue;case'4':this[_0x3f725e(0x218)]=null;continue;case'5':this['orchestrationUtils']=new OrchestrationUtils(_0xf67ce2);continue;}break;}}[a127_0x49436f(0x209)](){const _0x41af08=a127_0x49436f,_0x591ac0={'ZpKbs':function(_0x1e26e8,_0x5d7a1f){return _0x1e26e8(_0x5d7a1f);},'gvZuf':function(_0x55d85a,_0x2a4162){return _0x55d85a(_0x2a4162);},'QYBJk':function(_0x1d24f0,_0xb3f77){return _0x1d24f0(_0xb3f77);},'hlwJS':function(_0x1b652b,_0xd399d8){return _0x1b652b(_0xd399d8);},'sybPU':function(_0x32ca49,_0x5b4b33){return _0x32ca49(_0x5b4b33);},'qRxDF':function(_0x2c86ff,_0x37f328){return _0x2c86ff&&_0x37f328;}},_0x4b601f=_0x591ac0[_0x41af08(0x1c7)](isNotUndefined,this[_0x41af08(0x1c8)])&&(_0x591ac0[_0x41af08(0x1c7)](isUndefined,this[_0x41af08(0x1c8)][_0x41af08(0x1d1)])||_0x591ac0[_0x41af08(0x1c7)](isTrueString,this[_0x41af08(0x1c8)][_0x41af08(0x1d1)])),_0x549b33=this[_0x41af08(0x1de)][_0x41af08(0x1f4)](),_0x5b352c=_0x591ac0[_0x41af08(0x202)](isNotUndefined,this[_0x41af08(0x1c8)])&&_0x591ac0[_0x41af08(0x225)](isNotUndefined,this[_0x41af08(0x1c8)][_0x41af08(0x1e3)]),_0x1c9486=_0x591ac0['hlwJS'](isNotUndefined,this['config'])&&_0x591ac0[_0x41af08(0x1c3)](isNotUndefined,this[_0x41af08(0x1c8)][_0x41af08(0x1f1)]);return _0x591ac0['qRxDF'](_0x4b601f,_0x549b33)&&_0x5b352c&&_0x1c9486;}['_initializeTestOrdering'](){const _0x1a11c0=a127_0x49436f,_0x589c13={};_0x589c13[_0x1a11c0(0x1f5)]='Test\x20orchestration\x20with\x20test\x20ordering\x20enabled',_0x589c13[_0x1a11c0(0x1f0)]=_0x1a11c0(0x1f8);const _0x4370bd=_0x589c13;this['isTestOrchestrationEnabled']()?(this[_0x1a11c0(0x218)]=new TestOrderingServerHandler(this[_0x1a11c0(0x1c8)]),logger[_0x1a11c0(0x1d7)](_0x4370bd[_0x1a11c0(0x1f5)])):(logger[_0x1a11c0(0x22a)](_0x4370bd['hsAco']),this[_0x1a11c0(0x1fd)]());}[a127_0x49436f(0x1fd)](){const _0x2c2e28=a127_0x49436f,_0x1f6ec5={'JQwlr':function(_0x2b18a5,_0xa6e63e){return _0x2b18a5(_0xa6e63e);},'lKASc':function(_0xfba2fb,_0x5ae1fe){return _0xfba2fb(_0x5ae1fe);},'boNlK':function(_0x23926d,_0x3b05e5){return _0x23926d(_0x3b05e5);},'DIqqM':_0x2c2e28(0x229),'HmjbR':function(_0x5ce867,_0xa55b00){return _0x5ce867(_0xa55b00);},'jzXNb':'Test\x20Reordering\x20is\x20unavailable\x20because\x20testReporting\x20is\x20disabled.\x20Please\x20enable\x20it\x20from\x20browserstack.yml\x20file.'};if(!this[_0x2c2e28(0x213)]())return;(!_0x1f6ec5[_0x2c2e28(0x1c5)](isNotUndefined,this[_0x2c2e28(0x1c8)])||!_0x1f6ec5[_0x2c2e28(0x1cd)](isNotUndefined,this[_0x2c2e28(0x1c8)]['buildName'])||!_0x1f6ec5[_0x2c2e28(0x1f3)](isNotUndefined,this[_0x2c2e28(0x1c8)][_0x2c2e28(0x1e3)]))&&logger[_0x2c2e28(0x1d7)](_0x1f6ec5['DIqqM']),_0x1f6ec5['JQwlr'](isNotUndefined,this[_0x2c2e28(0x1c8)])&&_0x1f6ec5[_0x2c2e28(0x1d2)](isNotUndefined,this[_0x2c2e28(0x1c8)]['testObservability'])&&!_0x1f6ec5[_0x2c2e28(0x1cd)](isTrueString,this[_0x2c2e28(0x1c8)][_0x2c2e28(0x1d1)])&&logger[_0x2c2e28(0x1d7)](_0x1f6ec5[_0x2c2e28(0x200)]);}[a127_0x49436f(0x213)](){const _0x396d20=a127_0x49436f;return!this[_0x396d20(0x209)]()&&this[_0x396d20(0x1de)][_0x396d20(0x1f4)]();}[a127_0x49436f(0x1dd)](){const _0x2a7810=a127_0x49436f;return this[_0x2a7810(0x1f2)];}[a127_0x49436f(0x1c9)](_0x2398b2){const _0x16087c=a127_0x49436f,_0x35be09={};_0x35be09[_0x16087c(0x223)]='applied';const _0x6387d3=_0x35be09;this[_0x16087c(0x1f2)]=_0x2398b2,this[_0x16087c(0x20a)](_0x6387d3[_0x16087c(0x223)],_0x2398b2);}['addToOrderingInstrumentationData'](_0x43a774,_0x4d3e63){const _0x520d99=a127_0x49436f;this[_0x520d99(0x1d0)][_0x43a774]=_0x4d3e63;}['getOrderingInstrumentationData'](){const _0x188d51=a127_0x49436f;return this[_0x188d51(0x1d0)];}[a127_0x49436f(0x21e)](){const _0x1a1fd0=a127_0x49436f,_0x3d0ffe={'xkdeV':function(_0x99667d,_0x515967){return _0x99667d(_0x515967);},'iVdgp':function(_0x3948f1,_0x43de0d){return _0x3948f1>_0x43de0d;}},_0x141430=_0x3d0ffe['xkdeV'](parseInt,process['env'][_0x1a1fd0(0x1e0)]||'1'),_0x5b24f6=process[_0x1a1fd0(0x204)]['BROWSERSTACK_BUILD_RUN_IDENTIFIER'];_0x5b24f6&&_0x3d0ffe[_0x1a1fd0(0x21b)](_0x141430,0x1)&&(logger[_0x1a1fd0(0x22a)](_0x1a1fd0(0x224)+_0x5b24f6),this['config'][_0x1a1fd0(0x1e4)]=_0x5b24f6);}async[a127_0x49436f(0x21c)](_0x11aa49){const _0x594560=a127_0x49436f,_0x4472dd={'JkzpF':function(_0xe40b71,_0x1025bc){return _0xe40b71===_0x1025bc;},'qPXDG':function(_0x3453fd,_0x350d54){return _0x3453fd===_0x350d54;},'YjibJ':_0x594560(0x1e1),'WXWaK':function(_0x158eaf,_0x3fc25e){return _0x158eaf===_0x3fc25e;},'jQptL':function(_0x668aed,_0x2962db){return _0x668aed(_0x2962db);},'XUjLS':_0x594560(0x1df),'vZYGR':_0x594560(0x1e6),'LQIKQ':'totalNodes','ZgSVm':_0x594560(0x1d3),'iJexC':'splitTestsAPICallCount'};try{if(!_0x11aa49||!Array[_0x594560(0x1fb)](_0x11aa49)||_0x4472dd[_0x594560(0x1f9)](_0x11aa49[_0x594560(0x21d)],0x0))return null;if(_0x4472dd[_0x594560(0x1cc)](this[_0x594560(0x209)](),![]))return logger[_0x594560(0x22a)](_0x4472dd[_0x594560(0x1e7)]),null;let _0x1bedfb=null;const _0x2da940=this[_0x594560(0x1de)][_0x594560(0x203)]();if(this[_0x594560(0x218)]){const _0x451149=await this['testOrderingServerHandler'][_0x594560(0x1ea)](_0x11aa49,_0x2da940);if(!_0x451149)return null;_0x1bedfb=await this[_0x594560(0x218)]['getOrderedTestFiles'](_0x451149);}if(!_0x1bedfb||!Array[_0x594560(0x1fb)](_0x1bedfb)||_0x4472dd[_0x594560(0x227)](_0x1bedfb[_0x594560(0x21d)],0x0))return null;const _0x3067a9=_0x4472dd[_0x594560(0x215)](parseInt,process['env'][_0x594560(0x20c)]||'0'),_0x1ffd46=_0x4472dd[_0x594560(0x215)](parseInt,process[_0x594560(0x204)][_0x594560(0x1e0)]||'1');return this[_0x594560(0x20a)](_0x4472dd[_0x594560(0x206)],_0x11aa49['length']),this[_0x594560(0x20a)](_0x4472dd[_0x594560(0x214)],_0x3067a9),this[_0x594560(0x20a)](_0x4472dd['LQIKQ'],_0x1ffd46),this['addToOrderingInstrumentationData'](_0x4472dd[_0x594560(0x220)],_0x1bedfb['length']),this[_0x594560(0x20a)](_0x4472dd['iJexC'],this[_0x594560(0x218)]?this[_0x594560(0x218)][_0x594560(0x1d4)]():0x0),_0x1bedfb[_0x594560(0x228)](_0x52ca16=>sanitizedFilePath(_0x52ca16));}catch(_0x13b80e){return logger[_0x594560(0x22a)]('[reorderTestFiles]\x20Error\x20in\x20ordering\x20test\x20files:\x20'+(_0x13b80e[_0x594560(0x217)]||_0x13b80e[_0x594560(0x1d9)]())),null;}}async['findTestFiles'](_0x6ca590,_0x1cffcf,_0xdb0922){const _0x213274=a127_0x49436f,_0x4fb53f={'krxoZ':function(_0x27aeff,_0x247f7d){return _0x27aeff(_0x247f7d);},'NQoxa':'jest-config','TNCWJ':_0x213274(0x22d),'PzKwI':function(_0x1ef0cf,_0x17983b){return _0x1ef0cf(_0x17983b);},'rKNVj':'jest-runner','AcAnq':function(_0xf6eba6,_0x46926c){return _0xf6eba6(_0x46926c);},'YWdHI':_0x213274(0x1ef),'DYDns':_0x213274(0x1e5),'VEsQB':'**/?(*.)+(spec|test).[jt]s?(x)','XtaqZ':function(_0x4e8280,_0x1e3925,_0x7625e0,_0x3a0d0c){return _0x4e8280(_0x1e3925,_0x7625e0,_0x3a0d0c);},'IgoPE':'npx','zoKLn':_0x213274(0x1e8),'kRlSV':_0x213274(0x20e),'nQByM':_0x213274(0x1dc),'lQlHe':'utf-8'};try{const {getTestPathPatterns:_0x3624e7}=_0x4fb53f[_0x213274(0x1ee)](require,_0x4fb53f[_0x213274(0x22c)]),{globsToMatcher:_0x405275}=_0x4fb53f['krxoZ'](require,_0x4fb53f[_0x213274(0x1e9)]),{findRelatedTests:_0xc279b5}=_0x4fb53f[_0x213274(0x1db)](require,_0x4fb53f[_0x213274(0x1d8)]),_0x4c5d23=_0x4fb53f[_0x213274(0x1fc)](require,_0x4fb53f['YWdHI']),_0x2d5467=_0x6ca590[_0x213274(0x20b)]||[_0x4fb53f[_0x213274(0x1fe)],_0x4fb53f[_0x213274(0x1d5)]],_0x122ab5=_0x6ca590[_0x213274(0x1f7)]||[],_0x207f7d=_0x4fb53f[_0x213274(0x205)](spawnSync,_0x4fb53f[_0x213274(0x222)],[_0x4fb53f[_0x213274(0x226)],_0x4fb53f[_0x213274(0x20f)],_0xdb0922,..._0x1cffcf,_0x4fb53f[_0x213274(0x210)]],{'encoding':_0x4fb53f[_0x213274(0x21a)]});let _0xc2c913=[];!_0x207f7d['error']&&(_0xc2c913=_0x207f7d[_0x213274(0x1e2)][_0x213274(0x1c6)]('\x0a')['filter'](Boolean));logger[_0x213274(0x22a)](_0x213274(0x20d)+JSON[_0x213274(0x1c4)](_0xc2c913)+_0x213274(0x221));const _0x2354d3={};_0x2354d3['matchBase']=!![],_0x2354d3['ignore']=_0x122ab5;const _0x509c70=_0x4fb53f['XtaqZ'](micromatch,_0xc2c913,_0x2d5467,_0x2354d3)[_0x213274(0x228)](_0x22aa8b=>path['relative'](_0x6ca590[_0x213274(0x219)],_0x22aa8b));return logger[_0x213274(0x22a)](_0x213274(0x211)+JSON[_0x213274(0x1c4)](_0x509c70)+_0x213274(0x221)),_0x509c70;}catch(_0x3d5a46){return logger[_0x213274(0x22a)](_0x213274(0x1cf)+_0x3d5a46),[];}}}module[a127_0x49436f(0x207)]=TestOrchestrationHandler;